(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))l(x);new MutationObserver(x=>{for(const u of x)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function o(x){const u={};return x.integrity&&(u.integrity=x.integrity),x.referrerPolicy&&(u.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?u.credentials="include":x.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(x){if(x.ep)return;x.ep=!0;const u=o(x);fetch(x.href,u)}})();function Ax(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var Ui={exports:{}},Ln={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function O9(){if(_m)return Ln;_m=1;var c=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function o(l,x,u){var h=null;if(u!==void 0&&(h=""+u),x.key!==void 0&&(h=""+x.key),"key"in x){u={};for(var m in x)m!=="key"&&(u[m]=x[m])}else u=x;return x=u.ref,{$$typeof:c,type:l,key:h,ref:x!==void 0?x:null,props:u}}return Ln.Fragment=a,Ln.jsx=o,Ln.jsxs=o,Ln}var Mm;function U9(){return Mm||(Mm=1,Ui.exports=O9()),Ui.exports}var e=U9(),zi={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function z9(){if(Rm)return Fe;Rm=1;var c=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=E&&O[E]||O["@@iterator"],typeof O=="function"?O:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,B={};function D(O,Z,ie){this.props=O,this.context=Z,this.refs=B,this.updater=ie||p}D.prototype.isReactComponent={},D.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},D.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function C(){}C.prototype=D.prototype;function U(O,Z,ie){this.props=O,this.context=Z,this.refs=B,this.updater=ie||p}var M=U.prototype=new C;M.constructor=U,A(M,D.prototype),M.isPureReactComponent=!0;var S=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function k(O,Z,ie,xe,G,ue){return ie=ue.ref,{$$typeof:c,type:O,key:Z,ref:ie!==void 0?ie:null,props:ue}}function V(O,Z){return k(O.type,Z,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===c}function T(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return Z[ie]})}var z=/\/+/g;function $(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?T(""+O.key):Z.toString(36)}function I(){}function _(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Z,ie,xe,G){var ue=typeof O;(ue==="undefined"||ue==="boolean")&&(O=null);var Q=!1;if(O===null)Q=!0;else switch(ue){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(O.$$typeof){case c:case a:Q=!0;break;case y:return Q=O._init,H(Q(O._payload),Z,ie,xe,G)}}if(Q)return G=G(O),Q=xe===""?"."+$(O,0):xe,S(G)?(ie="",Q!=null&&(ie=Q.replace(z,"$&/")+"/"),H(G,Z,ie,"",function(be){return be})):G!=null&&(R(G)&&(G=V(G,ie+(G.key==null||O&&O.key===G.key?"":(""+G.key).replace(z,"$&/")+"/")+Q)),Z.push(G)),1;Q=0;var de=xe===""?".":xe+":";if(S(O))for(var me=0;me<O.length;me++)xe=O[me],ue=de+$(xe,me),Q+=H(xe,Z,ie,ue,G);else if(me=v(O),typeof me=="function")for(O=me.call(O),me=0;!(xe=O.next()).done;)xe=xe.value,ue=de+$(xe,me++),Q+=H(xe,Z,ie,ue,G);else if(ue==="object"){if(typeof O.then=="function")return H(_(O),Z,ie,xe,G);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Q}function j(O,Z,ie){if(O==null)return O;var xe=[],G=0;return H(O,xe,"","",function(ue){return Z.call(ie,ue,G++)}),xe}function P(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var J=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ce(){}return Fe.Children={map:j,forEach:function(O,Z,ie){j(O,function(){Z.apply(this,arguments)},ie)},count:function(O){var Z=0;return j(O,function(){Z++}),Z},toArray:function(O){return j(O,function(Z){return Z})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Fe.Component=D,Fe.Fragment=o,Fe.Profiler=x,Fe.PureComponent=U,Fe.StrictMode=l,Fe.Suspense=f,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Fe.cache=function(O){return function(){return O.apply(null,arguments)}},Fe.cloneElement=function(O,Z,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var xe=A({},O.props),G=O.key,ue=void 0;if(Z!=null)for(Q in Z.ref!==void 0&&(ue=void 0),Z.key!==void 0&&(G=""+Z.key),Z)!L.call(Z,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&Z.ref===void 0||(xe[Q]=Z[Q]);var Q=arguments.length-2;if(Q===1)xe.children=ie;else if(1<Q){for(var de=Array(Q),me=0;me<Q;me++)de[me]=arguments[me+2];xe.children=de}return k(O.type,G,void 0,void 0,ue,xe)},Fe.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Fe.createElement=function(O,Z,ie){var xe,G={},ue=null;if(Z!=null)for(xe in Z.key!==void 0&&(ue=""+Z.key),Z)L.call(Z,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(G[xe]=Z[xe]);var Q=arguments.length-2;if(Q===1)G.children=ie;else if(1<Q){for(var de=Array(Q),me=0;me<Q;me++)de[me]=arguments[me+2];G.children=de}if(O&&O.defaultProps)for(xe in Q=O.defaultProps,Q)G[xe]===void 0&&(G[xe]=Q[xe]);return k(O,ue,void 0,void 0,null,G)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(O){return{$$typeof:m,render:O}},Fe.isValidElement=R,Fe.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:P}},Fe.memo=function(O,Z){return{$$typeof:g,type:O,compare:Z===void 0?null:Z}},Fe.startTransition=function(O){var Z=N.T,ie={};N.T=ie;try{var xe=O(),G=N.S;G!==null&&G(ie,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(ce,J)}catch(ue){J(ue)}finally{N.T=Z}},Fe.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Fe.use=function(O){return N.H.use(O)},Fe.useActionState=function(O,Z,ie){return N.H.useActionState(O,Z,ie)},Fe.useCallback=function(O,Z){return N.H.useCallback(O,Z)},Fe.useContext=function(O){return N.H.useContext(O)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(O,Z){return N.H.useDeferredValue(O,Z)},Fe.useEffect=function(O,Z,ie){var xe=N.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return xe.useEffect(O,Z)},Fe.useId=function(){return N.H.useId()},Fe.useImperativeHandle=function(O,Z,ie){return N.H.useImperativeHandle(O,Z,ie)},Fe.useInsertionEffect=function(O,Z){return N.H.useInsertionEffect(O,Z)},Fe.useLayoutEffect=function(O,Z){return N.H.useLayoutEffect(O,Z)},Fe.useMemo=function(O,Z){return N.H.useMemo(O,Z)},Fe.useOptimistic=function(O,Z){return N.H.useOptimistic(O,Z)},Fe.useReducer=function(O,Z,ie){return N.H.useReducer(O,Z,ie)},Fe.useRef=function(O){return N.H.useRef(O)},Fe.useState=function(O){return N.H.useState(O)},Fe.useSyncExternalStore=function(O,Z,ie){return N.H.useSyncExternalStore(O,Z,ie)},Fe.useTransition=function(){return N.H.useTransition()},Fe.version="19.1.1",Fe}var Tm;function Fx(){return Tm||(Tm=1,zi.exports=z9()),zi.exports}var F=Fx();const fo=Ax(F);var Vi={exports:{}},On={},qi={exports:{}},Hi={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function V9(){return Pm||(Pm=1,function(c){function a(j,P){var J=j.length;j.push(P);e:for(;0<J;){var ce=J-1>>>1,O=j[ce];if(0<x(O,P))j[ce]=P,j[J]=O,J=ce;else break e}}function o(j){return j.length===0?null:j[0]}function l(j){if(j.length===0)return null;var P=j[0],J=j.pop();if(J!==P){j[0]=J;e:for(var ce=0,O=j.length,Z=O>>>1;ce<Z;){var ie=2*(ce+1)-1,xe=j[ie],G=ie+1,ue=j[G];if(0>x(xe,J))G<O&&0>x(ue,xe)?(j[ce]=ue,j[G]=J,ce=G):(j[ce]=xe,j[ie]=J,ce=ie);else if(G<O&&0>x(ue,J))j[ce]=ue,j[G]=J,ce=G;else break e}}return P}function x(j,P){var J=j.sortIndex-P.sortIndex;return J!==0?J:j.id-P.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;c.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();c.unstable_now=function(){return h.now()-m}}var f=[],g=[],y=1,E=null,v=3,p=!1,A=!1,B=!1,D=!1,C=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function S(j){for(var P=o(g);P!==null;){if(P.callback===null)l(g);else if(P.startTime<=j)l(g),P.sortIndex=P.expirationTime,a(f,P);else break;P=o(g)}}function N(j){if(B=!1,S(j),!A)if(o(f)!==null)A=!0,L||(L=!0,$());else{var P=o(g);P!==null&&H(N,P.startTime-j)}}var L=!1,k=-1,V=5,R=-1;function T(){return D?!0:!(c.unstable_now()-R<V)}function z(){if(D=!1,L){var j=c.unstable_now();R=j;var P=!0;try{e:{A=!1,B&&(B=!1,U(k),k=-1),p=!0;var J=v;try{t:{for(S(j),E=o(f);E!==null&&!(E.expirationTime>j&&T());){var ce=E.callback;if(typeof ce=="function"){E.callback=null,v=E.priorityLevel;var O=ce(E.expirationTime<=j);if(j=c.unstable_now(),typeof O=="function"){E.callback=O,S(j),P=!0;break t}E===o(f)&&l(f),S(j)}else l(f);E=o(f)}if(E!==null)P=!0;else{var Z=o(g);Z!==null&&H(N,Z.startTime-j),P=!1}}break e}finally{E=null,v=J,p=!1}P=void 0}}finally{P?$():L=!1}}}var $;if(typeof M=="function")$=function(){M(z)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,_=I.port2;I.port1.onmessage=z,$=function(){_.postMessage(null)}}else $=function(){C(z,0)};function H(j,P){k=C(function(){j(c.unstable_now())},P)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(j){j.callback=null},c.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<j?Math.floor(1e3/j):5},c.unstable_getCurrentPriorityLevel=function(){return v},c.unstable_next=function(j){switch(v){case 1:case 2:case 3:var P=3;break;default:P=v}var J=v;v=P;try{return j()}finally{v=J}},c.unstable_requestPaint=function(){D=!0},c.unstable_runWithPriority=function(j,P){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var J=v;v=j;try{return P()}finally{v=J}},c.unstable_scheduleCallback=function(j,P,J){var ce=c.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ce+J:ce):J=ce,j){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=J+O,j={id:y++,callback:P,priorityLevel:j,startTime:J,expirationTime:O,sortIndex:-1},J>ce?(j.sortIndex=J,a(g,j),o(f)===null&&j===o(g)&&(B?(U(k),k=-1):B=!0,H(N,J-ce))):(j.sortIndex=O,a(f,j),A||p||(A=!0,L||(L=!0,$()))),j},c.unstable_shouldYield=T,c.unstable_wrapCallback=function(j){var P=v;return function(){var J=v;v=P;try{return j.apply(this,arguments)}finally{v=J}}}}(Hi)),Hi}var Lm;function q9(){return Lm||(Lm=1,qi.exports=V9()),qi.exports}var $i={exports:{}},wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function H9(){if(Om)return wt;Om=1;var c=Fx();function a(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},x=Symbol.for("react.portal");function u(f,g,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:E==null?null:""+E,children:f,containerInfo:g,implementation:y}}var h=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,wt.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return u(f,g,null,y)},wt.flushSync=function(f){var g=h.T,y=l.p;try{if(h.T=null,l.p=2,f)return f()}finally{h.T=g,l.p=y,l.d.f()}},wt.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(f,g))},wt.prefetchDNS=function(f){typeof f=="string"&&l.d.D(f)},wt.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var y=g.as,E=m(y,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,p=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?l.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:v,fetchPriority:p}):y==="script"&&l.d.X(f,{crossOrigin:E,integrity:v,fetchPriority:p,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},wt.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);l.d.M(f,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(f)},wt.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,E=m(y,g.crossOrigin);l.d.L(f,y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},wt.preloadModule=function(f,g){if(typeof f=="string")if(g){var y=m(g.as,g.crossOrigin);l.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(f)},wt.requestFormReset=function(f){l.d.r(f)},wt.unstable_batchedUpdates=function(f,g){return f(g)},wt.useFormState=function(f,g,y){return h.H.useFormState(f,g,y)},wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},wt.version="19.1.1",wt}var Um;function Th(){if(Um)return $i.exports;Um=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(a){console.error(a)}}return c(),$i.exports=H9(),$i.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function $9(){if(zm)return On;zm=1;var c=q9(),a=Fx(),o=Th();function l(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(l(188))}function f(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(l(188));return s!==t?null:t}for(var r=t,n=s;;){var i=r.return;if(i===null)break;var d=i.alternate;if(d===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===d.child){for(d=i.child;d;){if(d===r)return m(i),t;if(d===n)return m(i),s;d=d.sibling}throw Error(l(188))}if(r.return!==n.return)r=i,n=d;else{for(var b=!1,w=i.child;w;){if(w===r){b=!0,r=i,n=d;break}if(w===n){b=!0,n=i,r=d;break}w=w.sibling}if(!b){for(w=d.child;w;){if(w===r){b=!0,r=d,n=i;break}if(w===n){b=!0,n=d,r=i;break}w=w.sibling}if(!b)throw Error(l(189))}}if(r.alternate!==n)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?t:s}function g(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=g(t),s!==null)return s;t=t.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),M=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=z&&t[z]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function _(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case D:return"Profiler";case B:return"StrictMode";case N:return"Suspense";case L:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case p:return"Portal";case M:return(t.displayName||"Context")+".Provider";case U:return(t._context.displayName||"Context")+".Consumer";case S:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return s=t.displayName||null,s!==null?s:_(t.type)||"Memo";case V:s=t._payload,t=t._init;try{return _(t(s))}catch{}}return null}var H=Array.isArray,j=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ce=[],O=-1;function Z(t){return{current:t}}function ie(t){0>O||(t.current=ce[O],ce[O]=null,O--)}function xe(t,s){O++,ce[O]=t.current,t.current=s}var G=Z(null),ue=Z(null),Q=Z(null),de=Z(null);function me(t,s){switch(xe(Q,s),xe(ue,t),xe(G,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?lm(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=lm(s),t=om(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(G),xe(G,t)}function be(){ie(G),ie(ue),ie(Q)}function ae(t){t.memoizedState!==null&&xe(de,t);var s=G.current,r=om(s,t.type);s!==r&&(xe(ue,t),xe(G,r))}function Ae(t){ue.current===t&&(ie(G),ie(ue)),de.current===t&&(ie(de),_n._currentValue=J)}var ct=Object.prototype.hasOwnProperty,at=c.unstable_scheduleCallback,Qe=c.unstable_cancelCallback,tt=c.unstable_shouldYield,_t=c.unstable_requestPaint,dt=c.unstable_now,re=c.unstable_getCurrentPriorityLevel,pe=c.unstable_ImmediatePriority,qe=c.unstable_UserBlockingPriority,Ce=c.unstable_NormalPriority,Ot=c.unstable_LowPriority,Hs=c.unstable_IdlePriority,Cr=c.log,In=c.unstable_setDisableYieldValue,Ua=null,Ut=null;function $s(t){if(typeof Cr=="function"&&In(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Ua,t)}catch{}}var zt=Math.clz32?Math.clz32:Af,Cf=Math.log,Bf=Math.LN2;function Af(t){return t>>>=0,t===0?32:31-(Cf(t)/Bf|0)|0}var Kn=256,Zn=4194304;function Br(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jn(t,s,r){var n=t.pendingLanes;if(n===0)return 0;var i=0,d=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var w=n&134217727;return w!==0?(n=w&~d,n!==0?i=Br(n):(b&=w,b!==0?i=Br(b):r||(r=w&~t,r!==0&&(i=Br(r))))):(w=n&~d,w!==0?i=Br(w):b!==0?i=Br(b):r||(r=n&~t,r!==0&&(i=Br(r)))),i===0?0:s!==0&&s!==i&&(s&d)===0&&(d=i&-i,r=s&-s,d>=r||d===32&&(r&4194048)!==0)?s:i}function za(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Ff(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hx(){var t=Kn;return Kn<<=1,(Kn&4194048)===0&&(Kn=256),t}function $x(){var t=Zn;return Zn<<=1,(Zn&62914560)===0&&(Zn=4194304),t}function Do(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Va(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jf(t,s,r,n,i,d){var b=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var w=t.entanglements,q=t.expirationTimes,ee=t.hiddenUpdates;for(r=b&~r;0<r;){var ne=31-zt(r),oe=1<<ne;w[ne]=0,q[ne]=-1;var te=ee[ne];if(te!==null)for(ee[ne]=null,ne=0;ne<te.length;ne++){var se=te[ne];se!==null&&(se.lane&=-536870913)}r&=~oe}n!==0&&Qx(t,n,0),d!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=d&~(b&~s))}function Qx(t,s,r){t.pendingLanes|=s,t.suspendedLanes&=~s;var n=31-zt(s);t.entangledLanes|=s,t.entanglements[n]=t.entanglements[n]|1073741824|r&4194090}function Yx(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var n=31-zt(r),i=1<<n;i&s|t[n]&s&&(t[n]|=s),r&=~i}}function No(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ko(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gx(){var t=P.p;return t!==0?t:(t=window.event,t===void 0?32:jm(t.type))}function wf(t,s){var r=P.p;try{return P.p=t,s()}finally{P.p=r}}var Qs=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Qs,Mt="__reactProps$"+Qs,Yr="__reactContainer$"+Qs,So="__reactEvents$"+Qs,Df="__reactListeners$"+Qs,Nf="__reactHandles$"+Qs,Xx="__reactResources$"+Qs,qa="__reactMarker$"+Qs;function _o(t){delete t[Ft],delete t[Mt],delete t[So],delete t[Df],delete t[Nf]}function Gr(t){var s=t[Ft];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Yr]||r[Ft]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=dm(t);t!==null;){if(r=t[Ft])return r;t=dm(t)}return s}t=r,r=t.parentNode}return null}function Xr(t){if(t=t[Ft]||t[Yr]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function Ha(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(l(33))}function Ir(t){var s=t[Xx];return s||(s=t[Xx]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function gt(t){t[qa]=!0}var Ix=new Set,Kx={};function Ar(t,s){Kr(t,s),Kr(t+"Capture",s)}function Kr(t,s){for(Kx[t]=s,t=0;t<s.length;t++)Ix.add(s[t])}var kf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zx={},Jx={};function Sf(t){return ct.call(Jx,t)?!0:ct.call(Zx,t)?!1:kf.test(t)?Jx[t]=!0:(Zx[t]=!0,!1)}function Wn(t,s,r){if(Sf(s))if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var n=s.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+r)}}function el(t,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+r)}}function Cs(t,s,r,n){if(n===null)t.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(s,r,""+n)}}var Mo,Wx;function Zr(t){if(Mo===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Mo=s&&s[1]||"",Wx=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mo+t+Wx}var Ro=!1;function To(t,s){if(!t||Ro)return"";Ro=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(se){var te=se}Reflect.construct(t,[],oe)}else{try{oe.call()}catch(se){te=se}t.call(oe.prototype)}}else{try{throw Error()}catch(se){te=se}(oe=t())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(se){if(se&&te&&typeof se.stack=="string")return[se.stack,te.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=n.DetermineComponentFrameRoot(),b=d[0],w=d[1];if(b&&w){var q=b.split(`
`),ee=w.split(`
`);for(i=n=0;n<q.length&&!q[n].includes("DetermineComponentFrameRoot");)n++;for(;i<ee.length&&!ee[i].includes("DetermineComponentFrameRoot");)i++;if(n===q.length||i===ee.length)for(n=q.length-1,i=ee.length-1;1<=n&&0<=i&&q[n]!==ee[i];)i--;for(;1<=n&&0<=i;n--,i--)if(q[n]!==ee[i]){if(n!==1||i!==1)do if(n--,i--,0>i||q[n]!==ee[i]){var ne=`
`+q[n].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=n&&0<=i);break}}}finally{Ro=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Zr(r):""}function _f(t){switch(t.tag){case 26:case 27:case 5:return Zr(t.type);case 16:return Zr("Lazy");case 13:return Zr("Suspense");case 19:return Zr("SuspenseList");case 0:case 15:return To(t.type,!1);case 11:return To(t.type.render,!1);case 1:return To(t.type,!0);case 31:return Zr("Activity");default:return""}}function ec(t){try{var s="";do s+=_f(t),t=t.return;while(t);return s}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tc(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Mf(t){var s=tc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),n=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,d=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return i.call(this)},set:function(b){n=""+b,d.call(this,b)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(b){n=""+b},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function tl(t){t._valueTracker||(t._valueTracker=Mf(t))}function sc(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return t&&(n=tc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(s.setValue(t),!0):!1}function sl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rf=/[\n"\\]/g;function Zt(t){return t.replace(Rf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Po(t,s,r,n,i,d,b,w){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),s!=null?b==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Kt(s)):t.value!==""+Kt(s)&&(t.value=""+Kt(s)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),s!=null?Lo(t,b,Kt(s)):r!=null?Lo(t,b,Kt(r)):n!=null&&t.removeAttribute("value"),i==null&&d!=null&&(t.defaultChecked=!!d),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Kt(w):t.removeAttribute("name")}function rc(t,s,r,n,i,d,b,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||s!=null))return;r=r!=null?""+Kt(r):"",s=s!=null?""+Kt(s):r,w||s===t.value||(t.value=s),t.defaultValue=s}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=w?t.checked:!!n,t.defaultChecked=!!n,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Lo(t,s,r){s==="number"&&sl(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Jr(t,s,r,n){if(t=t.options,s){s={};for(var i=0;i<r.length;i++)s["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=s.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Kt(r),s=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}s!==null||t[i].disabled||(s=t[i])}s!==null&&(s.selected=!0)}}function ac(t,s,r){if(s!=null&&(s=""+Kt(s),s!==t.value&&(t.value=s),r==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=r!=null?""+Kt(r):""}function nc(t,s,r,n){if(s==null){if(n!=null){if(r!=null)throw Error(l(92));if(H(n)){if(1<n.length)throw Error(l(93));n=n[0]}r=n}r==null&&(r=""),s=r}r=Kt(s),t.defaultValue=r,n=t.textContent,n===r&&n!==""&&n!==null&&(t.value=n)}function Wr(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Tf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lc(t,s,r){var n=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":n?t.setProperty(s,r):typeof r!="number"||r===0||Tf.has(s)?s==="float"?t.cssFloat=r:t[s]=(""+r).trim():t[s]=r+"px"}function oc(t,s,r){if(s!=null&&typeof s!="object")throw Error(l(62));if(t=t.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||s!=null&&s.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var i in s)n=s[i],s.hasOwnProperty(i)&&r[i]!==n&&lc(t,i,n)}else for(var d in s)s.hasOwnProperty(d)&&lc(t,d,s[d])}function Oo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(t){return Lf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Uo=null;function zo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ea=null,ta=null;function ic(t){var s=Xr(t);if(s&&(t=s.stateNode)){var r=t[Mt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Po(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Zt(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==t&&n.form===t.form){var i=n[Mt]||null;if(!i)throw Error(l(90));Po(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(s=0;s<r.length;s++)n=r[s],n.form===t.form&&sc(n)}break e;case"textarea":ac(t,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&Jr(t,!!r.multiple,s,!1)}}}var Vo=!1;function xc(t,s,r){if(Vo)return t(s,r);Vo=!0;try{var n=t(s);return n}finally{if(Vo=!1,(ea!==null||ta!==null)&&(ql(),ea&&(s=ea,t=ta,ta=ea=null,ic(s),t)))for(s=0;s<t.length;s++)ic(t[s])}}function $a(t,s){var r=t.stateNode;if(r===null)return null;var n=r[Mt]||null;if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(l(231,s,typeof r));return r}var Bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qo=!1;if(Bs)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){qo=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{qo=!1}var Ys=null,Ho=null,al=null;function cc(){if(al)return al;var t,s=Ho,r=s.length,n,i="value"in Ys?Ys.value:Ys.textContent,d=i.length;for(t=0;t<r&&s[t]===i[t];t++);var b=r-t;for(n=1;n<=b&&s[r-n]===i[d-n];n++);return al=i.slice(t,1<n?1-n:void 0)}function nl(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ll(){return!0}function dc(){return!1}function Rt(t){function s(r,n,i,d,b){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(r=t[w],this[w]=r?r(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ll:dc,this.isPropagationStopped=dc,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),s}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=Rt(Fr),Ya=y({},Fr,{view:0,detail:0}),Of=Rt(Ya),$o,Qo,Ga,il=y({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Go,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ga&&(Ga&&t.type==="mousemove"?($o=t.screenX-Ga.screenX,Qo=t.screenY-Ga.screenY):Qo=$o=0,Ga=t),$o)},movementY:function(t){return"movementY"in t?t.movementY:Qo}}),uc=Rt(il),Uf=y({},il,{dataTransfer:0}),zf=Rt(Uf),Vf=y({},Ya,{relatedTarget:0}),Yo=Rt(Vf),qf=y({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hf=Rt(qf),$f=y({},Fr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qf=Rt($f),Yf=y({},Fr,{data:0}),mc=Rt(Yf),Gf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},If={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kf(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=If[t])?!!s[t]:!1}function Go(){return Kf}var Zf=y({},Ya,{key:function(t){if(t.key){var s=Gf[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=nl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Go,charCode:function(t){return t.type==="keypress"?nl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jf=Rt(Zf),Wf=y({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hc=Rt(Wf),e8=y({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Go}),t8=Rt(e8),s8=y({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),r8=Rt(s8),a8=y({},il,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),n8=Rt(a8),l8=y({},Fr,{newState:0,oldState:0}),o8=Rt(l8),i8=[9,13,27,32],Xo=Bs&&"CompositionEvent"in window,Xa=null;Bs&&"documentMode"in document&&(Xa=document.documentMode);var x8=Bs&&"TextEvent"in window&&!Xa,fc=Bs&&(!Xo||Xa&&8<Xa&&11>=Xa),gc=" ",Ec=!1;function pc(t,s){switch(t){case"keyup":return i8.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sa=!1;function c8(t,s){switch(t){case"compositionend":return bc(s);case"keypress":return s.which!==32?null:(Ec=!0,gc);case"textInput":return t=s.data,t===gc&&Ec?null:t;default:return null}}function d8(t,s){if(sa)return t==="compositionend"||!Xo&&pc(t,s)?(t=cc(),al=Ho=Ys=null,sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fc&&s.locale!=="ko"?null:s.data;default:return null}}var u8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!u8[t.type]:s==="textarea"}function vc(t,s,r,n){ea?ta?ta.push(n):ta=[n]:ea=n,s=Xl(s,"onChange"),0<s.length&&(r=new ol("onChange","change",null,r,n),t.push({event:r,listeners:s}))}var Ia=null,Ka=null;function m8(t){tm(t,0)}function xl(t){var s=Ha(t);if(sc(s))return t}function Cc(t,s){if(t==="change")return s}var Bc=!1;if(Bs){var Io;if(Bs){var Ko="oninput"in document;if(!Ko){var Ac=document.createElement("div");Ac.setAttribute("oninput","return;"),Ko=typeof Ac.oninput=="function"}Io=Ko}else Io=!1;Bc=Io&&(!document.documentMode||9<document.documentMode)}function Fc(){Ia&&(Ia.detachEvent("onpropertychange",jc),Ka=Ia=null)}function jc(t){if(t.propertyName==="value"&&xl(Ka)){var s=[];vc(s,Ka,t,zo(t)),xc(m8,s)}}function h8(t,s,r){t==="focusin"?(Fc(),Ia=s,Ka=r,Ia.attachEvent("onpropertychange",jc)):t==="focusout"&&Fc()}function f8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xl(Ka)}function g8(t,s){if(t==="click")return xl(s)}function E8(t,s){if(t==="input"||t==="change")return xl(s)}function p8(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Vt=typeof Object.is=="function"?Object.is:p8;function Za(t,s){if(Vt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ct.call(s,i)||!Vt(t[i],s[i]))return!1}return!0}function wc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dc(t,s){var r=wc(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=s&&n>=s)return{node:r,offset:s-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wc(r)}}function Nc(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Nc(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function kc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=sl(t.document);s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=sl(t.document)}return s}function Zo(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var b8=Bs&&"documentMode"in document&&11>=document.documentMode,ra=null,Jo=null,Ja=null,Wo=!1;function Sc(t,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wo||ra==null||ra!==sl(n)||(n=ra,"selectionStart"in n&&Zo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ja&&Za(Ja,n)||(Ja=n,n=Xl(Jo,"onSelect"),0<n.length&&(s=new ol("onSelect","select",null,s,r),t.push({event:s,listeners:n}),s.target=ra)))}function jr(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var aa={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},e0={},_c={};Bs&&(_c=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function wr(t){if(e0[t])return e0[t];if(!aa[t])return t;var s=aa[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in _c)return e0[t]=s[r];return t}var Mc=wr("animationend"),Rc=wr("animationiteration"),Tc=wr("animationstart"),y8=wr("transitionrun"),v8=wr("transitionstart"),C8=wr("transitioncancel"),Pc=wr("transitionend"),Lc=new Map,t0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");t0.push("scrollEnd");function ls(t,s){Lc.set(t,s),Ar(s,[t])}var Oc=new WeakMap;function Jt(t,s){if(typeof t=="object"&&t!==null){var r=Oc.get(t);return r!==void 0?r:(s={value:t,source:s,stack:ec(s)},Oc.set(t,s),s)}return{value:t,source:s,stack:ec(s)}}var Wt=[],na=0,s0=0;function cl(){for(var t=na,s=s0=na=0;s<t;){var r=Wt[s];Wt[s++]=null;var n=Wt[s];Wt[s++]=null;var i=Wt[s];Wt[s++]=null;var d=Wt[s];if(Wt[s++]=null,n!==null&&i!==null){var b=n.pending;b===null?i.next=i:(i.next=b.next,b.next=i),n.pending=i}d!==0&&Uc(r,i,d)}}function dl(t,s,r,n){Wt[na++]=t,Wt[na++]=s,Wt[na++]=r,Wt[na++]=n,s0|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function r0(t,s,r,n){return dl(t,s,r,n),ul(t)}function la(t,s){return dl(t,null,null,s),ul(t)}function Uc(t,s,r){t.lanes|=r;var n=t.alternate;n!==null&&(n.lanes|=r);for(var i=!1,d=t.return;d!==null;)d.childLanes|=r,n=d.alternate,n!==null&&(n.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(i=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,i&&s!==null&&(i=31-zt(r),t=d.hiddenUpdates,n=t[i],n===null?t[i]=[s]:n.push(s),s.lane=r|536870912),d):null}function ul(t){if(50<An)throw An=0,xi=null,Error(l(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var oa={};function B8(t,s,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(t,s,r,n){return new B8(t,s,r,n)}function a0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function As(t,s){var r=t.alternate;return r===null?(r=qt(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function zc(t,s){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,s=r.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function ml(t,s,r,n,i,d){var b=0;if(n=t,typeof t=="function")a0(t)&&(b=1);else if(typeof t=="string")b=F9(t,r,G.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=qt(31,r,s,i),t.elementType=R,t.lanes=d,t;case A:return Dr(r.children,i,d,s);case B:b=8,i|=24;break;case D:return t=qt(12,r,s,i|2),t.elementType=D,t.lanes=d,t;case N:return t=qt(13,r,s,i),t.elementType=N,t.lanes=d,t;case L:return t=qt(19,r,s,i),t.elementType=L,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C:case M:b=10;break e;case U:b=9;break e;case S:b=11;break e;case k:b=14;break e;case V:b=16,n=null;break e}b=29,r=Error(l(130,t===null?"null":typeof t,"")),n=null}return s=qt(b,r,s,i),s.elementType=t,s.type=n,s.lanes=d,s}function Dr(t,s,r,n){return t=qt(7,t,n,s),t.lanes=r,t}function n0(t,s,r){return t=qt(6,t,null,s),t.lanes=r,t}function l0(t,s,r){return s=qt(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var ia=[],xa=0,hl=null,fl=0,es=[],ts=0,Nr=null,Fs=1,js="";function kr(t,s){ia[xa++]=fl,ia[xa++]=hl,hl=t,fl=s}function Vc(t,s,r){es[ts++]=Fs,es[ts++]=js,es[ts++]=Nr,Nr=t;var n=Fs;t=js;var i=32-zt(n)-1;n&=~(1<<i),r+=1;var d=32-zt(s)+i;if(30<d){var b=i-i%5;d=(n&(1<<b)-1).toString(32),n>>=b,i-=b,Fs=1<<32-zt(s)+i|r<<i|n,js=d+t}else Fs=1<<d|r<<i|n,js=t}function o0(t){t.return!==null&&(kr(t,1),Vc(t,1,0))}function i0(t){for(;t===hl;)hl=ia[--xa],ia[xa]=null,fl=ia[--xa],ia[xa]=null;for(;t===Nr;)Nr=es[--ts],es[ts]=null,js=es[--ts],es[ts]=null,Fs=es[--ts],es[ts]=null}var Nt=null,We=null,Me=!1,Sr=null,us=!1,x0=Error(l(519));function _r(t){var s=Error(l(418,""));throw tn(Jt(s,t)),x0}function qc(t){var s=t.stateNode,r=t.type,n=t.memoizedProps;switch(s[Ft]=t,s[Mt]=n,r){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(r=0;r<jn.length;r++)ke(jn[r],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ke("invalid",s),rc(s,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),tl(s);break;case"select":ke("invalid",s);break;case"textarea":ke("invalid",s),nc(s,n.value,n.defaultValue,n.children),tl(s)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||n.suppressHydrationWarning===!0||nm(s.textContent,r)?(n.popover!=null&&(ke("beforetoggle",s),ke("toggle",s)),n.onScroll!=null&&ke("scroll",s),n.onScrollEnd!=null&&ke("scrollend",s),n.onClick!=null&&(s.onclick=Il),s=!0):s=!1,s||_r(t)}function Hc(t){for(Nt=t.return;Nt;)switch(Nt.tag){case 5:case 13:us=!1;return;case 27:case 3:us=!0;return;default:Nt=Nt.return}}function Wa(t){if(t!==Nt)return!1;if(!Me)return Hc(t),Me=!0,!1;var s=t.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Fi(t.type,t.memoizedProps)),r=!r),r&&We&&_r(t),Hc(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(s===0){We=is(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++;t=t.nextSibling}We=null}}else s===27?(s=We,ir(t.type)?(t=Ni,Ni=null,We=t):We=s):We=Nt?is(t.stateNode.nextSibling):null;return!0}function en(){We=Nt=null,Me=!1}function $c(){var t=Sr;return t!==null&&(Lt===null?Lt=t:Lt.push.apply(Lt,t),Sr=null),t}function tn(t){Sr===null?Sr=[t]:Sr.push(t)}var c0=Z(null),Mr=null,ws=null;function Gs(t,s,r){xe(c0,s._currentValue),s._currentValue=r}function Ds(t){t._currentValue=c0.current,ie(c0)}function d0(t,s,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),t===r)break;t=t.return}}function u0(t,s,r,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var d=i.dependencies;if(d!==null){var b=i.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=i;for(var q=0;q<s.length;q++)if(w.context===s[q]){d.lanes|=r,w=d.alternate,w!==null&&(w.lanes|=r),d0(d.return,r,t),n||(b=null);break e}d=w.next}}else if(i.tag===18){if(b=i.return,b===null)throw Error(l(341));b.lanes|=r,d=b.alternate,d!==null&&(d.lanes|=r),d0(b,r,t),b=null}else b=i.child;if(b!==null)b.return=i;else for(b=i;b!==null;){if(b===t){b=null;break}if(i=b.sibling,i!==null){i.return=b.return,b=i;break}b=b.return}i=b}}function sn(t,s,r,n){t=null;for(var i=s,d=!1;i!==null;){if(!d){if((i.flags&524288)!==0)d=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var b=i.alternate;if(b===null)throw Error(l(387));if(b=b.memoizedProps,b!==null){var w=i.type;Vt(i.pendingProps.value,b.value)||(t!==null?t.push(w):t=[w])}}else if(i===de.current){if(b=i.alternate,b===null)throw Error(l(387));b.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(_n):t=[_n])}i=i.return}t!==null&&u0(s,t,r,n),s.flags|=262144}function gl(t){for(t=t.firstContext;t!==null;){if(!Vt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rr(t){Mr=t,ws=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function jt(t){return Qc(Mr,t)}function El(t,s){return Mr===null&&Rr(t),Qc(t,s)}function Qc(t,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},ws===null){if(t===null)throw Error(l(308));ws=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ws=ws.next=s;return r}var A8=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(r,n){t.push(n)}};this.abort=function(){s.aborted=!0,t.forEach(function(r){return r()})}},F8=c.unstable_scheduleCallback,j8=c.unstable_NormalPriority,ut={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function m0(){return{controller:new A8,data:new Map,refCount:0}}function rn(t){t.refCount--,t.refCount===0&&F8(j8,function(){t.controller.abort()})}var an=null,h0=0,ca=0,da=null;function w8(t,s){if(an===null){var r=an=[];h0=0,ca=gi(),da={status:"pending",value:void 0,then:function(n){r.push(n)}}}return h0++,s.then(Yc,Yc),s}function Yc(){if(--h0===0&&an!==null){da!==null&&(da.status="fulfilled");var t=an;an=null,ca=0,da=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function D8(t,s){var r=[],n={status:"pending",value:null,reason:null,then:function(i){r.push(i)}};return t.then(function(){n.status="fulfilled",n.value=s;for(var i=0;i<r.length;i++)(0,r[i])(s)},function(i){for(n.status="rejected",n.reason=i,i=0;i<r.length;i++)(0,r[i])(void 0)}),n}var Gc=j.S;j.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&w8(t,s),Gc!==null&&Gc(t,s)};var Tr=Z(null);function f0(){var t=Tr.current;return t!==null?t:Ye.pooledCache}function pl(t,s){s===null?xe(Tr,Tr.current):xe(Tr,s.pool)}function Xc(){var t=f0();return t===null?null:{parent:ut._currentValue,pool:t}}var nn=Error(l(460)),Ic=Error(l(474)),bl=Error(l(542)),g0={then:function(){}};function Kc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yl(){}function Zc(t,s,r){switch(r=t[r],r===void 0?t.push(s):r!==s&&(s.then(yl,yl),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Wc(t),t;default:if(typeof s.status=="string")s.then(yl,yl);else{if(t=Ye,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=s,t.status="pending",t.then(function(n){if(s.status==="pending"){var i=s;i.status="fulfilled",i.value=n}},function(n){if(s.status==="pending"){var i=s;i.status="rejected",i.reason=n}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Wc(t),t}throw ln=s,nn}}var ln=null;function Jc(){if(ln===null)throw Error(l(459));var t=ln;return ln=null,t}function Wc(t){if(t===nn||t===bl)throw Error(l(483))}var Xs=!1;function E0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function p0(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Is(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ks(t,s,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(Te&2)!==0){var i=n.pending;return i===null?s.next=s:(s.next=i.next,i.next=s),n.pending=s,s=ul(t),Uc(t,null,r),s}return dl(t,n,s,r),ul(t)}function on(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,Yx(t,r)}}function b0(t,s){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?i=d=b:d=d.next=b,r=r.next}while(r!==null);d===null?i=d=s:d=d.next=s}else i=d=s;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:d,shared:n.shared,callbacks:n.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}var y0=!1;function xn(){if(y0){var t=da;if(t!==null)throw t}}function cn(t,s,r,n){y0=!1;var i=t.updateQueue;Xs=!1;var d=i.firstBaseUpdate,b=i.lastBaseUpdate,w=i.shared.pending;if(w!==null){i.shared.pending=null;var q=w,ee=q.next;q.next=null,b===null?d=ee:b.next=ee,b=q;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,w=ne.lastBaseUpdate,w!==b&&(w===null?ne.firstBaseUpdate=ee:w.next=ee,ne.lastBaseUpdate=q))}if(d!==null){var oe=i.baseState;b=0,ne=ee=q=null,w=d;do{var te=w.lane&-536870913,se=te!==w.lane;if(se?(Se&te)===te:(n&te)===te){te!==0&&te===ca&&(y0=!0),ne!==null&&(ne=ne.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Be=t,ye=w;te=s;var ze=r;switch(ye.tag){case 1:if(Be=ye.payload,typeof Be=="function"){oe=Be.call(ze,oe,te);break e}oe=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=ye.payload,te=typeof Be=="function"?Be.call(ze,oe,te):Be,te==null)break e;oe=y({},oe,te);break e;case 2:Xs=!0}}te=w.callback,te!==null&&(t.flags|=64,se&&(t.flags|=8192),se=i.callbacks,se===null?i.callbacks=[te]:se.push(te))}else se={lane:te,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ne===null?(ee=ne=se,q=oe):ne=ne.next=se,b|=te;if(w=w.next,w===null){if(w=i.shared.pending,w===null)break;se=w,w=se.next,se.next=null,i.lastBaseUpdate=se,i.shared.pending=null}}while(!0);ne===null&&(q=oe),i.baseState=q,i.firstBaseUpdate=ee,i.lastBaseUpdate=ne,d===null&&(i.shared.lanes=0),ar|=b,t.lanes=b,t.memoizedState=oe}}function ed(t,s){if(typeof t!="function")throw Error(l(191,t));t.call(s)}function td(t,s){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ed(r[t],s)}var ua=Z(null),vl=Z(0);function sd(t,s){t=Ts,xe(vl,t),xe(ua,s),Ts=t|s.baseLanes}function v0(){xe(vl,Ts),xe(ua,ua.current)}function C0(){Ts=vl.current,ie(ua),ie(vl)}var Zs=0,we=null,Oe=null,nt=null,Cl=!1,ma=!1,Pr=!1,Bl=0,dn=0,ha=null,N8=0;function st(){throw Error(l(321))}function B0(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!Vt(t[r],s[r]))return!1;return!0}function A0(t,s,r,n,i,d){return Zs=d,we=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,j.H=t===null||t.memoizedState===null?Ud:zd,Pr=!1,d=r(n,i),Pr=!1,ma&&(d=ad(s,r,n,i)),rd(t),d}function rd(t){j.H=Nl;var s=Oe!==null&&Oe.next!==null;if(Zs=0,nt=Oe=we=null,Cl=!1,dn=0,ha=null,s)throw Error(l(300));t===null||Et||(t=t.dependencies,t!==null&&gl(t)&&(Et=!0))}function ad(t,s,r,n){we=t;var i=0;do{if(ma&&(ha=null),dn=0,ma=!1,25<=i)throw Error(l(301));if(i+=1,nt=Oe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}j.H=P8,d=s(r,n)}while(ma);return d}function k8(){var t=j.H,s=t.useState()[0];return s=typeof s.then=="function"?un(s):s,t=t.useState()[0],(Oe!==null?Oe.memoizedState:null)!==t&&(we.flags|=1024),s}function F0(){var t=Bl!==0;return Bl=0,t}function j0(t,s,r){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r}function w0(t){if(Cl){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Cl=!1}Zs=0,nt=Oe=we=null,ma=!1,dn=Bl=0,ha=null}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?we.memoizedState=nt=t:nt=nt.next=t,nt}function lt(){if(Oe===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var s=nt===null?we.memoizedState:nt.next;if(s!==null)nt=s,Oe=t;else{if(t===null)throw we.alternate===null?Error(l(467)):Error(l(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},nt===null?we.memoizedState=nt=t:nt=nt.next=t}return nt}function D0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function un(t){var s=dn;return dn+=1,ha===null&&(ha=[]),t=Zc(ha,t,s),s=we,(nt===null?s.memoizedState:nt.next)===null&&(s=s.alternate,j.H=s===null||s.memoizedState===null?Ud:zd),t}function Al(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return un(t);if(t.$$typeof===M)return jt(t)}throw Error(l(438,String(t)))}function N0(t){var s=null,r=we.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var n=we.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(s={data:n.data.map(function(i){return i.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=D0(),we.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(t),n=0;n<t;n++)r[n]=T;return s.index++,r}function Ns(t,s){return typeof s=="function"?s(t):s}function Fl(t){var s=lt();return k0(s,Oe,t)}function k0(t,s,r){var n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=r;var i=t.baseQueue,d=n.pending;if(d!==null){if(i!==null){var b=i.next;i.next=d.next,d.next=b}s.baseQueue=i=d,n.pending=null}if(d=t.baseState,i===null)t.memoizedState=d;else{s=i.next;var w=b=null,q=null,ee=s,ne=!1;do{var oe=ee.lane&-536870913;if(oe!==ee.lane?(Se&oe)===oe:(Zs&oe)===oe){var te=ee.revertLane;if(te===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),oe===ca&&(ne=!0);else if((Zs&te)===te){ee=ee.next,te===ca&&(ne=!0);continue}else oe={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(w=q=oe,b=d):q=q.next=oe,we.lanes|=te,ar|=te;oe=ee.action,Pr&&r(d,oe),d=ee.hasEagerState?ee.eagerState:r(d,oe)}else te={lane:oe,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(w=q=te,b=d):q=q.next=te,we.lanes|=oe,ar|=oe;ee=ee.next}while(ee!==null&&ee!==s);if(q===null?b=d:q.next=w,!Vt(d,t.memoizedState)&&(Et=!0,ne&&(r=da,r!==null)))throw r;t.memoizedState=d,t.baseState=b,t.baseQueue=q,n.lastRenderedState=d}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function S0(t){var s=lt(),r=s.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,d=s.memoizedState;if(i!==null){r.pending=null;var b=i=i.next;do d=t(d,b.action),b=b.next;while(b!==i);Vt(d,s.memoizedState)||(Et=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),r.lastRenderedState=d}return[d,n]}function nd(t,s,r){var n=we,i=lt(),d=Me;if(d){if(r===void 0)throw Error(l(407));r=r()}else r=s();var b=!Vt((Oe||i).memoizedState,r);b&&(i.memoizedState=r,Et=!0),i=i.queue;var w=id.bind(null,n,i,t);if(mn(2048,8,w,[t]),i.getSnapshot!==s||b||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,fa(9,jl(),od.bind(null,n,i,r,s),null),Ye===null)throw Error(l(349));d||(Zs&124)!==0||ld(n,s,r)}return r}function ld(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=we.updateQueue,s===null?(s=D0(),we.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function od(t,s,r,n){s.value=r,s.getSnapshot=n,xd(s)&&cd(t)}function id(t,s,r){return r(function(){xd(s)&&cd(t)})}function xd(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!Vt(t,r)}catch{return!0}}function cd(t){var s=la(t,2);s!==null&&Gt(s,t,2)}function _0(t){var s=Tt();if(typeof t=="function"){var r=t;if(t=r(),Pr){$s(!0);try{r()}finally{$s(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:t},s}function dd(t,s,r,n){return t.baseState=r,k0(t,Oe,typeof n=="function"?n:Ns)}function S8(t,s,r,n,i){if(Dl(t))throw Error(l(485));if(t=s.action,t!==null){var d={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};j.T!==null?r(!0):d.isTransition=!1,n(d),r=s.pending,r===null?(d.next=s.pending=d,ud(s,d)):(d.next=r.next,s.pending=r.next=d)}}function ud(t,s){var r=s.action,n=s.payload,i=t.state;if(s.isTransition){var d=j.T,b={};j.T=b;try{var w=r(i,n),q=j.S;q!==null&&q(b,w),md(t,s,w)}catch(ee){M0(t,s,ee)}finally{j.T=d}}else try{d=r(i,n),md(t,s,d)}catch(ee){M0(t,s,ee)}}function md(t,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){hd(t,s,n)},function(n){return M0(t,s,n)}):hd(t,s,r)}function hd(t,s,r){s.status="fulfilled",s.value=r,fd(s),t.state=r,s=t.pending,s!==null&&(r=s.next,r===s?t.pending=null:(r=r.next,s.next=r,ud(t,r)))}function M0(t,s,r){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do s.status="rejected",s.reason=r,fd(s),s=s.next;while(s!==n)}t.action=null}function fd(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function gd(t,s){return s}function Ed(t,s){if(Me){var r=Ye.formState;if(r!==null){e:{var n=we;if(Me){if(We){t:{for(var i=We,d=us;i.nodeType!==8;){if(!d){i=null;break t}if(i=is(i.nextSibling),i===null){i=null;break t}}d=i.data,i=d==="F!"||d==="F"?i:null}if(i){We=is(i.nextSibling),n=i.data==="F!";break e}}_r(n)}n=!1}n&&(s=r[0])}}return r=Tt(),r.memoizedState=r.baseState=s,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gd,lastRenderedState:s},r.queue=n,r=Pd.bind(null,we,n),n.dispatch=r,n=_0(!1),d=O0.bind(null,we,!1,n.queue),n=Tt(),i={state:s,dispatch:null,action:t,pending:null},n.queue=i,r=S8.bind(null,we,i,d,r),i.dispatch=r,n.memoizedState=t,[s,r,!1]}function pd(t){var s=lt();return bd(s,Oe,t)}function bd(t,s,r){if(s=k0(t,s,gd)[0],t=Fl(Ns)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var n=un(s)}catch(b){throw b===nn?bl:b}else n=s;s=lt();var i=s.queue,d=i.dispatch;return r!==s.memoizedState&&(we.flags|=2048,fa(9,jl(),_8.bind(null,i,r),null)),[n,d,t]}function _8(t,s){t.action=s}function yd(t){var s=lt(),r=Oe;if(r!==null)return bd(s,r,t);lt(),s=s.memoizedState,r=lt();var n=r.queue.dispatch;return r.memoizedState=t,[s,n,!1]}function fa(t,s,r,n){return t={tag:t,create:r,deps:n,inst:s,next:null},s=we.updateQueue,s===null&&(s=D0(),we.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,s.lastEffect=t),t}function jl(){return{destroy:void 0,resource:void 0}}function vd(){return lt().memoizedState}function wl(t,s,r,n){var i=Tt();n=n===void 0?null:n,we.flags|=t,i.memoizedState=fa(1|s,jl(),r,n)}function mn(t,s,r,n){var i=lt();n=n===void 0?null:n;var d=i.memoizedState.inst;Oe!==null&&n!==null&&B0(n,Oe.memoizedState.deps)?i.memoizedState=fa(s,d,r,n):(we.flags|=t,i.memoizedState=fa(1|s,d,r,n))}function Cd(t,s){wl(8390656,8,t,s)}function Bd(t,s){mn(2048,8,t,s)}function Ad(t,s){return mn(4,2,t,s)}function Fd(t,s){return mn(4,4,t,s)}function jd(t,s){if(typeof s=="function"){t=t();var r=s(t);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function wd(t,s,r){r=r!=null?r.concat([t]):null,mn(4,4,jd.bind(null,s,t),r)}function R0(){}function Dd(t,s){var r=lt();s=s===void 0?null:s;var n=r.memoizedState;return s!==null&&B0(s,n[1])?n[0]:(r.memoizedState=[t,s],t)}function Nd(t,s){var r=lt();s=s===void 0?null:s;var n=r.memoizedState;if(s!==null&&B0(s,n[1]))return n[0];if(n=t(),Pr){$s(!0);try{t()}finally{$s(!1)}}return r.memoizedState=[n,s],n}function T0(t,s,r){return r===void 0||(Zs&1073741824)!==0?t.memoizedState=s:(t.memoizedState=r,t=_u(),we.lanes|=t,ar|=t,r)}function kd(t,s,r,n){return Vt(r,s)?r:ua.current!==null?(t=T0(t,r,n),Vt(t,s)||(Et=!0),t):(Zs&42)===0?(Et=!0,t.memoizedState=r):(t=_u(),we.lanes|=t,ar|=t,s)}function Sd(t,s,r,n,i){var d=P.p;P.p=d!==0&&8>d?d:8;var b=j.T,w={};j.T=w,O0(t,!1,s,r);try{var q=i(),ee=j.S;if(ee!==null&&ee(w,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ne=D8(q,n);hn(t,s,ne,Yt(t))}else hn(t,s,n,Yt(t))}catch(oe){hn(t,s,{then:function(){},status:"rejected",reason:oe},Yt())}finally{P.p=d,j.T=b}}function M8(){}function P0(t,s,r,n){if(t.tag!==5)throw Error(l(476));var i=_d(t).queue;Sd(t,i,s,J,r===null?M8:function(){return Md(t),r(n)})}function _d(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:J},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:r},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Md(t){var s=_d(t).next.queue;hn(t,s,{},Yt())}function L0(){return jt(_n)}function Rd(){return lt().memoizedState}function Td(){return lt().memoizedState}function R8(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var r=Yt();t=Is(r);var n=Ks(s,t,r);n!==null&&(Gt(n,s,r),on(n,s,r)),s={cache:m0()},t.payload=s;return}s=s.return}}function T8(t,s,r){var n=Yt();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Dl(t)?Ld(s,r):(r=r0(t,s,r,n),r!==null&&(Gt(r,t,n),Od(r,s,n)))}function Pd(t,s,r){var n=Yt();hn(t,s,r,n)}function hn(t,s,r,n){var i={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Dl(t))Ld(s,i);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var b=s.lastRenderedState,w=d(b,r);if(i.hasEagerState=!0,i.eagerState=w,Vt(w,b))return dl(t,s,i,0),Ye===null&&cl(),!1}catch{}finally{}if(r=r0(t,s,i,n),r!==null)return Gt(r,t,n),Od(r,s,n),!0}return!1}function O0(t,s,r,n){if(n={lane:2,revertLane:gi(),action:n,hasEagerState:!1,eagerState:null,next:null},Dl(t)){if(s)throw Error(l(479))}else s=r0(t,r,n,2),s!==null&&Gt(s,t,2)}function Dl(t){var s=t.alternate;return t===we||s!==null&&s===we}function Ld(t,s){ma=Cl=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function Od(t,s,r){if((r&4194048)!==0){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,Yx(t,r)}}var Nl={readContext:jt,use:Al,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st},Ud={readContext:jt,use:Al,useCallback:function(t,s){return Tt().memoizedState=[t,s===void 0?null:s],t},useContext:jt,useEffect:Cd,useImperativeHandle:function(t,s,r){r=r!=null?r.concat([t]):null,wl(4194308,4,jd.bind(null,s,t),r)},useLayoutEffect:function(t,s){return wl(4194308,4,t,s)},useInsertionEffect:function(t,s){wl(4,2,t,s)},useMemo:function(t,s){var r=Tt();s=s===void 0?null:s;var n=t();if(Pr){$s(!0);try{t()}finally{$s(!1)}}return r.memoizedState=[n,s],n},useReducer:function(t,s,r){var n=Tt();if(r!==void 0){var i=r(s);if(Pr){$s(!0);try{r(s)}finally{$s(!1)}}}else i=s;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=T8.bind(null,we,t),[n.memoizedState,t]},useRef:function(t){var s=Tt();return t={current:t},s.memoizedState=t},useState:function(t){t=_0(t);var s=t.queue,r=Pd.bind(null,we,s);return s.dispatch=r,[t.memoizedState,r]},useDebugValue:R0,useDeferredValue:function(t,s){var r=Tt();return T0(r,t,s)},useTransition:function(){var t=_0(!1);return t=Sd.bind(null,we,t.queue,!0,!1),Tt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,r){var n=we,i=Tt();if(Me){if(r===void 0)throw Error(l(407));r=r()}else{if(r=s(),Ye===null)throw Error(l(349));(Se&124)!==0||ld(n,s,r)}i.memoizedState=r;var d={value:r,getSnapshot:s};return i.queue=d,Cd(id.bind(null,n,d,t),[t]),n.flags|=2048,fa(9,jl(),od.bind(null,n,d,r,s),null),r},useId:function(){var t=Tt(),s=Ye.identifierPrefix;if(Me){var r=js,n=Fs;r=(n&~(1<<32-zt(n)-1)).toString(32)+r,s="«"+s+"R"+r,r=Bl++,0<r&&(s+="H"+r.toString(32)),s+="»"}else r=N8++,s="«"+s+"r"+r.toString(32)+"»";return t.memoizedState=s},useHostTransitionStatus:L0,useFormState:Ed,useActionState:Ed,useOptimistic:function(t){var s=Tt();s.memoizedState=s.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=O0.bind(null,we,!0,r),r.dispatch=s,[t,s]},useMemoCache:N0,useCacheRefresh:function(){return Tt().memoizedState=R8.bind(null,we)}},zd={readContext:jt,use:Al,useCallback:Dd,useContext:jt,useEffect:Bd,useImperativeHandle:wd,useInsertionEffect:Ad,useLayoutEffect:Fd,useMemo:Nd,useReducer:Fl,useRef:vd,useState:function(){return Fl(Ns)},useDebugValue:R0,useDeferredValue:function(t,s){var r=lt();return kd(r,Oe.memoizedState,t,s)},useTransition:function(){var t=Fl(Ns)[0],s=lt().memoizedState;return[typeof t=="boolean"?t:un(t),s]},useSyncExternalStore:nd,useId:Rd,useHostTransitionStatus:L0,useFormState:pd,useActionState:pd,useOptimistic:function(t,s){var r=lt();return dd(r,Oe,t,s)},useMemoCache:N0,useCacheRefresh:Td},P8={readContext:jt,use:Al,useCallback:Dd,useContext:jt,useEffect:Bd,useImperativeHandle:wd,useInsertionEffect:Ad,useLayoutEffect:Fd,useMemo:Nd,useReducer:S0,useRef:vd,useState:function(){return S0(Ns)},useDebugValue:R0,useDeferredValue:function(t,s){var r=lt();return Oe===null?T0(r,t,s):kd(r,Oe.memoizedState,t,s)},useTransition:function(){var t=S0(Ns)[0],s=lt().memoizedState;return[typeof t=="boolean"?t:un(t),s]},useSyncExternalStore:nd,useId:Rd,useHostTransitionStatus:L0,useFormState:yd,useActionState:yd,useOptimistic:function(t,s){var r=lt();return Oe!==null?dd(r,Oe,t,s):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:N0,useCacheRefresh:Td},ga=null,fn=0;function kl(t){var s=fn;return fn+=1,ga===null&&(ga=[]),Zc(ga,t,s)}function gn(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Sl(t,s){throw s.$$typeof===E?Error(l(525)):(t=Object.prototype.toString.call(s),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Vd(t){var s=t._init;return s(t._payload)}function qd(t){function s(K,Y){if(t){var W=K.deletions;W===null?(K.deletions=[Y],K.flags|=16):W.push(Y)}}function r(K,Y){if(!t)return null;for(;Y!==null;)s(K,Y),Y=Y.sibling;return null}function n(K){for(var Y=new Map;K!==null;)K.key!==null?Y.set(K.key,K):Y.set(K.index,K),K=K.sibling;return Y}function i(K,Y){return K=As(K,Y),K.index=0,K.sibling=null,K}function d(K,Y,W){return K.index=W,t?(W=K.alternate,W!==null?(W=W.index,W<Y?(K.flags|=67108866,Y):W):(K.flags|=67108866,Y)):(K.flags|=1048576,Y)}function b(K){return t&&K.alternate===null&&(K.flags|=67108866),K}function w(K,Y,W,le){return Y===null||Y.tag!==6?(Y=n0(W,K.mode,le),Y.return=K,Y):(Y=i(Y,W),Y.return=K,Y)}function q(K,Y,W,le){var fe=W.type;return fe===A?ne(K,Y,W.props.children,le,W.key):Y!==null&&(Y.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===V&&Vd(fe)===Y.type)?(Y=i(Y,W.props),gn(Y,W),Y.return=K,Y):(Y=ml(W.type,W.key,W.props,null,K.mode,le),gn(Y,W),Y.return=K,Y)}function ee(K,Y,W,le){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==W.containerInfo||Y.stateNode.implementation!==W.implementation?(Y=l0(W,K.mode,le),Y.return=K,Y):(Y=i(Y,W.children||[]),Y.return=K,Y)}function ne(K,Y,W,le,fe){return Y===null||Y.tag!==7?(Y=Dr(W,K.mode,le,fe),Y.return=K,Y):(Y=i(Y,W),Y.return=K,Y)}function oe(K,Y,W){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=n0(""+Y,K.mode,W),Y.return=K,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return W=ml(Y.type,Y.key,Y.props,null,K.mode,W),gn(W,Y),W.return=K,W;case p:return Y=l0(Y,K.mode,W),Y.return=K,Y;case V:var le=Y._init;return Y=le(Y._payload),oe(K,Y,W)}if(H(Y)||$(Y))return Y=Dr(Y,K.mode,W,null),Y.return=K,Y;if(typeof Y.then=="function")return oe(K,kl(Y),W);if(Y.$$typeof===M)return oe(K,El(K,Y),W);Sl(K,Y)}return null}function te(K,Y,W,le){var fe=Y!==null?Y.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return fe!==null?null:w(K,Y,""+W,le);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return W.key===fe?q(K,Y,W,le):null;case p:return W.key===fe?ee(K,Y,W,le):null;case V:return fe=W._init,W=fe(W._payload),te(K,Y,W,le)}if(H(W)||$(W))return fe!==null?null:ne(K,Y,W,le,null);if(typeof W.then=="function")return te(K,Y,kl(W),le);if(W.$$typeof===M)return te(K,Y,El(K,W),le);Sl(K,W)}return null}function se(K,Y,W,le,fe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return K=K.get(W)||null,w(Y,K,""+le,fe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case v:return K=K.get(le.key===null?W:le.key)||null,q(Y,K,le,fe);case p:return K=K.get(le.key===null?W:le.key)||null,ee(Y,K,le,fe);case V:var De=le._init;return le=De(le._payload),se(K,Y,W,le,fe)}if(H(le)||$(le))return K=K.get(W)||null,ne(Y,K,le,fe,null);if(typeof le.then=="function")return se(K,Y,W,kl(le),fe);if(le.$$typeof===M)return se(K,Y,W,El(Y,le),fe);Sl(Y,le)}return null}function Be(K,Y,W,le){for(var fe=null,De=null,Ee=Y,ve=Y=0,bt=null;Ee!==null&&ve<W.length;ve++){Ee.index>ve?(bt=Ee,Ee=null):bt=Ee.sibling;var _e=te(K,Ee,W[ve],le);if(_e===null){Ee===null&&(Ee=bt);break}t&&Ee&&_e.alternate===null&&s(K,Ee),Y=d(_e,Y,ve),De===null?fe=_e:De.sibling=_e,De=_e,Ee=bt}if(ve===W.length)return r(K,Ee),Me&&kr(K,ve),fe;if(Ee===null){for(;ve<W.length;ve++)Ee=oe(K,W[ve],le),Ee!==null&&(Y=d(Ee,Y,ve),De===null?fe=Ee:De.sibling=Ee,De=Ee);return Me&&kr(K,ve),fe}for(Ee=n(Ee);ve<W.length;ve++)bt=se(Ee,K,ve,W[ve],le),bt!==null&&(t&&bt.alternate!==null&&Ee.delete(bt.key===null?ve:bt.key),Y=d(bt,Y,ve),De===null?fe=bt:De.sibling=bt,De=bt);return t&&Ee.forEach(function(mr){return s(K,mr)}),Me&&kr(K,ve),fe}function ye(K,Y,W,le){if(W==null)throw Error(l(151));for(var fe=null,De=null,Ee=Y,ve=Y=0,bt=null,_e=W.next();Ee!==null&&!_e.done;ve++,_e=W.next()){Ee.index>ve?(bt=Ee,Ee=null):bt=Ee.sibling;var mr=te(K,Ee,_e.value,le);if(mr===null){Ee===null&&(Ee=bt);break}t&&Ee&&mr.alternate===null&&s(K,Ee),Y=d(mr,Y,ve),De===null?fe=mr:De.sibling=mr,De=mr,Ee=bt}if(_e.done)return r(K,Ee),Me&&kr(K,ve),fe;if(Ee===null){for(;!_e.done;ve++,_e=W.next())_e=oe(K,_e.value,le),_e!==null&&(Y=d(_e,Y,ve),De===null?fe=_e:De.sibling=_e,De=_e);return Me&&kr(K,ve),fe}for(Ee=n(Ee);!_e.done;ve++,_e=W.next())_e=se(Ee,K,ve,_e.value,le),_e!==null&&(t&&_e.alternate!==null&&Ee.delete(_e.key===null?ve:_e.key),Y=d(_e,Y,ve),De===null?fe=_e:De.sibling=_e,De=_e);return t&&Ee.forEach(function(L9){return s(K,L9)}),Me&&kr(K,ve),fe}function ze(K,Y,W,le){if(typeof W=="object"&&W!==null&&W.type===A&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case v:e:{for(var fe=W.key;Y!==null;){if(Y.key===fe){if(fe=W.type,fe===A){if(Y.tag===7){r(K,Y.sibling),le=i(Y,W.props.children),le.return=K,K=le;break e}}else if(Y.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===V&&Vd(fe)===Y.type){r(K,Y.sibling),le=i(Y,W.props),gn(le,W),le.return=K,K=le;break e}r(K,Y);break}else s(K,Y);Y=Y.sibling}W.type===A?(le=Dr(W.props.children,K.mode,le,W.key),le.return=K,K=le):(le=ml(W.type,W.key,W.props,null,K.mode,le),gn(le,W),le.return=K,K=le)}return b(K);case p:e:{for(fe=W.key;Y!==null;){if(Y.key===fe)if(Y.tag===4&&Y.stateNode.containerInfo===W.containerInfo&&Y.stateNode.implementation===W.implementation){r(K,Y.sibling),le=i(Y,W.children||[]),le.return=K,K=le;break e}else{r(K,Y);break}else s(K,Y);Y=Y.sibling}le=l0(W,K.mode,le),le.return=K,K=le}return b(K);case V:return fe=W._init,W=fe(W._payload),ze(K,Y,W,le)}if(H(W))return Be(K,Y,W,le);if($(W)){if(fe=$(W),typeof fe!="function")throw Error(l(150));return W=fe.call(W),ye(K,Y,W,le)}if(typeof W.then=="function")return ze(K,Y,kl(W),le);if(W.$$typeof===M)return ze(K,Y,El(K,W),le);Sl(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,Y!==null&&Y.tag===6?(r(K,Y.sibling),le=i(Y,W),le.return=K,K=le):(r(K,Y),le=n0(W,K.mode,le),le.return=K,K=le),b(K)):r(K,Y)}return function(K,Y,W,le){try{fn=0;var fe=ze(K,Y,W,le);return ga=null,fe}catch(Ee){if(Ee===nn||Ee===bl)throw Ee;var De=qt(29,Ee,null,K.mode);return De.lanes=le,De.return=K,De}finally{}}}var Ea=qd(!0),Hd=qd(!1),ss=Z(null),ms=null;function Js(t){var s=t.alternate;xe(mt,mt.current&1),xe(ss,t),ms===null&&(s===null||ua.current!==null||s.memoizedState!==null)&&(ms=t)}function $d(t){if(t.tag===22){if(xe(mt,mt.current),xe(ss,t),ms===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(ms=t)}}else Ws()}function Ws(){xe(mt,mt.current),xe(ss,ss.current)}function ks(t){ie(ss),ms===t&&(ms=null),ie(mt)}var mt=Z(0);function _l(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Di(r)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function U0(t,s,r,n){s=t.memoizedState,r=r(n,s),r=r==null?s:y({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var z0={enqueueSetState:function(t,s,r){t=t._reactInternals;var n=Yt(),i=Is(n);i.payload=s,r!=null&&(i.callback=r),s=Ks(t,i,n),s!==null&&(Gt(s,t,n),on(s,t,n))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var n=Yt(),i=Is(n);i.tag=1,i.payload=s,r!=null&&(i.callback=r),s=Ks(t,i,n),s!==null&&(Gt(s,t,n),on(s,t,n))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=Yt(),n=Is(r);n.tag=2,s!=null&&(n.callback=s),s=Ks(t,n,r),s!==null&&(Gt(s,t,r),on(s,t,r))}};function Qd(t,s,r,n,i,d,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,d,b):s.prototype&&s.prototype.isPureReactComponent?!Za(r,n)||!Za(i,d):!0}function Yd(t,s,r,n){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==t&&z0.enqueueReplaceState(s,s.state,null)}function Lr(t,s){var r=s;if("ref"in s){r={};for(var n in s)n!=="ref"&&(r[n]=s[n])}if(t=t.defaultProps){r===s&&(r=y({},r));for(var i in t)r[i]===void 0&&(r[i]=t[i])}return r}var Ml=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Gd(t){Ml(t)}function Xd(t){console.error(t)}function Id(t){Ml(t)}function Rl(t,s){try{var r=t.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(n){setTimeout(function(){throw n})}}function Kd(t,s,r){try{var n=t.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function V0(t,s,r){return r=Is(r),r.tag=3,r.payload={element:null},r.callback=function(){Rl(t,s)},r}function Zd(t){return t=Is(t),t.tag=3,t}function Jd(t,s,r,n){var i=r.type.getDerivedStateFromError;if(typeof i=="function"){var d=n.value;t.payload=function(){return i(d)},t.callback=function(){Kd(s,r,n)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Kd(s,r,n),typeof i!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})})}function L8(t,s,r,n,i){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(s=r.alternate,s!==null&&sn(s,r,i,!0),r=ss.current,r!==null){switch(r.tag){case 13:return ms===null?di():r.alternate===null&&et===0&&(et=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===g0?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([n]):s.add(n),mi(t,n,i)),!1;case 22:return r.flags|=65536,n===g0?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([n]):r.add(n)),mi(t,n,i)),!1}throw Error(l(435,r.tag))}return mi(t,n,i),di(),!1}if(Me)return s=ss.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=i,n!==x0&&(t=Error(l(422),{cause:n}),tn(Jt(t,r)))):(n!==x0&&(s=Error(l(423),{cause:n}),tn(Jt(s,r))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=Jt(n,r),i=V0(t.stateNode,n,i),b0(t,i),et!==4&&(et=2)),!1;var d=Error(l(520),{cause:n});if(d=Jt(d,r),Bn===null?Bn=[d]:Bn.push(d),et!==4&&(et=2),s===null)return!0;n=Jt(n,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,t=i&-i,r.lanes|=t,t=V0(r.stateNode,n,t),b0(r,t),!1;case 1:if(s=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(nr===null||!nr.has(d))))return r.flags|=65536,i&=-i,r.lanes|=i,i=Zd(i),Jd(i,t,r,n),b0(r,i),!1}r=r.return}while(r!==null);return!1}var Wd=Error(l(461)),Et=!1;function vt(t,s,r,n){s.child=t===null?Hd(s,null,r,n):Ea(s,t.child,r,n)}function eu(t,s,r,n,i){r=r.render;var d=s.ref;if("ref"in n){var b={};for(var w in n)w!=="ref"&&(b[w]=n[w])}else b=n;return Rr(s),n=A0(t,s,r,b,d,i),w=F0(),t!==null&&!Et?(j0(t,s,i),Ss(t,s,i)):(Me&&w&&o0(s),s.flags|=1,vt(t,s,n,i),s.child)}function tu(t,s,r,n,i){if(t===null){var d=r.type;return typeof d=="function"&&!a0(d)&&d.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=d,su(t,s,d,n,i)):(t=ml(r.type,null,n,s,s.mode,i),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!I0(t,i)){var b=d.memoizedProps;if(r=r.compare,r=r!==null?r:Za,r(b,n)&&t.ref===s.ref)return Ss(t,s,i)}return s.flags|=1,t=As(d,n),t.ref=s.ref,t.return=s,s.child=t}function su(t,s,r,n,i){if(t!==null){var d=t.memoizedProps;if(Za(d,n)&&t.ref===s.ref)if(Et=!1,s.pendingProps=n=d,I0(t,i))(t.flags&131072)!==0&&(Et=!0);else return s.lanes=t.lanes,Ss(t,s,i)}return q0(t,s,r,n,i)}function ru(t,s,r){var n=s.pendingProps,i=n.children,d=t!==null?t.memoizedState:null;if(n.mode==="hidden"){if((s.flags&128)!==0){if(n=d!==null?d.baseLanes|r:r,t!==null){for(i=s.child=t.child,d=0;i!==null;)d=d|i.lanes|i.childLanes,i=i.sibling;s.childLanes=d&~n}else s.childLanes=0,s.child=null;return au(t,s,n,r)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&pl(s,d!==null?d.cachePool:null),d!==null?sd(s,d):v0(),$d(s);else return s.lanes=s.childLanes=536870912,au(t,s,d!==null?d.baseLanes|r:r,r)}else d!==null?(pl(s,d.cachePool),sd(s,d),Ws(),s.memoizedState=null):(t!==null&&pl(s,null),v0(),Ws());return vt(t,s,i,r),s.child}function au(t,s,r,n){var i=f0();return i=i===null?null:{parent:ut._currentValue,pool:i},s.memoizedState={baseLanes:r,cachePool:i},t!==null&&pl(s,null),v0(),$d(s),t!==null&&sn(t,s,n,!0),null}function Tl(t,s){var r=s.ref;if(r===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(t===null||t.ref!==r)&&(s.flags|=4194816)}}function q0(t,s,r,n,i){return Rr(s),r=A0(t,s,r,n,void 0,i),n=F0(),t!==null&&!Et?(j0(t,s,i),Ss(t,s,i)):(Me&&n&&o0(s),s.flags|=1,vt(t,s,r,i),s.child)}function nu(t,s,r,n,i,d){return Rr(s),s.updateQueue=null,r=ad(s,n,r,i),rd(t),n=F0(),t!==null&&!Et?(j0(t,s,d),Ss(t,s,d)):(Me&&n&&o0(s),s.flags|=1,vt(t,s,r,d),s.child)}function lu(t,s,r,n,i){if(Rr(s),s.stateNode===null){var d=oa,b=r.contextType;typeof b=="object"&&b!==null&&(d=jt(b)),d=new r(n,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=z0,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=n,d.state=s.memoizedState,d.refs={},E0(s),b=r.contextType,d.context=typeof b=="object"&&b!==null?jt(b):oa,d.state=s.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(U0(s,r,b,n),d.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&z0.enqueueReplaceState(d,d.state,null),cn(s,n,d,i),xn(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),n=!0}else if(t===null){d=s.stateNode;var w=s.memoizedProps,q=Lr(r,w);d.props=q;var ee=d.context,ne=r.contextType;b=oa,typeof ne=="object"&&ne!==null&&(b=jt(ne));var oe=r.getDerivedStateFromProps;ne=typeof oe=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,ne||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||ee!==b)&&Yd(s,d,n,b),Xs=!1;var te=s.memoizedState;d.state=te,cn(s,n,d,i),xn(),ee=s.memoizedState,w||te!==ee||Xs?(typeof oe=="function"&&(U0(s,r,oe,n),ee=s.memoizedState),(q=Xs||Qd(s,r,q,n,te,ee,b))?(ne||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=ee),d.props=n,d.state=ee,d.context=b,n=q):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{d=s.stateNode,p0(t,s),b=s.memoizedProps,ne=Lr(r,b),d.props=ne,oe=s.pendingProps,te=d.context,ee=r.contextType,q=oa,typeof ee=="object"&&ee!==null&&(q=jt(ee)),w=r.getDerivedStateFromProps,(ee=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==oe||te!==q)&&Yd(s,d,n,q),Xs=!1,te=s.memoizedState,d.state=te,cn(s,n,d,i),xn();var se=s.memoizedState;b!==oe||te!==se||Xs||t!==null&&t.dependencies!==null&&gl(t.dependencies)?(typeof w=="function"&&(U0(s,r,w,n),se=s.memoizedState),(ne=Xs||Qd(s,r,ne,n,te,se,q)||t!==null&&t.dependencies!==null&&gl(t.dependencies))?(ee||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(n,se,q),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(n,se,q)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===t.memoizedProps&&te===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&te===t.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=se),d.props=n,d.state=se,d.context=q,n=ne):(typeof d.componentDidUpdate!="function"||b===t.memoizedProps&&te===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&te===t.memoizedState||(s.flags|=1024),n=!1)}return d=n,Tl(t,s),n=(s.flags&128)!==0,d||n?(d=s.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&n?(s.child=Ea(s,t.child,null,i),s.child=Ea(s,null,r,i)):vt(t,s,r,i),s.memoizedState=d.state,t=s.child):t=Ss(t,s,i),t}function ou(t,s,r,n){return en(),s.flags|=256,vt(t,s,r,n),s.child}var H0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $0(t){return{baseLanes:t,cachePool:Xc()}}function Q0(t,s,r){return t=t!==null?t.childLanes&~r:0,s&&(t|=rs),t}function iu(t,s,r){var n=s.pendingProps,i=!1,d=(s.flags&128)!==0,b;if((b=d)||(b=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),b&&(i=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,t===null){if(Me){if(i?Js(s):Ws(),Me){var w=We,q;if(q=w){e:{for(q=w,w=us;q.nodeType!==8;){if(!w){w=null;break e}if(q=is(q.nextSibling),q===null){w=null;break e}}w=q}w!==null?(s.memoizedState={dehydrated:w,treeContext:Nr!==null?{id:Fs,overflow:js}:null,retryLane:536870912,hydrationErrors:null},q=qt(18,null,null,0),q.stateNode=w,q.return=s,s.child=q,Nt=s,We=null,q=!0):q=!1}q||_r(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Di(w)?s.lanes=32:s.lanes=536870912,null;ks(s)}return w=n.children,n=n.fallback,i?(Ws(),i=s.mode,w=Pl({mode:"hidden",children:w},i),n=Dr(n,i,r,null),w.return=s,n.return=s,w.sibling=n,s.child=w,i=s.child,i.memoizedState=$0(r),i.childLanes=Q0(t,b,r),s.memoizedState=H0,n):(Js(s),Y0(s,w))}if(q=t.memoizedState,q!==null&&(w=q.dehydrated,w!==null)){if(d)s.flags&256?(Js(s),s.flags&=-257,s=G0(t,s,r)):s.memoizedState!==null?(Ws(),s.child=t.child,s.flags|=128,s=null):(Ws(),i=n.fallback,w=s.mode,n=Pl({mode:"visible",children:n.children},w),i=Dr(i,w,r,null),i.flags|=2,n.return=s,i.return=s,n.sibling=i,s.child=n,Ea(s,t.child,null,r),n=s.child,n.memoizedState=$0(r),n.childLanes=Q0(t,b,r),s.memoizedState=H0,s=i);else if(Js(s),Di(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var ee=b.dgst;b=ee,n=Error(l(419)),n.stack="",n.digest=b,tn({value:n,source:null,stack:null}),s=G0(t,s,r)}else if(Et||sn(t,s,r,!1),b=(r&t.childLanes)!==0,Et||b){if(b=Ye,b!==null&&(n=r&-r,n=(n&42)!==0?1:No(n),n=(n&(b.suspendedLanes|r))!==0?0:n,n!==0&&n!==q.retryLane))throw q.retryLane=n,la(t,n),Gt(b,t,n),Wd;w.data==="$?"||di(),s=G0(t,s,r)}else w.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=q.treeContext,We=is(w.nextSibling),Nt=s,Me=!0,Sr=null,us=!1,t!==null&&(es[ts++]=Fs,es[ts++]=js,es[ts++]=Nr,Fs=t.id,js=t.overflow,Nr=s),s=Y0(s,n.children),s.flags|=4096);return s}return i?(Ws(),i=n.fallback,w=s.mode,q=t.child,ee=q.sibling,n=As(q,{mode:"hidden",children:n.children}),n.subtreeFlags=q.subtreeFlags&65011712,ee!==null?i=As(ee,i):(i=Dr(i,w,r,null),i.flags|=2),i.return=s,n.return=s,n.sibling=i,s.child=n,n=i,i=s.child,w=t.child.memoizedState,w===null?w=$0(r):(q=w.cachePool,q!==null?(ee=ut._currentValue,q=q.parent!==ee?{parent:ee,pool:ee}:q):q=Xc(),w={baseLanes:w.baseLanes|r,cachePool:q}),i.memoizedState=w,i.childLanes=Q0(t,b,r),s.memoizedState=H0,n):(Js(s),r=t.child,t=r.sibling,r=As(r,{mode:"visible",children:n.children}),r.return=s,r.sibling=null,t!==null&&(b=s.deletions,b===null?(s.deletions=[t],s.flags|=16):b.push(t)),s.child=r,s.memoizedState=null,r)}function Y0(t,s){return s=Pl({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Pl(t,s){return t=qt(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function G0(t,s,r){return Ea(s,t.child,null,r),t=Y0(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function xu(t,s,r){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s),d0(t.return,s,r)}function X0(t,s,r,n,i){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(d.isBackwards=s,d.rendering=null,d.renderingStartTime=0,d.last=n,d.tail=r,d.tailMode=i)}function cu(t,s,r){var n=s.pendingProps,i=n.revealOrder,d=n.tail;if(vt(t,s,n.children,r),n=mt.current,(n&2)!==0)n=n&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xu(t,r,s);else if(t.tag===19)xu(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}switch(xe(mt,n),i){case"forwards":for(r=s.child,i=null;r!==null;)t=r.alternate,t!==null&&_l(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=s.child,s.child=null):(i=r.sibling,r.sibling=null),X0(s,!1,i,r,d);break;case"backwards":for(r=null,i=s.child,s.child=null;i!==null;){if(t=i.alternate,t!==null&&_l(t)===null){s.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}X0(s,!0,r,null,d);break;case"together":X0(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ss(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),ar|=s.lanes,(r&s.childLanes)===0)if(t!==null){if(sn(t,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(l(153));if(s.child!==null){for(t=s.child,r=As(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=As(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function I0(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&gl(t)))}function O8(t,s,r){switch(s.tag){case 3:me(s,s.stateNode.containerInfo),Gs(s,ut,t.memoizedState.cache),en();break;case 27:case 5:ae(s);break;case 4:me(s,s.stateNode.containerInfo);break;case 10:Gs(s,s.type,s.memoizedProps.value);break;case 13:var n=s.memoizedState;if(n!==null)return n.dehydrated!==null?(Js(s),s.flags|=128,null):(r&s.child.childLanes)!==0?iu(t,s,r):(Js(s),t=Ss(t,s,r),t!==null?t.sibling:null);Js(s);break;case 19:var i=(t.flags&128)!==0;if(n=(r&s.childLanes)!==0,n||(sn(t,s,r,!1),n=(r&s.childLanes)!==0),i){if(n)return cu(t,s,r);s.flags|=128}if(i=s.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(mt,mt.current),n)break;return null;case 22:case 23:return s.lanes=0,ru(t,s,r);case 24:Gs(s,ut,t.memoizedState.cache)}return Ss(t,s,r)}function du(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps)Et=!0;else{if(!I0(t,r)&&(s.flags&128)===0)return Et=!1,O8(t,s,r);Et=(t.flags&131072)!==0}else Et=!1,Me&&(s.flags&1048576)!==0&&Vc(s,fl,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var n=s.elementType,i=n._init;if(n=i(n._payload),s.type=n,typeof n=="function")a0(n)?(t=Lr(n,t),s.tag=1,s=lu(null,s,n,t,r)):(s.tag=0,s=q0(null,s,n,t,r));else{if(n!=null){if(i=n.$$typeof,i===S){s.tag=11,s=eu(null,s,n,t,r);break e}else if(i===k){s.tag=14,s=tu(null,s,n,t,r);break e}}throw s=_(n)||n,Error(l(306,s,""))}}return s;case 0:return q0(t,s,s.type,s.pendingProps,r);case 1:return n=s.type,i=Lr(n,s.pendingProps),lu(t,s,n,i,r);case 3:e:{if(me(s,s.stateNode.containerInfo),t===null)throw Error(l(387));n=s.pendingProps;var d=s.memoizedState;i=d.element,p0(t,s),cn(s,n,null,r);var b=s.memoizedState;if(n=b.cache,Gs(s,ut,n),n!==d.cache&&u0(s,[ut],r,!0),xn(),n=b.element,d.isDehydrated)if(d={element:n,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=ou(t,s,n,r);break e}else if(n!==i){i=Jt(Error(l(424)),s),tn(i),s=ou(t,s,n,r);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(We=is(t.firstChild),Nt=s,Me=!0,Sr=null,us=!0,r=Hd(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(en(),n===i){s=Ss(t,s,r);break e}vt(t,s,n,r)}s=s.child}return s;case 26:return Tl(t,s),t===null?(r=fm(s.type,null,s.pendingProps,null))?s.memoizedState=r:Me||(r=s.type,t=s.pendingProps,n=Kl(Q.current).createElement(r),n[Ft]=s,n[Mt]=t,Bt(n,r,t),gt(n),s.stateNode=n):s.memoizedState=fm(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return ae(s),t===null&&Me&&(n=s.stateNode=um(s.type,s.pendingProps,Q.current),Nt=s,us=!0,i=We,ir(s.type)?(Ni=i,We=is(n.firstChild)):We=i),vt(t,s,s.pendingProps.children,r),Tl(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Me&&((i=n=We)&&(n=u9(n,s.type,s.pendingProps,us),n!==null?(s.stateNode=n,Nt=s,We=is(n.firstChild),us=!1,i=!0):i=!1),i||_r(s)),ae(s),i=s.type,d=s.pendingProps,b=t!==null?t.memoizedProps:null,n=d.children,Fi(i,d)?n=null:b!==null&&Fi(i,b)&&(s.flags|=32),s.memoizedState!==null&&(i=A0(t,s,k8,null,null,r),_n._currentValue=i),Tl(t,s),vt(t,s,n,r),s.child;case 6:return t===null&&Me&&((t=r=We)&&(r=m9(r,s.pendingProps,us),r!==null?(s.stateNode=r,Nt=s,We=null,t=!0):t=!1),t||_r(s)),null;case 13:return iu(t,s,r);case 4:return me(s,s.stateNode.containerInfo),n=s.pendingProps,t===null?s.child=Ea(s,null,n,r):vt(t,s,n,r),s.child;case 11:return eu(t,s,s.type,s.pendingProps,r);case 7:return vt(t,s,s.pendingProps,r),s.child;case 8:return vt(t,s,s.pendingProps.children,r),s.child;case 12:return vt(t,s,s.pendingProps.children,r),s.child;case 10:return n=s.pendingProps,Gs(s,s.type,n.value),vt(t,s,n.children,r),s.child;case 9:return i=s.type._context,n=s.pendingProps.children,Rr(s),i=jt(i),n=n(i),s.flags|=1,vt(t,s,n,r),s.child;case 14:return tu(t,s,s.type,s.pendingProps,r);case 15:return su(t,s,s.type,s.pendingProps,r);case 19:return cu(t,s,r);case 31:return n=s.pendingProps,r=s.mode,n={mode:n.mode,children:n.children},t===null?(r=Pl(n,r),r.ref=s.ref,s.child=r,r.return=s,s=r):(r=As(t.child,n),r.ref=s.ref,s.child=r,r.return=s,s=r),s;case 22:return ru(t,s,r);case 24:return Rr(s),n=jt(ut),t===null?(i=f0(),i===null&&(i=Ye,d=m0(),i.pooledCache=d,d.refCount++,d!==null&&(i.pooledCacheLanes|=r),i=d),s.memoizedState={parent:n,cache:i},E0(s),Gs(s,ut,i)):((t.lanes&r)!==0&&(p0(t,s),cn(s,null,null,r),xn()),i=t.memoizedState,d=s.memoizedState,i.parent!==n?(i={parent:n,cache:n},s.memoizedState=i,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=i),Gs(s,ut,n)):(n=d.cache,Gs(s,ut,n),n!==i.cache&&u0(s,[ut],r,!0))),vt(t,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(l(156,s.tag))}function _s(t){t.flags|=4}function uu(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ym(s)){if(s=ss.current,s!==null&&((Se&4194048)===Se?ms!==null:(Se&62914560)!==Se&&(Se&536870912)===0||s!==ms))throw ln=g0,Ic;t.flags|=8192}}function Ll(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?$x():536870912,t.lanes|=s,va|=s)}function En(t,s){if(!Me)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ze(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(s)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,s}function U8(t,s,r){var n=s.pendingProps;switch(i0(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(s),null;case 1:return Ze(s),null;case 3:return r=s.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),s.memoizedState.cache!==n&&(s.flags|=2048),Ds(ut),be(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wa(s)?_s(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$c())),Ze(s),null;case 26:return r=s.memoizedState,t===null?(_s(s),r!==null?(Ze(s),uu(s,r)):(Ze(s),s.flags&=-16777217)):r?r!==t.memoizedState?(_s(s),Ze(s),uu(s,r)):(Ze(s),s.flags&=-16777217):(t.memoizedProps!==n&&_s(s),Ze(s),s.flags&=-16777217),null;case 27:Ae(s),r=Q.current;var i=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==n&&_s(s);else{if(!n){if(s.stateNode===null)throw Error(l(166));return Ze(s),null}t=G.current,Wa(s)?qc(s):(t=um(i,n,r),s.stateNode=t,_s(s))}return Ze(s),null;case 5:if(Ae(s),r=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==n&&_s(s);else{if(!n){if(s.stateNode===null)throw Error(l(166));return Ze(s),null}if(t=G.current,Wa(s))qc(s);else{switch(i=Kl(Q.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?t.multiple=!0:n.size&&(t.size=n.size);break;default:t=typeof n.is=="string"?i.createElement(r,{is:n.is}):i.createElement(r)}}t[Ft]=s,t[Mt]=n;e:for(i=s.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}s.stateNode=t;e:switch(Bt(t,r,n),r){case"button":case"input":case"select":case"textarea":t=!!n.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&_s(s)}}return Ze(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==n&&_s(s);else{if(typeof n!="string"&&s.stateNode===null)throw Error(l(166));if(t=Q.current,Wa(s)){if(t=s.stateNode,r=s.memoizedProps,n=null,i=Nt,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}t[Ft]=s,t=!!(t.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||nm(t.nodeValue,r)),t||_r(s)}else t=Kl(t).createTextNode(n),t[Ft]=s,s.stateNode=t}return Ze(s),null;case 13:if(n=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Wa(s),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(l(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(l(317));i[Ft]=s}else en(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ze(s),i=!1}else i=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return s.flags&256?(ks(s),s):(ks(s),null)}if(ks(s),(s.flags&128)!==0)return s.lanes=r,s;if(r=n!==null,t=t!==null&&t.memoizedState!==null,r){n=s.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var d=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),d!==i&&(n.flags|=2048)}return r!==t&&r&&(s.child.flags|=8192),Ll(s,s.updateQueue),Ze(s),null;case 4:return be(),t===null&&yi(s.stateNode.containerInfo),Ze(s),null;case 10:return Ds(s.type),Ze(s),null;case 19:if(ie(mt),i=s.memoizedState,i===null)return Ze(s),null;if(n=(s.flags&128)!==0,d=i.rendering,d===null)if(n)En(i,!1);else{if(et!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=_l(t),d!==null){for(s.flags|=128,En(i,!1),t=d.updateQueue,s.updateQueue=t,Ll(s,t),s.subtreeFlags=0,t=r,r=s.child;r!==null;)zc(r,t),r=r.sibling;return xe(mt,mt.current&1|2),s.child}t=t.sibling}i.tail!==null&&dt()>zl&&(s.flags|=128,n=!0,En(i,!1),s.lanes=4194304)}else{if(!n)if(t=_l(d),t!==null){if(s.flags|=128,n=!0,t=t.updateQueue,s.updateQueue=t,Ll(s,t),En(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!Me)return Ze(s),null}else 2*dt()-i.renderingStartTime>zl&&r!==536870912&&(s.flags|=128,n=!0,En(i,!1),s.lanes=4194304);i.isBackwards?(d.sibling=s.child,s.child=d):(t=i.last,t!==null?t.sibling=d:s.child=d,i.last=d)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=dt(),s.sibling=null,t=mt.current,xe(mt,n?t&1|2:t&1),s):(Ze(s),null);case 22:case 23:return ks(s),C0(),n=s.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(s.flags|=8192):n&&(s.flags|=8192),n?(r&536870912)!==0&&(s.flags&128)===0&&(Ze(s),s.subtreeFlags&6&&(s.flags|=8192)):Ze(s),r=s.updateQueue,r!==null&&Ll(s,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==r&&(s.flags|=2048),t!==null&&ie(Tr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Ds(ut),Ze(s),null;case 25:return null;case 30:return null}throw Error(l(156,s.tag))}function z8(t,s){switch(i0(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Ds(ut),be(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ae(s),null;case 13:if(ks(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(l(340));en()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return ie(mt),null;case 4:return be(),null;case 10:return Ds(s.type),null;case 22:case 23:return ks(s),C0(),t!==null&&ie(Tr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Ds(ut),null;case 25:return null;default:return null}}function mu(t,s){switch(i0(s),s.tag){case 3:Ds(ut),be();break;case 26:case 27:case 5:Ae(s);break;case 4:be();break;case 13:ks(s);break;case 19:ie(mt);break;case 10:Ds(s.type);break;case 22:case 23:ks(s),C0(),t!==null&&ie(Tr);break;case 24:Ds(ut)}}function pn(t,s){try{var r=s.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var i=n.next;r=i;do{if((r.tag&t)===t){n=void 0;var d=r.create,b=r.inst;n=d(),b.destroy=n}r=r.next}while(r!==i)}}catch(w){He(s,s.return,w)}}function er(t,s,r){try{var n=s.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var d=i.next;n=d;do{if((n.tag&t)===t){var b=n.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,i=s;var q=r,ee=w;try{ee()}catch(ne){He(i,q,ne)}}}n=n.next}while(n!==d)}}catch(ne){He(s,s.return,ne)}}function hu(t){var s=t.updateQueue;if(s!==null){var r=t.stateNode;try{td(s,r)}catch(n){He(t,t.return,n)}}}function fu(t,s,r){r.props=Lr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(n){He(t,s,n)}}function bn(t,s){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof r=="function"?t.refCleanup=r(n):r.current=n}}catch(i){He(t,s,i)}}function hs(t,s){var r=t.ref,n=t.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(i){He(t,s,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(i){He(t,s,i)}else r.current=null}function gu(t){var s=t.type,r=t.memoizedProps,n=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){He(t,t.return,i)}}function K0(t,s,r){try{var n=t.stateNode;o9(n,t.type,r,s),n[Mt]=s}catch(i){He(t,t.return,i)}}function Eu(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ir(t.type)||t.tag===4}function Z0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Eu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function J0(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(t),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Il));else if(n!==4&&(n===27&&ir(t.type)&&(r=t.stateNode,s=null),t=t.child,t!==null))for(J0(t,s,r),t=t.sibling;t!==null;)J0(t,s,r),t=t.sibling}function Ol(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(n!==4&&(n===27&&ir(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ol(t,s,r),t=t.sibling;t!==null;)Ol(t,s,r),t=t.sibling}function pu(t){var s=t.stateNode,r=t.memoizedProps;try{for(var n=t.type,i=s.attributes;i.length;)s.removeAttributeNode(i[0]);Bt(s,n,r),s[Ft]=t,s[Mt]=r}catch(d){He(t,t.return,d)}}var Ms=!1,rt=!1,W0=!1,bu=typeof WeakSet=="function"?WeakSet:Set,pt=null;function V8(t,s){if(t=t.containerInfo,Bi=so,t=kc(t),Zo(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,d=n.focusNode;n=n.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var b=0,w=-1,q=-1,ee=0,ne=0,oe=t,te=null;t:for(;;){for(var se;oe!==r||i!==0&&oe.nodeType!==3||(w=b+i),oe!==d||n!==0&&oe.nodeType!==3||(q=b+n),oe.nodeType===3&&(b+=oe.nodeValue.length),(se=oe.firstChild)!==null;)te=oe,oe=se;for(;;){if(oe===t)break t;if(te===r&&++ee===i&&(w=b),te===d&&++ne===n&&(q=b),(se=oe.nextSibling)!==null)break;oe=te,te=oe.parentNode}oe=se}r=w===-1||q===-1?null:{start:w,end:q}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ai={focusedElem:t,selectionRange:r},so=!1,pt=s;pt!==null;)if(s=pt,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,pt=t;else for(;pt!==null;){switch(s=pt,d=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=s,i=d.memoizedProps,d=d.memoizedState,n=r.stateNode;try{var Be=Lr(r.type,i,r.elementType===r.type);t=n.getSnapshotBeforeUpdate(Be,d),n.__reactInternalSnapshotBeforeUpdate=t}catch(ye){He(r,r.return,ye)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,r=t.nodeType,r===9)wi(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wi(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=s.sibling,t!==null){t.return=s.return,pt=t;break}pt=s.return}}function yu(t,s,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:tr(t,r),n&4&&pn(5,r);break;case 1:if(tr(t,r),n&4)if(t=r.stateNode,s===null)try{t.componentDidMount()}catch(b){He(r,r.return,b)}else{var i=Lr(r.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(i,s,t.__reactInternalSnapshotBeforeUpdate)}catch(b){He(r,r.return,b)}}n&64&&hu(r),n&512&&bn(r,r.return);break;case 3:if(tr(t,r),n&64&&(t=r.updateQueue,t!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{td(t,s)}catch(b){He(r,r.return,b)}}break;case 27:s===null&&n&4&&pu(r);case 26:case 5:tr(t,r),s===null&&n&4&&gu(r),n&512&&bn(r,r.return);break;case 12:tr(t,r);break;case 13:tr(t,r),n&4&&Bu(t,r),n&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=K8.bind(null,r),h9(t,r))));break;case 22:if(n=r.memoizedState!==null||Ms,!n){s=s!==null&&s.memoizedState!==null||rt,i=Ms;var d=rt;Ms=n,(rt=s)&&!d?sr(t,r,(r.subtreeFlags&8772)!==0):tr(t,r),Ms=i,rt=d}break;case 30:break;default:tr(t,r)}}function vu(t){var s=t.alternate;s!==null&&(t.alternate=null,vu(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&_o(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Xe=null,Pt=!1;function Rs(t,s,r){for(r=r.child;r!==null;)Cu(t,s,r),r=r.sibling}function Cu(t,s,r){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Ua,r)}catch{}switch(r.tag){case 26:rt||hs(r,s),Rs(t,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:rt||hs(r,s);var n=Xe,i=Pt;ir(r.type)&&(Xe=r.stateNode,Pt=!1),Rs(t,s,r),Dn(r.stateNode),Xe=n,Pt=i;break;case 5:rt||hs(r,s);case 6:if(n=Xe,i=Pt,Xe=null,Rs(t,s,r),Xe=n,Pt=i,Xe!==null)if(Pt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(r.stateNode)}catch(d){He(r,s,d)}else try{Xe.removeChild(r.stateNode)}catch(d){He(r,s,d)}break;case 18:Xe!==null&&(Pt?(t=Xe,cm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Pn(t)):cm(Xe,r.stateNode));break;case 4:n=Xe,i=Pt,Xe=r.stateNode.containerInfo,Pt=!0,Rs(t,s,r),Xe=n,Pt=i;break;case 0:case 11:case 14:case 15:rt||er(2,r,s),rt||er(4,r,s),Rs(t,s,r);break;case 1:rt||(hs(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"&&fu(r,s,n)),Rs(t,s,r);break;case 21:Rs(t,s,r);break;case 22:rt=(n=rt)||r.memoizedState!==null,Rs(t,s,r),rt=n;break;default:Rs(t,s,r)}}function Bu(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pn(t)}catch(r){He(s,s.return,r)}}function q8(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new bu),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new bu),s;default:throw Error(l(435,t.tag))}}function ei(t,s){var r=q8(t);s.forEach(function(n){var i=Z8.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}function Ht(t,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n],d=t,b=s,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(ir(w.type)){Xe=w.stateNode,Pt=!1;break e}break;case 5:Xe=w.stateNode,Pt=!1;break e;case 3:case 4:Xe=w.stateNode.containerInfo,Pt=!0;break e}w=w.return}if(Xe===null)throw Error(l(160));Cu(d,b,i),Xe=null,Pt=!1,d=i.alternate,d!==null&&(d.return=null),i.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Au(s,t),s=s.sibling}var os=null;function Au(t,s){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ht(s,t),$t(t),n&4&&(er(3,t,t.return),pn(3,t),er(5,t,t.return));break;case 1:Ht(s,t),$t(t),n&512&&(rt||r===null||hs(r,r.return)),n&64&&Ms&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var i=os;if(Ht(s,t),$t(t),n&512&&(rt||r===null||hs(r,r.return)),n&4){var d=r!==null?r.memoizedState:null;if(n=t.memoizedState,r===null)if(n===null)if(t.stateNode===null){e:{n=t.type,r=t.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":d=i.getElementsByTagName("title")[0],(!d||d[qa]||d[Ft]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=i.createElement(n),i.head.insertBefore(d,i.querySelector("head > title"))),Bt(d,n,r),d[Ft]=t,gt(d),n=d;break e;case"link":var b=pm("link","href",i).get(n+(r.href||""));if(b){for(var w=0;w<b.length;w++)if(d=b[w],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(w,1);break t}}d=i.createElement(n),Bt(d,n,r),i.head.appendChild(d);break;case"meta":if(b=pm("meta","content",i).get(n+(r.content||""))){for(w=0;w<b.length;w++)if(d=b[w],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(w,1);break t}}d=i.createElement(n),Bt(d,n,r),i.head.appendChild(d);break;default:throw Error(l(468,n))}d[Ft]=t,gt(d),n=d}t.stateNode=n}else bm(i,t.type,t.stateNode);else t.stateNode=Em(i,n,t.memoizedProps);else d!==n?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,n===null?bm(i,t.type,t.stateNode):Em(i,n,t.memoizedProps)):n===null&&t.stateNode!==null&&K0(t,t.memoizedProps,r.memoizedProps)}break;case 27:Ht(s,t),$t(t),n&512&&(rt||r===null||hs(r,r.return)),r!==null&&n&4&&K0(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Ht(s,t),$t(t),n&512&&(rt||r===null||hs(r,r.return)),t.flags&32){i=t.stateNode;try{Wr(i,"")}catch(se){He(t,t.return,se)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,K0(t,i,r!==null?r.memoizedProps:i)),n&1024&&(W0=!0);break;case 6:if(Ht(s,t),$t(t),n&4){if(t.stateNode===null)throw Error(l(162));n=t.memoizedProps,r=t.stateNode;try{r.nodeValue=n}catch(se){He(t,t.return,se)}}break;case 3:if(Wl=null,i=os,os=Zl(s.containerInfo),Ht(s,t),os=i,$t(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pn(s.containerInfo)}catch(se){He(t,t.return,se)}W0&&(W0=!1,Fu(t));break;case 4:n=os,os=Zl(t.stateNode.containerInfo),Ht(s,t),$t(t),os=n;break;case 12:Ht(s,t),$t(t);break;case 13:Ht(s,t),$t(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(li=dt()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,ei(t,n)));break;case 22:i=t.memoizedState!==null;var q=r!==null&&r.memoizedState!==null,ee=Ms,ne=rt;if(Ms=ee||i,rt=ne||q,Ht(s,t),rt=ne,Ms=ee,$t(t),n&8192)e:for(s=t.stateNode,s._visibility=i?s._visibility&-2:s._visibility|1,i&&(r===null||q||Ms||rt||Or(t)),r=null,s=t;;){if(s.tag===5||s.tag===26){if(r===null){q=r=s;try{if(d=q.stateNode,i)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=q.stateNode;var oe=q.memoizedProps.style,te=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;w.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(se){He(q,q.return,se)}}}else if(s.tag===6){if(r===null){q=s;try{q.stateNode.nodeValue=i?"":q.memoizedProps}catch(se){He(q,q.return,se)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}n&4&&(n=t.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,ei(t,r))));break;case 19:Ht(s,t),$t(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,ei(t,n)));break;case 30:break;case 21:break;default:Ht(s,t),$t(t)}}function $t(t){var s=t.flags;if(s&2){try{for(var r,n=t.return;n!==null;){if(Eu(n)){r=n;break}n=n.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var i=r.stateNode,d=Z0(t);Ol(t,d,i);break;case 5:var b=r.stateNode;r.flags&32&&(Wr(b,""),r.flags&=-33);var w=Z0(t);Ol(t,w,b);break;case 3:case 4:var q=r.stateNode.containerInfo,ee=Z0(t);J0(t,ee,q);break;default:throw Error(l(161))}}catch(ne){He(t,t.return,ne)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Fu(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Fu(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function tr(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)yu(t,s.alternate,s),s=s.sibling}function Or(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:er(4,s,s.return),Or(s);break;case 1:hs(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&fu(s,s.return,r),Or(s);break;case 27:Dn(s.stateNode);case 26:case 5:hs(s,s.return),Or(s);break;case 22:s.memoizedState===null&&Or(s);break;case 30:Or(s);break;default:Or(s)}t=t.sibling}}function sr(t,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var n=s.alternate,i=t,d=s,b=d.flags;switch(d.tag){case 0:case 11:case 15:sr(i,d,r),pn(4,d);break;case 1:if(sr(i,d,r),n=d,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(ee){He(n,n.return,ee)}if(n=d,i=n.updateQueue,i!==null){var w=n.stateNode;try{var q=i.shared.hiddenCallbacks;if(q!==null)for(i.shared.hiddenCallbacks=null,i=0;i<q.length;i++)ed(q[i],w)}catch(ee){He(n,n.return,ee)}}r&&b&64&&hu(d),bn(d,d.return);break;case 27:pu(d);case 26:case 5:sr(i,d,r),r&&n===null&&b&4&&gu(d),bn(d,d.return);break;case 12:sr(i,d,r);break;case 13:sr(i,d,r),r&&b&4&&Bu(i,d);break;case 22:d.memoizedState===null&&sr(i,d,r),bn(d,d.return);break;case 30:break;default:sr(i,d,r)}s=s.sibling}}function ti(t,s){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&rn(r))}function si(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&rn(t))}function fs(t,s,r,n){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ju(t,s,r,n),s=s.sibling}function ju(t,s,r,n){var i=s.flags;switch(s.tag){case 0:case 11:case 15:fs(t,s,r,n),i&2048&&pn(9,s);break;case 1:fs(t,s,r,n);break;case 3:fs(t,s,r,n),i&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&rn(t)));break;case 12:if(i&2048){fs(t,s,r,n),t=s.stateNode;try{var d=s.memoizedProps,b=d.id,w=d.onPostCommit;typeof w=="function"&&w(b,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(q){He(s,s.return,q)}}else fs(t,s,r,n);break;case 13:fs(t,s,r,n);break;case 23:break;case 22:d=s.stateNode,b=s.alternate,s.memoizedState!==null?d._visibility&2?fs(t,s,r,n):yn(t,s):d._visibility&2?fs(t,s,r,n):(d._visibility|=2,pa(t,s,r,n,(s.subtreeFlags&10256)!==0)),i&2048&&ti(b,s);break;case 24:fs(t,s,r,n),i&2048&&si(s.alternate,s);break;default:fs(t,s,r,n)}}function pa(t,s,r,n,i){for(i=i&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var d=t,b=s,w=r,q=n,ee=b.flags;switch(b.tag){case 0:case 11:case 15:pa(d,b,w,q,i),pn(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?pa(d,b,w,q,i):yn(d,b):(ne._visibility|=2,pa(d,b,w,q,i)),i&&ee&2048&&ti(b.alternate,b);break;case 24:pa(d,b,w,q,i),i&&ee&2048&&si(b.alternate,b);break;default:pa(d,b,w,q,i)}s=s.sibling}}function yn(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=t,n=s,i=n.flags;switch(n.tag){case 22:yn(r,n),i&2048&&ti(n.alternate,n);break;case 24:yn(r,n),i&2048&&si(n.alternate,n);break;default:yn(r,n)}s=s.sibling}}var vn=8192;function ba(t){if(t.subtreeFlags&vn)for(t=t.child;t!==null;)wu(t),t=t.sibling}function wu(t){switch(t.tag){case 26:ba(t),t.flags&vn&&t.memoizedState!==null&&w9(os,t.memoizedState,t.memoizedProps);break;case 5:ba(t);break;case 3:case 4:var s=os;os=Zl(t.stateNode.containerInfo),ba(t),os=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=vn,vn=16777216,ba(t),vn=s):ba(t));break;default:ba(t)}}function Du(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Cn(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var n=s[r];pt=n,ku(n,t)}Du(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nu(t),t=t.sibling}function Nu(t){switch(t.tag){case 0:case 11:case 15:Cn(t),t.flags&2048&&er(9,t,t.return);break;case 3:Cn(t);break;case 12:Cn(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Ul(t)):Cn(t);break;default:Cn(t)}}function Ul(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var n=s[r];pt=n,ku(n,t)}Du(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:er(8,s,s.return),Ul(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Ul(s));break;default:Ul(s)}t=t.sibling}}function ku(t,s){for(;pt!==null;){var r=pt;switch(r.tag){case 0:case 11:case 15:er(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:rn(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,pt=n;else e:for(r=t;pt!==null;){n=pt;var i=n.sibling,d=n.return;if(vu(n),n===r){pt=null;break e}if(i!==null){i.return=d,pt=i;break e}pt=d}}}var H8={getCacheForType:function(t){var s=jt(ut),r=s.data.get(t);return r===void 0&&(r=t(),s.data.set(t,r)),r}},$8=typeof WeakMap=="function"?WeakMap:Map,Te=0,Ye=null,Ne=null,Se=0,Pe=0,Qt=null,rr=!1,ya=!1,ri=!1,Ts=0,et=0,ar=0,Ur=0,ai=0,rs=0,va=0,Bn=null,Lt=null,ni=!1,li=0,zl=1/0,Vl=null,nr=null,Ct=0,lr=null,Ca=null,Ba=0,oi=0,ii=null,Su=null,An=0,xi=null;function Yt(){if((Te&2)!==0&&Se!==0)return Se&-Se;if(j.T!==null){var t=ca;return t!==0?t:gi()}return Gx()}function _u(){rs===0&&(rs=(Se&536870912)===0||Me?Hx():536870912);var t=ss.current;return t!==null&&(t.flags|=32),rs}function Gt(t,s,r){(t===Ye&&(Pe===2||Pe===9)||t.cancelPendingCommit!==null)&&(Aa(t,0),or(t,Se,rs,!1)),Va(t,r),((Te&2)===0||t!==Ye)&&(t===Ye&&((Te&2)===0&&(Ur|=r),et===4&&or(t,Se,rs,!1)),gs(t))}function Mu(t,s,r){if((Te&6)!==0)throw Error(l(327));var n=!r&&(s&124)===0&&(s&t.expiredLanes)===0||za(t,s),i=n?G8(t,s):ui(t,s,!0),d=n;do{if(i===0){ya&&!n&&or(t,s,0,!1);break}else{if(r=t.current.alternate,d&&!Q8(r)){i=ui(t,s,!1),d=!1;continue}if(i===2){if(d=s,t.errorRecoveryDisabledLanes&d)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var w=t;i=Bn;var q=w.current.memoizedState.isDehydrated;if(q&&(Aa(w,b).flags|=256),b=ui(w,b,!1),b!==2){if(ri&&!q){w.errorRecoveryDisabledLanes|=d,Ur|=d,i=4;break e}d=Lt,Lt=i,d!==null&&(Lt===null?Lt=d:Lt.push.apply(Lt,d))}i=b}if(d=!1,i!==2)continue}}if(i===1){Aa(t,0),or(t,s,0,!0);break}e:{switch(n=t,d=i,d){case 0:case 1:throw Error(l(345));case 4:if((s&4194048)!==s)break;case 6:or(n,s,rs,!rr);break e;case 2:Lt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((s&62914560)===s&&(i=li+300-dt(),10<i)){if(or(n,s,rs,!rr),Jn(n,0,!0)!==0)break e;n.timeoutHandle=im(Ru.bind(null,n,r,Lt,Vl,ni,s,rs,Ur,va,rr,d,2,-0,0),i);break e}Ru(n,r,Lt,Vl,ni,s,rs,Ur,va,rr,d,0,-0,0)}}break}while(!0);gs(t)}function Ru(t,s,r,n,i,d,b,w,q,ee,ne,oe,te,se){if(t.timeoutHandle=-1,oe=s.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Sn={stylesheets:null,count:0,unsuspend:j9},wu(s),oe=D9(),oe!==null)){t.cancelPendingCommit=oe(Vu.bind(null,t,s,d,r,n,i,b,w,q,ne,1,te,se)),or(t,d,b,!ee);return}Vu(t,s,d,r,n,i,b,w,q)}function Q8(t){for(var s=t;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var i=r[n],d=i.getSnapshot;i=i.value;try{if(!Vt(d(),i))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function or(t,s,r,n){s&=~ai,s&=~Ur,t.suspendedLanes|=s,t.pingedLanes&=~s,n&&(t.warmLanes|=s),n=t.expirationTimes;for(var i=s;0<i;){var d=31-zt(i),b=1<<d;n[d]=-1,i&=~b}r!==0&&Qx(t,r,s)}function ql(){return(Te&6)===0?(Fn(0),!1):!0}function ci(){if(Ne!==null){if(Pe===0)var t=Ne.return;else t=Ne,ws=Mr=null,w0(t),ga=null,fn=0,t=Ne;for(;t!==null;)mu(t.alternate,t),t=t.return;Ne=null}}function Aa(t,s){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,x9(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ci(),Ye=t,Ne=r=As(t.current,null),Se=s,Pe=0,Qt=null,rr=!1,ya=za(t,s),ri=!1,va=rs=ai=Ur=ar=et=0,Lt=Bn=null,ni=!1,(s&8)!==0&&(s|=s&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=s;0<n;){var i=31-zt(n),d=1<<i;s|=t[i],n&=~d}return Ts=s,cl(),r}function Tu(t,s){we=null,j.H=Nl,s===nn||s===bl?(s=Jc(),Pe=3):s===Ic?(s=Jc(),Pe=4):Pe=s===Wd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Qt=s,Ne===null&&(et=1,Rl(t,Jt(s,t.current)))}function Pu(){var t=j.H;return j.H=Nl,t===null?Nl:t}function Lu(){var t=j.A;return j.A=H8,t}function di(){et=4,rr||(Se&4194048)!==Se&&ss.current!==null||(ya=!0),(ar&134217727)===0&&(Ur&134217727)===0||Ye===null||or(Ye,Se,rs,!1)}function ui(t,s,r){var n=Te;Te|=2;var i=Pu(),d=Lu();(Ye!==t||Se!==s)&&(Vl=null,Aa(t,s)),s=!1;var b=et;e:do try{if(Pe!==0&&Ne!==null){var w=Ne,q=Qt;switch(Pe){case 8:ci(),b=6;break e;case 3:case 2:case 9:case 6:ss.current===null&&(s=!0);var ee=Pe;if(Pe=0,Qt=null,Fa(t,w,q,ee),r&&ya){b=0;break e}break;default:ee=Pe,Pe=0,Qt=null,Fa(t,w,q,ee)}}Y8(),b=et;break}catch(ne){Tu(t,ne)}while(!0);return s&&t.shellSuspendCounter++,ws=Mr=null,Te=n,j.H=i,j.A=d,Ne===null&&(Ye=null,Se=0,cl()),b}function Y8(){for(;Ne!==null;)Ou(Ne)}function G8(t,s){var r=Te;Te|=2;var n=Pu(),i=Lu();Ye!==t||Se!==s?(Vl=null,zl=dt()+500,Aa(t,s)):ya=za(t,s);e:do try{if(Pe!==0&&Ne!==null){s=Ne;var d=Qt;t:switch(Pe){case 1:Pe=0,Qt=null,Fa(t,s,d,1);break;case 2:case 9:if(Kc(d)){Pe=0,Qt=null,Uu(s);break}s=function(){Pe!==2&&Pe!==9||Ye!==t||(Pe=7),gs(t)},d.then(s,s);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:Kc(d)?(Pe=0,Qt=null,Uu(s)):(Pe=0,Qt=null,Fa(t,s,d,7));break;case 5:var b=null;switch(Ne.tag){case 26:b=Ne.memoizedState;case 5:case 27:var w=Ne;if(!b||ym(b)){Pe=0,Qt=null;var q=w.sibling;if(q!==null)Ne=q;else{var ee=w.return;ee!==null?(Ne=ee,Hl(ee)):Ne=null}break t}}Pe=0,Qt=null,Fa(t,s,d,5);break;case 6:Pe=0,Qt=null,Fa(t,s,d,6);break;case 8:ci(),et=6;break e;default:throw Error(l(462))}}X8();break}catch(ne){Tu(t,ne)}while(!0);return ws=Mr=null,j.H=n,j.A=i,Te=r,Ne!==null?0:(Ye=null,Se=0,cl(),et)}function X8(){for(;Ne!==null&&!tt();)Ou(Ne)}function Ou(t){var s=du(t.alternate,t,Ts);t.memoizedProps=t.pendingProps,s===null?Hl(t):Ne=s}function Uu(t){var s=t,r=s.alternate;switch(s.tag){case 15:case 0:s=nu(r,s,s.pendingProps,s.type,void 0,Se);break;case 11:s=nu(r,s,s.pendingProps,s.type.render,s.ref,Se);break;case 5:w0(s);default:mu(r,s),s=Ne=zc(s,Ts),s=du(r,s,Ts)}t.memoizedProps=t.pendingProps,s===null?Hl(t):Ne=s}function Fa(t,s,r,n){ws=Mr=null,w0(s),ga=null,fn=0;var i=s.return;try{if(L8(t,i,s,r,Se)){et=1,Rl(t,Jt(r,t.current)),Ne=null;return}}catch(d){if(i!==null)throw Ne=i,d;et=1,Rl(t,Jt(r,t.current)),Ne=null;return}s.flags&32768?(Me||n===1?t=!0:ya||(Se&536870912)!==0?t=!1:(rr=t=!0,(n===2||n===9||n===3||n===6)&&(n=ss.current,n!==null&&n.tag===13&&(n.flags|=16384))),zu(s,t)):Hl(s)}function Hl(t){var s=t;do{if((s.flags&32768)!==0){zu(s,rr);return}t=s.return;var r=U8(s.alternate,s,Ts);if(r!==null){Ne=r;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=t}while(s!==null);et===0&&(et=5)}function zu(t,s){do{var r=z8(t.alternate,t);if(r!==null){r.flags&=32767,Ne=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=r}while(t!==null);et=6,Ne=null}function Vu(t,s,r,n,i,d,b,w,q){t.cancelPendingCommit=null;do $l();while(Ct!==0);if((Te&6)!==0)throw Error(l(327));if(s!==null){if(s===t.current)throw Error(l(177));if(d=s.lanes|s.childLanes,d|=s0,jf(t,r,d,b,w,q),t===Ye&&(Ne=Ye=null,Se=0),Ca=s,lr=t,Ba=r,oi=d,ii=i,Su=n,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,J8(Ce,function(){return Yu(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||n){n=j.T,j.T=null,i=P.p,P.p=2,b=Te,Te|=4;try{V8(t,s,r)}finally{Te=b,P.p=i,j.T=n}}Ct=1,qu(),Hu(),$u()}}function qu(){if(Ct===1){Ct=0;var t=lr,s=Ca,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var n=P.p;P.p=2;var i=Te;Te|=4;try{Au(s,t);var d=Ai,b=kc(t.containerInfo),w=d.focusedElem,q=d.selectionRange;if(b!==w&&w&&w.ownerDocument&&Nc(w.ownerDocument.documentElement,w)){if(q!==null&&Zo(w)){var ee=q.start,ne=q.end;if(ne===void 0&&(ne=ee),"selectionStart"in w)w.selectionStart=ee,w.selectionEnd=Math.min(ne,w.value.length);else{var oe=w.ownerDocument||document,te=oe&&oe.defaultView||window;if(te.getSelection){var se=te.getSelection(),Be=w.textContent.length,ye=Math.min(q.start,Be),ze=q.end===void 0?ye:Math.min(q.end,Be);!se.extend&&ye>ze&&(b=ze,ze=ye,ye=b);var K=Dc(w,ye),Y=Dc(w,ze);if(K&&Y&&(se.rangeCount!==1||se.anchorNode!==K.node||se.anchorOffset!==K.offset||se.focusNode!==Y.node||se.focusOffset!==Y.offset)){var W=oe.createRange();W.setStart(K.node,K.offset),se.removeAllRanges(),ye>ze?(se.addRange(W),se.extend(Y.node,Y.offset)):(W.setEnd(Y.node,Y.offset),se.addRange(W))}}}}for(oe=[],se=w;se=se.parentNode;)se.nodeType===1&&oe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<oe.length;w++){var le=oe[w];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}so=!!Bi,Ai=Bi=null}finally{Te=i,P.p=n,j.T=r}}t.current=s,Ct=2}}function Hu(){if(Ct===2){Ct=0;var t=lr,s=Ca,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var n=P.p;P.p=2;var i=Te;Te|=4;try{yu(t,s.alternate,s)}finally{Te=i,P.p=n,j.T=r}}Ct=3}}function $u(){if(Ct===4||Ct===3){Ct=0,_t();var t=lr,s=Ca,r=Ba,n=Su;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ct=5:(Ct=0,Ca=lr=null,Qu(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(nr=null),ko(r),s=s.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Ua,s,void 0,(s.current.flags&128)===128)}catch{}if(n!==null){s=j.T,i=P.p,P.p=2,j.T=null;try{for(var d=t.onRecoverableError,b=0;b<n.length;b++){var w=n[b];d(w.value,{componentStack:w.stack})}}finally{j.T=s,P.p=i}}(Ba&3)!==0&&$l(),gs(t),i=t.pendingLanes,(r&4194090)!==0&&(i&42)!==0?t===xi?An++:(An=0,xi=t):An=0,Fn(0)}}function Qu(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,rn(s)))}function $l(t){return qu(),Hu(),$u(),Yu()}function Yu(){if(Ct!==5)return!1;var t=lr,s=oi;oi=0;var r=ko(Ba),n=j.T,i=P.p;try{P.p=32>r?32:r,j.T=null,r=ii,ii=null;var d=lr,b=Ba;if(Ct=0,Ca=lr=null,Ba=0,(Te&6)!==0)throw Error(l(331));var w=Te;if(Te|=4,Nu(d.current),ju(d,d.current,b,r),Te=w,Fn(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Ua,d)}catch{}return!0}finally{P.p=i,j.T=n,Qu(t,s)}}function Gu(t,s,r){s=Jt(r,s),s=V0(t.stateNode,s,2),t=Ks(t,s,2),t!==null&&(Va(t,2),gs(t))}function He(t,s,r){if(t.tag===3)Gu(t,t,r);else for(;s!==null;){if(s.tag===3){Gu(s,t,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nr===null||!nr.has(n))){t=Jt(r,t),r=Zd(2),n=Ks(s,r,2),n!==null&&(Jd(r,n,s,t),Va(n,2),gs(n));break}}s=s.return}}function mi(t,s,r){var n=t.pingCache;if(n===null){n=t.pingCache=new $8;var i=new Set;n.set(s,i)}else i=n.get(s),i===void 0&&(i=new Set,n.set(s,i));i.has(r)||(ri=!0,i.add(r),t=I8.bind(null,t,s,r),s.then(t,t))}function I8(t,s,r){var n=t.pingCache;n!==null&&n.delete(s),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ye===t&&(Se&r)===r&&(et===4||et===3&&(Se&62914560)===Se&&300>dt()-li?(Te&2)===0&&Aa(t,0):ai|=r,va===Se&&(va=0)),gs(t)}function Xu(t,s){s===0&&(s=$x()),t=la(t,s),t!==null&&(Va(t,s),gs(t))}function K8(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),Xu(t,r)}function Z8(t,s){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(l(314))}n!==null&&n.delete(s),Xu(t,r)}function J8(t,s){return at(t,s)}var Ql=null,ja=null,hi=!1,Yl=!1,fi=!1,zr=0;function gs(t){t!==ja&&t.next===null&&(ja===null?Ql=ja=t:ja=ja.next=t),Yl=!0,hi||(hi=!0,e9())}function Fn(t,s){if(!fi&&Yl){fi=!0;do for(var r=!1,n=Ql;n!==null;){if(t!==0){var i=n.pendingLanes;if(i===0)var d=0;else{var b=n.suspendedLanes,w=n.pingedLanes;d=(1<<31-zt(42|t)+1)-1,d&=i&~(b&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,Ju(n,d))}else d=Se,d=Jn(n,n===Ye?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(d&3)===0||za(n,d)||(r=!0,Ju(n,d));n=n.next}while(r);fi=!1}}function W8(){Iu()}function Iu(){Yl=hi=!1;var t=0;zr!==0&&(i9()&&(t=zr),zr=0);for(var s=dt(),r=null,n=Ql;n!==null;){var i=n.next,d=Ku(n,s);d===0?(n.next=null,r===null?Ql=i:r.next=i,i===null&&(ja=r)):(r=n,(t!==0||(d&3)!==0)&&(Yl=!0)),n=i}Fn(t)}function Ku(t,s){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var b=31-zt(d),w=1<<b,q=i[b];q===-1?((w&r)===0||(w&n)!==0)&&(i[b]=Ff(w,s)):q<=s&&(t.expiredLanes|=w),d&=~w}if(s=Ye,r=Se,r=Jn(t,t===s?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,r===0||t===s&&(Pe===2||Pe===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&Qe(n),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||za(t,r)){if(s=r&-r,s===t.callbackPriority)return s;switch(n!==null&&Qe(n),ko(r)){case 2:case 8:r=qe;break;case 32:r=Ce;break;case 268435456:r=Hs;break;default:r=Ce}return n=Zu.bind(null,t),r=at(r,n),t.callbackPriority=s,t.callbackNode=r,s}return n!==null&&n!==null&&Qe(n),t.callbackPriority=2,t.callbackNode=null,2}function Zu(t,s){if(Ct!==0&&Ct!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if($l()&&t.callbackNode!==r)return null;var n=Se;return n=Jn(t,t===Ye?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(Mu(t,n,s),Ku(t,dt()),t.callbackNode!=null&&t.callbackNode===r?Zu.bind(null,t):null)}function Ju(t,s){if($l())return null;Mu(t,s,!0)}function e9(){c9(function(){(Te&6)!==0?at(pe,W8):Iu()})}function gi(){return zr===0&&(zr=Hx()),zr}function Wu(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:rl(""+t)}function em(t,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,t.id&&r.setAttribute("form",t.id),s.parentNode.insertBefore(r,s),t=new FormData(t),r.parentNode.removeChild(r),t}function t9(t,s,r,n,i){if(s==="submit"&&r&&r.stateNode===i){var d=Wu((i[Mt]||null).action),b=n.submitter;b&&(s=(s=b[Mt]||null)?Wu(s.formAction):b.getAttribute("formAction"),s!==null&&(d=s,b=null));var w=new ol("action","action",null,n,i);t.push({event:w,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(zr!==0){var q=b?em(i,b):new FormData(i);P0(r,{pending:!0,data:q,method:i.method,action:d},null,q)}}else typeof d=="function"&&(w.preventDefault(),q=b?em(i,b):new FormData(i),P0(r,{pending:!0,data:q,method:i.method,action:d},d,q))},currentTarget:i}]})}}for(var Ei=0;Ei<t0.length;Ei++){var pi=t0[Ei],s9=pi.toLowerCase(),r9=pi[0].toUpperCase()+pi.slice(1);ls(s9,"on"+r9)}ls(Mc,"onAnimationEnd"),ls(Rc,"onAnimationIteration"),ls(Tc,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(y8,"onTransitionRun"),ls(v8,"onTransitionStart"),ls(C8,"onTransitionCancel"),ls(Pc,"onTransitionEnd"),Kr("onMouseEnter",["mouseout","mouseover"]),Kr("onMouseLeave",["mouseout","mouseover"]),Kr("onPointerEnter",["pointerout","pointerover"]),Kr("onPointerLeave",["pointerout","pointerover"]),Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jn));function tm(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var d=void 0;if(s)for(var b=n.length-1;0<=b;b--){var w=n[b],q=w.instance,ee=w.currentTarget;if(w=w.listener,q!==d&&i.isPropagationStopped())break e;d=w,i.currentTarget=ee;try{d(i)}catch(ne){Ml(ne)}i.currentTarget=null,d=q}else for(b=0;b<n.length;b++){if(w=n[b],q=w.instance,ee=w.currentTarget,w=w.listener,q!==d&&i.isPropagationStopped())break e;d=w,i.currentTarget=ee;try{d(i)}catch(ne){Ml(ne)}i.currentTarget=null,d=q}}}}function ke(t,s){var r=s[So];r===void 0&&(r=s[So]=new Set);var n=t+"__bubble";r.has(n)||(sm(s,t,2,!1),r.add(n))}function bi(t,s,r){var n=0;s&&(n|=4),sm(r,t,n,s)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function yi(t){if(!t[Gl]){t[Gl]=!0,Ix.forEach(function(r){r!=="selectionchange"&&(a9.has(r)||bi(r,!1,t),bi(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Gl]||(s[Gl]=!0,bi("selectionchange",!1,s))}}function sm(t,s,r,n){switch(jm(s)){case 2:var i=S9;break;case 8:i=_9;break;default:i=Ri}r=i.bind(null,s,r,t),i=void 0,!qo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(s,r,{capture:!0,passive:i}):t.addEventListener(s,r,!0):i!==void 0?t.addEventListener(s,r,{passive:i}):t.addEventListener(s,r,!1)}function vi(t,s,r,n,i){var d=n;if((s&1)===0&&(s&2)===0&&n!==null)e:for(;;){if(n===null)return;var b=n.tag;if(b===3||b===4){var w=n.stateNode.containerInfo;if(w===i)break;if(b===4)for(b=n.return;b!==null;){var q=b.tag;if((q===3||q===4)&&b.stateNode.containerInfo===i)return;b=b.return}for(;w!==null;){if(b=Gr(w),b===null)return;if(q=b.tag,q===5||q===6||q===26||q===27){n=d=b;continue e}w=w.parentNode}}n=n.return}xc(function(){var ee=d,ne=zo(r),oe=[];e:{var te=Lc.get(t);if(te!==void 0){var se=ol,Be=t;switch(t){case"keypress":if(nl(r)===0)break e;case"keydown":case"keyup":se=Jf;break;case"focusin":Be="focus",se=Yo;break;case"focusout":Be="blur",se=Yo;break;case"beforeblur":case"afterblur":se=Yo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=t8;break;case Mc:case Rc:case Tc:se=Hf;break;case Pc:se=r8;break;case"scroll":case"scrollend":se=Of;break;case"wheel":se=n8;break;case"copy":case"cut":case"paste":se=Qf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=hc;break;case"toggle":case"beforetoggle":se=o8}var ye=(s&4)!==0,ze=!ye&&(t==="scroll"||t==="scrollend"),K=ye?te!==null?te+"Capture":null:te;ye=[];for(var Y=ee,W;Y!==null;){var le=Y;if(W=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||W===null||K===null||(le=$a(Y,K),le!=null&&ye.push(wn(Y,le,W))),ze)break;Y=Y.return}0<ye.length&&(te=new se(te,Be,null,r,ne),oe.push({event:te,listeners:ye}))}}if((s&7)===0){e:{if(te=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",te&&r!==Uo&&(Be=r.relatedTarget||r.fromElement)&&(Gr(Be)||Be[Yr]))break e;if((se||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,se?(Be=r.relatedTarget||r.toElement,se=ee,Be=Be?Gr(Be):null,Be!==null&&(ze=u(Be),ye=Be.tag,Be!==ze||ye!==5&&ye!==27&&ye!==6)&&(Be=null)):(se=null,Be=ee),se!==Be)){if(ye=uc,le="onMouseLeave",K="onMouseEnter",Y="mouse",(t==="pointerout"||t==="pointerover")&&(ye=hc,le="onPointerLeave",K="onPointerEnter",Y="pointer"),ze=se==null?te:Ha(se),W=Be==null?te:Ha(Be),te=new ye(le,Y+"leave",se,r,ne),te.target=ze,te.relatedTarget=W,le=null,Gr(ne)===ee&&(ye=new ye(K,Y+"enter",Be,r,ne),ye.target=W,ye.relatedTarget=ze,le=ye),ze=le,se&&Be)t:{for(ye=se,K=Be,Y=0,W=ye;W;W=wa(W))Y++;for(W=0,le=K;le;le=wa(le))W++;for(;0<Y-W;)ye=wa(ye),Y--;for(;0<W-Y;)K=wa(K),W--;for(;Y--;){if(ye===K||K!==null&&ye===K.alternate)break t;ye=wa(ye),K=wa(K)}ye=null}else ye=null;se!==null&&rm(oe,te,se,ye,!1),Be!==null&&ze!==null&&rm(oe,ze,Be,ye,!0)}}e:{if(te=ee?Ha(ee):window,se=te.nodeName&&te.nodeName.toLowerCase(),se==="select"||se==="input"&&te.type==="file")var fe=Cc;else if(yc(te))if(Bc)fe=E8;else{fe=f8;var De=h8}else se=te.nodeName,!se||se.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Oo(ee.elementType)&&(fe=Cc):fe=g8;if(fe&&(fe=fe(t,ee))){vc(oe,fe,r,ne);break e}De&&De(t,te,ee),t==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Lo(te,"number",te.value)}switch(De=ee?Ha(ee):window,t){case"focusin":(yc(De)||De.contentEditable==="true")&&(ra=De,Jo=ee,Ja=null);break;case"focusout":Ja=Jo=ra=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,Sc(oe,r,ne);break;case"selectionchange":if(b8)break;case"keydown":case"keyup":Sc(oe,r,ne)}var Ee;if(Xo)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else sa?pc(t,r)&&(ve="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ve="onCompositionStart");ve&&(fc&&r.locale!=="ko"&&(sa||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&sa&&(Ee=cc()):(Ys=ne,Ho="value"in Ys?Ys.value:Ys.textContent,sa=!0)),De=Xl(ee,ve),0<De.length&&(ve=new mc(ve,t,null,r,ne),oe.push({event:ve,listeners:De}),Ee?ve.data=Ee:(Ee=bc(r),Ee!==null&&(ve.data=Ee)))),(Ee=x8?c8(t,r):d8(t,r))&&(ve=Xl(ee,"onBeforeInput"),0<ve.length&&(De=new mc("onBeforeInput","beforeinput",null,r,ne),oe.push({event:De,listeners:ve}),De.data=Ee)),t9(oe,t,ee,r,ne)}tm(oe,s)})}function wn(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Xl(t,s){for(var r=s+"Capture",n=[];t!==null;){var i=t,d=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||d===null||(i=$a(t,r),i!=null&&n.unshift(wn(t,i,d)),i=$a(t,s),i!=null&&n.push(wn(t,i,d))),t.tag===3)return n;t=t.return}return[]}function wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function rm(t,s,r,n,i){for(var d=s._reactName,b=[];r!==null&&r!==n;){var w=r,q=w.alternate,ee=w.stateNode;if(w=w.tag,q!==null&&q===n)break;w!==5&&w!==26&&w!==27||ee===null||(q=ee,i?(ee=$a(r,d),ee!=null&&b.unshift(wn(r,ee,q))):i||(ee=$a(r,d),ee!=null&&b.push(wn(r,ee,q)))),r=r.return}b.length!==0&&t.push({event:s,listeners:b})}var n9=/\r\n?/g,l9=/\u0000|\uFFFD/g;function am(t){return(typeof t=="string"?t:""+t).replace(n9,`
`).replace(l9,"")}function nm(t,s){return s=am(s),am(t)===s}function Il(){}function Ue(t,s,r,n,i,d){switch(r){case"children":typeof n=="string"?s==="body"||s==="textarea"&&n===""||Wr(t,n):(typeof n=="number"||typeof n=="bigint")&&s!=="body"&&Wr(t,""+n);break;case"className":el(t,"class",n);break;case"tabIndex":el(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":el(t,r,n);break;case"style":oc(t,n,d);break;case"data":if(s!=="object"){el(t,"data",n);break}case"src":case"href":if(n===""&&(s!=="a"||r!=="href")){t.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=rl(""+n),t.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(s!=="input"&&Ue(t,s,"name",i.name,i,null),Ue(t,s,"formEncType",i.formEncType,i,null),Ue(t,s,"formMethod",i.formMethod,i,null),Ue(t,s,"formTarget",i.formTarget,i,null)):(Ue(t,s,"encType",i.encType,i,null),Ue(t,s,"method",i.method,i,null),Ue(t,s,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=rl(""+n),t.setAttribute(r,n);break;case"onClick":n!=null&&(t.onclick=Il);break;case"onScroll":n!=null&&ke("scroll",t);break;case"onScrollEnd":n!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}r=rl(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""+n):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":n===!0?t.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,n):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(r,n):t.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(r):t.setAttribute(r,n);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Wn(t,"popover",n);break;case"xlinkActuate":Cs(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Cs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Cs(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Cs(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Cs(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Cs(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Cs(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Cs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Cs(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Wn(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Pf.get(r)||r,Wn(t,r,n))}}function Ci(t,s,r,n,i,d){switch(r){case"style":oc(t,n,d);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"children":typeof n=="string"?Wr(t,n):(typeof n=="number"||typeof n=="bigint")&&Wr(t,""+n);break;case"onScroll":n!=null&&ke("scroll",t);break;case"onScrollEnd":n!=null&&ke("scrollend",t);break;case"onClick":n!=null&&(t.onclick=Il);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kx.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(i=r.endsWith("Capture"),s=r.slice(2,i?r.length-7:void 0),d=t[Mt]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(s,d,i),typeof n=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(s,n,i);break e}r in t?t[r]=n:n===!0?t.setAttribute(r,""):Wn(t,r,n)}}}function Bt(t,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var n=!1,i=!1,d;for(d in r)if(r.hasOwnProperty(d)){var b=r[d];if(b!=null)switch(d){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,s));default:Ue(t,s,d,b,r,null)}}i&&Ue(t,s,"srcSet",r.srcSet,r,null),n&&Ue(t,s,"src",r.src,r,null);return;case"input":ke("invalid",t);var w=d=b=i=null,q=null,ee=null;for(n in r)if(r.hasOwnProperty(n)){var ne=r[n];if(ne!=null)switch(n){case"name":i=ne;break;case"type":b=ne;break;case"checked":q=ne;break;case"defaultChecked":ee=ne;break;case"value":d=ne;break;case"defaultValue":w=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(l(137,s));break;default:Ue(t,s,n,ne,r,null)}}rc(t,d,w,q,ee,b,i,!1),tl(t);return;case"select":ke("invalid",t),n=b=d=null;for(i in r)if(r.hasOwnProperty(i)&&(w=r[i],w!=null))switch(i){case"value":d=w;break;case"defaultValue":b=w;break;case"multiple":n=w;default:Ue(t,s,i,w,r,null)}s=d,r=b,t.multiple=!!n,s!=null?Jr(t,!!n,s,!1):r!=null&&Jr(t,!!n,r,!0);return;case"textarea":ke("invalid",t),d=i=n=null;for(b in r)if(r.hasOwnProperty(b)&&(w=r[b],w!=null))switch(b){case"value":n=w;break;case"defaultValue":i=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(l(91));break;default:Ue(t,s,b,w,r,null)}nc(t,n,i,d),tl(t);return;case"option":for(q in r)if(r.hasOwnProperty(q)&&(n=r[q],n!=null))switch(q){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Ue(t,s,q,n,r,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(n=0;n<jn.length;n++)ke(jn[n],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in r)if(r.hasOwnProperty(ee)&&(n=r[ee],n!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,s));default:Ue(t,s,ee,n,r,null)}return;default:if(Oo(s)){for(ne in r)r.hasOwnProperty(ne)&&(n=r[ne],n!==void 0&&Ci(t,s,ne,n,r,void 0));return}}for(w in r)r.hasOwnProperty(w)&&(n=r[w],n!=null&&Ue(t,s,w,n,r,null))}function o9(t,s,r,n){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,d=null,b=null,w=null,q=null,ee=null,ne=null;for(se in r){var oe=r[se];if(r.hasOwnProperty(se)&&oe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":q=oe;default:n.hasOwnProperty(se)||Ue(t,s,se,null,n,oe)}}for(var te in n){var se=n[te];if(oe=r[te],n.hasOwnProperty(te)&&(se!=null||oe!=null))switch(te){case"type":d=se;break;case"name":i=se;break;case"checked":ee=se;break;case"defaultChecked":ne=se;break;case"value":b=se;break;case"defaultValue":w=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(l(137,s));break;default:se!==oe&&Ue(t,s,te,se,n,oe)}}Po(t,b,w,q,ee,ne,d,i);return;case"select":se=b=w=te=null;for(d in r)if(q=r[d],r.hasOwnProperty(d)&&q!=null)switch(d){case"value":break;case"multiple":se=q;default:n.hasOwnProperty(d)||Ue(t,s,d,null,n,q)}for(i in n)if(d=n[i],q=r[i],n.hasOwnProperty(i)&&(d!=null||q!=null))switch(i){case"value":te=d;break;case"defaultValue":w=d;break;case"multiple":b=d;default:d!==q&&Ue(t,s,i,d,n,q)}s=w,r=b,n=se,te!=null?Jr(t,!!r,te,!1):!!n!=!!r&&(s!=null?Jr(t,!!r,s,!0):Jr(t,!!r,r?[]:"",!1));return;case"textarea":se=te=null;for(w in r)if(i=r[w],r.hasOwnProperty(w)&&i!=null&&!n.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ue(t,s,w,null,n,i)}for(b in n)if(i=n[b],d=r[b],n.hasOwnProperty(b)&&(i!=null||d!=null))switch(b){case"value":te=i;break;case"defaultValue":se=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(l(91));break;default:i!==d&&Ue(t,s,b,i,n,d)}ac(t,te,se);return;case"option":for(var Be in r)if(te=r[Be],r.hasOwnProperty(Be)&&te!=null&&!n.hasOwnProperty(Be))switch(Be){case"selected":t.selected=!1;break;default:Ue(t,s,Be,null,n,te)}for(q in n)if(te=n[q],se=r[q],n.hasOwnProperty(q)&&te!==se&&(te!=null||se!=null))switch(q){case"selected":t.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Ue(t,s,q,te,n,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in r)te=r[ye],r.hasOwnProperty(ye)&&te!=null&&!n.hasOwnProperty(ye)&&Ue(t,s,ye,null,n,te);for(ee in n)if(te=n[ee],se=r[ee],n.hasOwnProperty(ee)&&te!==se&&(te!=null||se!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(l(137,s));break;default:Ue(t,s,ee,te,n,se)}return;default:if(Oo(s)){for(var ze in r)te=r[ze],r.hasOwnProperty(ze)&&te!==void 0&&!n.hasOwnProperty(ze)&&Ci(t,s,ze,void 0,n,te);for(ne in n)te=n[ne],se=r[ne],!n.hasOwnProperty(ne)||te===se||te===void 0&&se===void 0||Ci(t,s,ne,te,n,se);return}}for(var K in r)te=r[K],r.hasOwnProperty(K)&&te!=null&&!n.hasOwnProperty(K)&&Ue(t,s,K,null,n,te);for(oe in n)te=n[oe],se=r[oe],!n.hasOwnProperty(oe)||te===se||te==null&&se==null||Ue(t,s,oe,te,n,se)}var Bi=null,Ai=null;function Kl(t){return t.nodeType===9?t:t.ownerDocument}function lm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function om(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Fi(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ji=null;function i9(){var t=window.event;return t&&t.type==="popstate"?t===ji?!1:(ji=t,!0):(ji=null,!1)}var im=typeof setTimeout=="function"?setTimeout:void 0,x9=typeof clearTimeout=="function"?clearTimeout:void 0,xm=typeof Promise=="function"?Promise:void 0,c9=typeof queueMicrotask=="function"?queueMicrotask:typeof xm<"u"?function(t){return xm.resolve(null).then(t).catch(d9)}:im;function d9(t){setTimeout(function(){throw t})}function ir(t){return t==="head"}function cm(t,s){var r=s,n=0,i=0;do{var d=r.nextSibling;if(t.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"){if(0<n&&8>n){r=n;var b=t.ownerDocument;if(r&1&&Dn(b.documentElement),r&2&&Dn(b.body),r&4)for(r=b.head,Dn(r),b=r.firstChild;b;){var w=b.nextSibling,q=b.nodeName;b[qa]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&b.rel.toLowerCase()==="stylesheet"||r.removeChild(b),b=w}}if(i===0){t.removeChild(d),Pn(s);return}i--}else r==="$"||r==="$?"||r==="$!"?i++:n=r.charCodeAt(0)-48;else n=0;r=d}while(r);Pn(s)}function wi(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":wi(r),_o(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function u9(t,s,r,n){for(;t.nodeType===1;){var i=r;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[qa])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=is(t.nextSibling),t===null)break}return null}function m9(t,s,r){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=is(t.nextSibling),t===null))return null;return t}function Di(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function h9(t,s){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")s();else{var n=function(){s(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function is(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var Ni=null;function dm(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}function um(t,s,r){switch(s=Kl(r),t){case"html":if(t=s.documentElement,!t)throw Error(l(452));return t;case"head":if(t=s.head,!t)throw Error(l(453));return t;case"body":if(t=s.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Dn(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);_o(t)}var as=new Map,mm=new Set;function Zl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ps=P.d;P.d={f:f9,r:g9,D:E9,C:p9,L:b9,m:y9,X:C9,S:v9,M:B9};function f9(){var t=Ps.f(),s=ql();return t||s}function g9(t){var s=Xr(t);s!==null&&s.tag===5&&s.type==="form"?Md(s):Ps.r(t)}var Da=typeof document>"u"?null:document;function hm(t,s,r){var n=Da;if(n&&typeof s=="string"&&s){var i=Zt(s);i='link[rel="'+t+'"][href="'+i+'"]',typeof r=="string"&&(i+='[crossorigin="'+r+'"]'),mm.has(i)||(mm.add(i),t={rel:t,crossOrigin:r,href:s},n.querySelector(i)===null&&(s=n.createElement("link"),Bt(s,"link",t),gt(s),n.head.appendChild(s)))}}function E9(t){Ps.D(t),hm("dns-prefetch",t,null)}function p9(t,s){Ps.C(t,s),hm("preconnect",t,s)}function b9(t,s,r){Ps.L(t,s,r);var n=Da;if(n&&t&&s){var i='link[rel="preload"][as="'+Zt(s)+'"]';s==="image"&&r&&r.imageSrcSet?(i+='[imagesrcset="'+Zt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(i+='[imagesizes="'+Zt(r.imageSizes)+'"]')):i+='[href="'+Zt(t)+'"]';var d=i;switch(s){case"style":d=Na(t);break;case"script":d=ka(t)}as.has(d)||(t=y({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:t,as:s},r),as.set(d,t),n.querySelector(i)!==null||s==="style"&&n.querySelector(Nn(d))||s==="script"&&n.querySelector(kn(d))||(s=n.createElement("link"),Bt(s,"link",t),gt(s),n.head.appendChild(s)))}}function y9(t,s){Ps.m(t,s);var r=Da;if(r&&t){var n=s&&typeof s.as=="string"?s.as:"script",i='link[rel="modulepreload"][as="'+Zt(n)+'"][href="'+Zt(t)+'"]',d=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ka(t)}if(!as.has(d)&&(t=y({rel:"modulepreload",href:t},s),as.set(d,t),r.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(kn(d)))return}n=r.createElement("link"),Bt(n,"link",t),gt(n),r.head.appendChild(n)}}}function v9(t,s,r){Ps.S(t,s,r);var n=Da;if(n&&t){var i=Ir(n).hoistableStyles,d=Na(t);s=s||"default";var b=i.get(d);if(!b){var w={loading:0,preload:null};if(b=n.querySelector(Nn(d)))w.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":s},r),(r=as.get(d))&&ki(t,r);var q=b=n.createElement("link");gt(q),Bt(q,"link",t),q._p=new Promise(function(ee,ne){q.onload=ee,q.onerror=ne}),q.addEventListener("load",function(){w.loading|=1}),q.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Jl(b,s,n)}b={type:"stylesheet",instance:b,count:1,state:w},i.set(d,b)}}}function C9(t,s){Ps.X(t,s);var r=Da;if(r&&t){var n=Ir(r).hoistableScripts,i=ka(t),d=n.get(i);d||(d=r.querySelector(kn(i)),d||(t=y({src:t,async:!0},s),(s=as.get(i))&&Si(t,s),d=r.createElement("script"),gt(d),Bt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(i,d))}}function B9(t,s){Ps.M(t,s);var r=Da;if(r&&t){var n=Ir(r).hoistableScripts,i=ka(t),d=n.get(i);d||(d=r.querySelector(kn(i)),d||(t=y({src:t,async:!0,type:"module"},s),(s=as.get(i))&&Si(t,s),d=r.createElement("script"),gt(d),Bt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(i,d))}}function fm(t,s,r,n){var i=(i=Q.current)?Zl(i):null;if(!i)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=Na(r.href),r=Ir(i).hoistableStyles,n=r.get(s),n||(n={type:"style",instance:null,count:0,state:null},r.set(s,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Na(r.href);var d=Ir(i).hoistableStyles,b=d.get(t);if(b||(i=i.ownerDocument||i,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,b),(d=i.querySelector(Nn(t)))&&!d._p&&(b.instance=d,b.state.loading=5),as.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},as.set(t,r),d||A9(i,t,r,b.state))),s&&n===null)throw Error(l(528,""));return b}if(s&&n!==null)throw Error(l(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ka(r),r=Ir(i).hoistableScripts,n=r.get(s),n||(n={type:"script",instance:null,count:0,state:null},r.set(s,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Na(t){return'href="'+Zt(t)+'"'}function Nn(t){return'link[rel="stylesheet"]['+t+"]"}function gm(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function A9(t,s,r,n){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?n.loading=1:(s=t.createElement("link"),n.preload=s,s.addEventListener("load",function(){return n.loading|=1}),s.addEventListener("error",function(){return n.loading|=2}),Bt(s,"link",r),gt(s),t.head.appendChild(s))}function ka(t){return'[src="'+Zt(t)+'"]'}function kn(t){return"script[async]"+t}function Em(t,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var n=t.querySelector('style[data-href~="'+Zt(r.href)+'"]');if(n)return s.instance=n,gt(n),n;var i=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),gt(n),Bt(n,"style",i),Jl(n,r.precedence,t),s.instance=n;case"stylesheet":i=Na(r.href);var d=t.querySelector(Nn(i));if(d)return s.state.loading|=4,s.instance=d,gt(d),d;n=gm(r),(i=as.get(i))&&ki(n,i),d=(t.ownerDocument||t).createElement("link"),gt(d);var b=d;return b._p=new Promise(function(w,q){b.onload=w,b.onerror=q}),Bt(d,"link",n),s.state.loading|=4,Jl(d,r.precedence,t),s.instance=d;case"script":return d=ka(r.src),(i=t.querySelector(kn(d)))?(s.instance=i,gt(i),i):(n=r,(i=as.get(d))&&(n=y({},r),Si(n,i)),t=t.ownerDocument||t,i=t.createElement("script"),gt(i),Bt(i,"link",n),t.head.appendChild(i),s.instance=i);case"void":return null;default:throw Error(l(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(n=s.instance,s.state.loading|=4,Jl(n,r.precedence,t));return s.instance}function Jl(t,s,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,d=i,b=0;b<n.length;b++){var w=n[b];if(w.dataset.precedence===s)d=w;else if(d!==i)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(t,s.firstChild))}function ki(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Si(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Wl=null;function pm(t,s,r){if(Wl===null){var n=new Map,i=Wl=new Map;i.set(r,n)}else i=Wl,n=i.get(r),n||(n=new Map,i.set(r,n));if(n.has(t))return n;for(n.set(t,null),r=r.getElementsByTagName(t),i=0;i<r.length;i++){var d=r[i];if(!(d[qa]||d[Ft]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(s)||"";b=t+b;var w=n.get(b);w?w.push(d):n.set(b,[d])}}return n}function bm(t,s,r){t=t.ownerDocument||t,t.head.insertBefore(r,s==="title"?t.querySelector("head > title"):null)}function F9(t,s,r){if(r===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ym(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Sn=null;function j9(){}function w9(t,s,r){if(Sn===null)throw Error(l(475));var n=Sn;if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var i=Na(r.href),d=t.querySelector(Nn(i));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(n.count++,n=eo.bind(n),t.then(n,n)),s.state.loading|=4,s.instance=d,gt(d);return}d=t.ownerDocument||t,r=gm(r),(i=as.get(i))&&ki(r,i),d=d.createElement("link"),gt(d);var b=d;b._p=new Promise(function(w,q){b.onload=w,b.onerror=q}),Bt(d,"link",r),s.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=eo.bind(n),t.addEventListener("load",s),t.addEventListener("error",s))}}function D9(){if(Sn===null)throw Error(l(475));var t=Sn;return t.stylesheets&&t.count===0&&_i(t,t.stylesheets),0<t.count?function(s){var r=setTimeout(function(){if(t.stylesheets&&_i(t,t.stylesheets),t.unsuspend){var n=t.unsuspend;t.unsuspend=null,n()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(r)}}:null}function eo(){if(this.count--,this.count===0){if(this.stylesheets)_i(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var to=null;function _i(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,to=new Map,s.forEach(N9,t),to=null,eo.call(t))}function N9(t,s){if(!(s.state.loading&4)){var r=to.get(t);if(r)var n=r.get(null);else{r=new Map,to.set(t,r);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<i.length;d++){var b=i[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),n=b)}n&&r.set(null,n)}i=s.instance,b=i.getAttribute("data-precedence"),d=r.get(b)||n,d===n&&r.set(null,i),r.set(b,i),this.count++,n=eo.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),d?d.parentNode.insertBefore(i,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),s.state.loading|=4}}var _n={$$typeof:M,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function k9(t,s,r,n,i,d,b,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Do(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Do(0),this.hiddenUpdates=Do(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function vm(t,s,r,n,i,d,b,w,q,ee,ne,oe){return t=new k9(t,s,r,b,w,q,ee,oe),s=1,d===!0&&(s|=24),d=qt(3,null,null,s),t.current=d,d.stateNode=t,s=m0(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:n,isDehydrated:r,cache:s},E0(d),t}function Cm(t){return t?(t=oa,t):oa}function Bm(t,s,r,n,i,d){i=Cm(i),n.context===null?n.context=i:n.pendingContext=i,n=Is(s),n.payload={element:r},d=d===void 0?null:d,d!==null&&(n.callback=d),r=Ks(t,n,s),r!==null&&(Gt(r,t,s),on(r,t,s))}function Am(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Mi(t,s){Am(t,s),(t=t.alternate)&&Am(t,s)}function Fm(t){if(t.tag===13){var s=la(t,67108864);s!==null&&Gt(s,t,67108864),Mi(t,67108864)}}var so=!0;function S9(t,s,r,n){var i=j.T;j.T=null;var d=P.p;try{P.p=2,Ri(t,s,r,n)}finally{P.p=d,j.T=i}}function _9(t,s,r,n){var i=j.T;j.T=null;var d=P.p;try{P.p=8,Ri(t,s,r,n)}finally{P.p=d,j.T=i}}function Ri(t,s,r,n){if(so){var i=Ti(n);if(i===null)vi(t,s,n,ro,r),wm(t,n);else if(R9(i,t,s,r,n))n.stopPropagation();else if(wm(t,n),s&4&&-1<M9.indexOf(t)){for(;i!==null;){var d=Xr(i);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=Br(d.pendingLanes);if(b!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var q=1<<31-zt(b);w.entanglements[1]|=q,b&=~q}gs(d),(Te&6)===0&&(zl=dt()+500,Fn(0))}}break;case 13:w=la(d,2),w!==null&&Gt(w,d,2),ql(),Mi(d,2)}if(d=Ti(n),d===null&&vi(t,s,n,ro,r),d===i)break;i=d}i!==null&&n.stopPropagation()}else vi(t,s,n,null,r)}}function Ti(t){return t=zo(t),Pi(t)}var ro=null;function Pi(t){if(ro=null,t=Gr(t),t!==null){var s=u(t);if(s===null)t=null;else{var r=s.tag;if(r===13){if(t=h(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return ro=t,null}function jm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case pe:return 2;case qe:return 8;case Ce:case Ot:return 32;case Hs:return 268435456;default:return 32}default:return 32}}var Li=!1,xr=null,cr=null,dr=null,Mn=new Map,Rn=new Map,ur=[],M9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wm(t,s){switch(t){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Mn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(s.pointerId)}}function Tn(t,s,r,n,i,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:d,targetContainers:[i]},s!==null&&(s=Xr(s),s!==null&&Fm(s)),t):(t.eventSystemFlags|=n,s=t.targetContainers,i!==null&&s.indexOf(i)===-1&&s.push(i),t)}function R9(t,s,r,n,i){switch(s){case"focusin":return xr=Tn(xr,t,s,r,n,i),!0;case"dragenter":return cr=Tn(cr,t,s,r,n,i),!0;case"mouseover":return dr=Tn(dr,t,s,r,n,i),!0;case"pointerover":var d=i.pointerId;return Mn.set(d,Tn(Mn.get(d)||null,t,s,r,n,i)),!0;case"gotpointercapture":return d=i.pointerId,Rn.set(d,Tn(Rn.get(d)||null,t,s,r,n,i)),!0}return!1}function Dm(t){var s=Gr(t.target);if(s!==null){var r=u(s);if(r!==null){if(s=r.tag,s===13){if(s=h(r),s!==null){t.blockedOn=s,wf(t.priority,function(){if(r.tag===13){var n=Yt();n=No(n);var i=la(r,n);i!==null&&Gt(i,r,n),Mi(r,n)}});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ao(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=Ti(t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Uo=n,r.target.dispatchEvent(n),Uo=null}else return s=Xr(r),s!==null&&Fm(s),t.blockedOn=r,!1;s.shift()}return!0}function Nm(t,s,r){ao(t)&&r.delete(s)}function T9(){Li=!1,xr!==null&&ao(xr)&&(xr=null),cr!==null&&ao(cr)&&(cr=null),dr!==null&&ao(dr)&&(dr=null),Mn.forEach(Nm),Rn.forEach(Nm)}function no(t,s){t.blockedOn===s&&(t.blockedOn=null,Li||(Li=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,T9)))}var lo=null;function km(t){lo!==t&&(lo=t,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){lo===t&&(lo=null);for(var s=0;s<t.length;s+=3){var r=t[s],n=t[s+1],i=t[s+2];if(typeof n!="function"){if(Pi(n||r)===null)continue;break}var d=Xr(r);d!==null&&(t.splice(s,3),s-=3,P0(d,{pending:!0,data:i,method:r.method,action:n},n,i))}}))}function Pn(t){function s(q){return no(q,t)}xr!==null&&no(xr,t),cr!==null&&no(cr,t),dr!==null&&no(dr,t),Mn.forEach(s),Rn.forEach(s);for(var r=0;r<ur.length;r++){var n=ur[r];n.blockedOn===t&&(n.blockedOn=null)}for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)Dm(r),r.blockedOn===null&&ur.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var i=r[n],d=r[n+1],b=i[Mt]||null;if(typeof d=="function")b||km(r);else if(b){var w=null;if(d&&d.hasAttribute("formAction")){if(i=d,b=d[Mt]||null)w=b.formAction;else if(Pi(i)!==null)continue}else w=b.action;typeof w=="function"?r[n+1]=w:(r.splice(n,3),n-=3),km(r)}}}function Oi(t){this._internalRoot=t}oo.prototype.render=Oi.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(l(409));var r=s.current,n=Yt();Bm(r,n,t,s,null,null)},oo.prototype.unmount=Oi.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Bm(t.current,2,null,t,null,null),ql(),s[Yr]=null}};function oo(t){this._internalRoot=t}oo.prototype.unstable_scheduleHydration=function(t){if(t){var s=Gx();t={blockedOn:null,target:t,priority:s};for(var r=0;r<ur.length&&s!==0&&s<ur[r].priority;r++);ur.splice(r,0,t),r===0&&Dm(t)}};var Sm=a.version;if(Sm!=="19.1.1")throw Error(l(527,Sm,"19.1.1"));P.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=f(s),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var P9={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{Ua=io.inject(P9),Ut=io}catch{}}return On.createRoot=function(t,s){if(!x(t))throw Error(l(299));var r=!1,n="",i=Gd,d=Xd,b=Id,w=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onUncaughtError!==void 0&&(i=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=vm(t,1,!1,null,null,r,n,i,d,b,w,null),t[Yr]=s.current,yi(t),new Oi(s)},On.hydrateRoot=function(t,s,r){if(!x(t))throw Error(l(299));var n=!1,i="",d=Gd,b=Xd,w=Id,q=null,ee=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(q=r.unstable_transitionCallbacks),r.formState!==void 0&&(ee=r.formState)),s=vm(t,1,!0,s,r??null,n,i,d,b,w,q,ee),s.context=Cm(null),r=s.current,n=Yt(),n=No(n),i=Is(n),i.callback=null,Ks(r,i,n),r=n,s.current.lanes=r,Va(s,r),gs(s),t[Yr]=s.current,yi(t),new oo(s)},On.version="19.1.1",On}var Vm;function Q9(){if(Vm)return Vi.exports;Vm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(a){console.error(a)}}return c(),Vi.exports=$9(),Vi.exports}var Y9=Q9();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qm="popstate";function G9(c={}){function a(l,x){let{pathname:u,search:h,hash:m}=l.location;return px("",{pathname:u,search:h,hash:m},x.state&&x.state.usr||null,x.state&&x.state.key||"default")}function o(l,x){return typeof x=="string"?x:Qn(x)}return I9(a,o,null,c)}function Ke(c,a){if(c===!1||c===null||typeof c>"u")throw new Error(a)}function cs(c,a){if(!c){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function X9(){return Math.random().toString(36).substring(2,10)}function Hm(c,a){return{usr:c.state,key:c.key,idx:a}}function px(c,a,o=null,l){return{pathname:typeof c=="string"?c:c.pathname,search:"",hash:"",...typeof a=="string"?Ra(a):a,state:o,key:a&&a.key||l||X9()}}function Qn({pathname:c="/",search:a="",hash:o=""}){return a&&a!=="?"&&(c+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(c+=o.charAt(0)==="#"?o:"#"+o),c}function Ra(c){let a={};if(c){let o=c.indexOf("#");o>=0&&(a.hash=c.substring(o),c=c.substring(0,o));let l=c.indexOf("?");l>=0&&(a.search=c.substring(l),c=c.substring(0,l)),c&&(a.pathname=c)}return a}function I9(c,a,o,l={}){let{window:x=document.defaultView,v5Compat:u=!1}=l,h=x.history,m="POP",f=null,g=y();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function y(){return(h.state||{idx:null}).idx}function E(){m="POP";let D=y(),C=D==null?null:D-g;g=D,f&&f({action:m,location:B.location,delta:C})}function v(D,C){m="PUSH";let U=px(B.location,D,C);g=y()+1;let M=Hm(U,g),S=B.createHref(U);try{h.pushState(M,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;x.location.assign(S)}u&&f&&f({action:m,location:B.location,delta:1})}function p(D,C){m="REPLACE";let U=px(B.location,D,C);g=y();let M=Hm(U,g),S=B.createHref(U);h.replaceState(M,"",S),u&&f&&f({action:m,location:B.location,delta:0})}function A(D){return K9(D)}let B={get action(){return m},get location(){return c(x,h)},listen(D){if(f)throw new Error("A history only accepts one active listener");return x.addEventListener(qm,E),f=D,()=>{x.removeEventListener(qm,E),f=null}},createHref(D){return a(x,D)},createURL:A,encodeLocation(D){let C=A(D);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:p,go(D){return h.go(D)}};return B}function K9(c,a=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(o,"No window.location.(origin|href) available to create URL");let l=typeof c=="string"?c:Qn(c);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=o+l),new URL(l,o)}function Ph(c,a,o="/"){return Z9(c,a,o,!1)}function Z9(c,a,o,l){let x=typeof a=="string"?Ra(a):a,u=zs(x.pathname||"/",o);if(u==null)return null;let h=Lh(c);J9(h);let m=null;for(let f=0;m==null&&f<h.length;++f){let g=xg(u);m=og(h[f],g,l)}return m}function Lh(c,a=[],o=[],l=""){let x=(u,h,m)=>{let f={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};f.relativePath.startsWith("/")&&(Ke(f.relativePath.startsWith(l),`Absolute route path "${f.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(l.length));let g=Os([l,f.relativePath]),y=o.concat(f);u.children&&u.children.length>0&&(Ke(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Lh(u.children,a,y,g)),!(u.path==null&&!u.index)&&a.push({path:g,score:ng(g,u.index),routesMeta:y})};return c.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))x(u,h);else for(let m of Oh(u.path))x(u,h,m)}),a}function Oh(c){let a=c.split("/");if(a.length===0)return[];let[o,...l]=a,x=o.endsWith("?"),u=o.replace(/\?$/,"");if(l.length===0)return x?[u,""]:[u];let h=Oh(l.join("/")),m=[];return m.push(...h.map(f=>f===""?u:[u,f].join("/"))),x&&m.push(...h),m.map(f=>c.startsWith("/")&&f===""?"/":f)}function J9(c){c.sort((a,o)=>a.score!==o.score?o.score-a.score:lg(a.routesMeta.map(l=>l.childrenIndex),o.routesMeta.map(l=>l.childrenIndex)))}var W9=/^:[\w-]+$/,eg=3,tg=2,sg=1,rg=10,ag=-2,$m=c=>c==="*";function ng(c,a){let o=c.split("/"),l=o.length;return o.some($m)&&(l+=ag),a&&(l+=tg),o.filter(x=>!$m(x)).reduce((x,u)=>x+(W9.test(u)?eg:u===""?sg:rg),l)}function lg(c,a){return c.length===a.length&&c.slice(0,-1).every((l,x)=>l===a[x])?c[c.length-1]-a[a.length-1]:0}function og(c,a,o=!1){let{routesMeta:l}=c,x={},u="/",h=[];for(let m=0;m<l.length;++m){let f=l[m],g=m===l.length-1,y=u==="/"?a:a.slice(u.length)||"/",E=bo({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},y),v=f.route;if(!E&&g&&o&&!l[l.length-1].route.index&&(E=bo({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!E)return null;Object.assign(x,E.params),h.push({params:x,pathname:Os([u,E.pathname]),pathnameBase:mg(Os([u,E.pathnameBase])),route:v}),E.pathnameBase!=="/"&&(u=Os([u,E.pathnameBase]))}return h}function bo(c,a){typeof c=="string"&&(c={path:c,caseSensitive:!1,end:!0});let[o,l]=ig(c.path,c.caseSensitive,c.end),x=a.match(o);if(!x)return null;let u=x[0],h=u.replace(/(.)\/+$/,"$1"),m=x.slice(1);return{params:l.reduce((g,{paramName:y,isOptional:E},v)=>{if(y==="*"){let A=m[v]||"";h=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const p=m[v];return E&&!p?g[y]=void 0:g[y]=(p||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:c}}function ig(c,a=!1,o=!0){cs(c==="*"||!c.endsWith("*")||c.endsWith("/*"),`Route path "${c}" will be treated as if it were "${c.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${c.replace(/\*$/,"/*")}".`);let l=[],x="^"+c.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,f)=>(l.push({paramName:m,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return c.endsWith("*")?(l.push({paramName:"*"}),x+=c==="*"||c==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?x+="\\/*$":c!==""&&c!=="/"&&(x+="(?:(?=\\/|$))"),[new RegExp(x,a?void 0:"i"),l]}function xg(c){try{return c.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return cs(!1,`The URL path "${c}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),c}}function zs(c,a){if(a==="/")return c;if(!c.toLowerCase().startsWith(a.toLowerCase()))return null;let o=a.endsWith("/")?a.length-1:a.length,l=c.charAt(o);return l&&l!=="/"?null:c.slice(o)||"/"}function cg(c,a="/"){let{pathname:o,search:l="",hash:x=""}=typeof c=="string"?Ra(c):c;return{pathname:o?o.startsWith("/")?o:dg(o,a):a,search:hg(l),hash:fg(x)}}function dg(c,a){let o=a.replace(/\/+$/,"").split("/");return c.split("/").forEach(x=>{x===".."?o.length>1&&o.pop():x!=="."&&o.push(x)}),o.length>1?o.join("/"):"/"}function Qi(c,a,o,l){return`Cannot include a '${c}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ug(c){return c.filter((a,o)=>o===0||a.route.path&&a.route.path.length>0)}function jx(c){let a=ug(c);return a.map((o,l)=>l===a.length-1?o.pathname:o.pathnameBase)}function wx(c,a,o,l=!1){let x;typeof c=="string"?x=Ra(c):(x={...c},Ke(!x.pathname||!x.pathname.includes("?"),Qi("?","pathname","search",x)),Ke(!x.pathname||!x.pathname.includes("#"),Qi("#","pathname","hash",x)),Ke(!x.search||!x.search.includes("#"),Qi("#","search","hash",x)));let u=c===""||x.pathname==="",h=u?"/":x.pathname,m;if(h==null)m=o;else{let E=a.length-1;if(!l&&h.startsWith("..")){let v=h.split("/");for(;v[0]==="..";)v.shift(),E-=1;x.pathname=v.join("/")}m=E>=0?a[E]:"/"}let f=cg(x,m),g=h&&h!=="/"&&h.endsWith("/"),y=(u||h===".")&&o.endsWith("/");return!f.pathname.endsWith("/")&&(g||y)&&(f.pathname+="/"),f}var Os=c=>c.join("/").replace(/\/\/+/g,"/"),mg=c=>c.replace(/\/+$/,"").replace(/^\/*/,"/"),hg=c=>!c||c==="?"?"":c.startsWith("?")?c:"?"+c,fg=c=>!c||c==="#"?"":c.startsWith("#")?c:"#"+c;function gg(c){return c!=null&&typeof c.status=="number"&&typeof c.statusText=="string"&&typeof c.internal=="boolean"&&"data"in c}var Uh=["POST","PUT","PATCH","DELETE"];new Set(Uh);var Eg=["GET",...Uh];new Set(Eg);var Ta=F.createContext(null);Ta.displayName="DataRouter";var Bo=F.createContext(null);Bo.displayName="DataRouterState";F.createContext(!1);var zh=F.createContext({isTransitioning:!1});zh.displayName="ViewTransition";var pg=F.createContext(new Map);pg.displayName="Fetchers";var bg=F.createContext(null);bg.displayName="Await";var ds=F.createContext(null);ds.displayName="Navigation";var Yn=F.createContext(null);Yn.displayName="Location";var ys=F.createContext({outlet:null,matches:[],isDataRoute:!1});ys.displayName="Route";var Dx=F.createContext(null);Dx.displayName="RouteError";function yg(c,{relative:a}={}){Ke(Pa(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:l}=F.useContext(ds),{hash:x,pathname:u,search:h}=Gn(c,{relative:a}),m=u;return o!=="/"&&(m=u==="/"?o:Os([o,u])),l.createHref({pathname:m,search:h,hash:x})}function Pa(){return F.useContext(Yn)!=null}function br(){return Ke(Pa(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Yn).location}var Vh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qh(c){F.useContext(ds).static||F.useLayoutEffect(c)}function La(){let{isDataRoute:c}=F.useContext(ys);return c?Mg():vg()}function vg(){Ke(Pa(),"useNavigate() may be used only in the context of a <Router> component.");let c=F.useContext(Ta),{basename:a,navigator:o}=F.useContext(ds),{matches:l}=F.useContext(ys),{pathname:x}=br(),u=JSON.stringify(jx(l)),h=F.useRef(!1);return qh(()=>{h.current=!0}),F.useCallback((f,g={})=>{if(cs(h.current,Vh),!h.current)return;if(typeof f=="number"){o.go(f);return}let y=wx(f,JSON.parse(u),x,g.relative==="path");c==null&&a!=="/"&&(y.pathname=y.pathname==="/"?a:Os([a,y.pathname])),(g.replace?o.replace:o.push)(y,g.state,g)},[a,o,u,x,c])}F.createContext(null);function Gn(c,{relative:a}={}){let{matches:o}=F.useContext(ys),{pathname:l}=br(),x=JSON.stringify(jx(o));return F.useMemo(()=>wx(c,JSON.parse(x),l,a==="path"),[c,x,l,a])}function Cg(c,a){return Hh(c,a)}function Hh(c,a,o,l){Ke(Pa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:x}=F.useContext(ds),{matches:u}=F.useContext(ys),h=u[u.length-1],m=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let C=y&&y.path||"";$h(f,!y||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let E=br(),v;if(a){let C=typeof a=="string"?Ra(a):a;Ke(g==="/"||C.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${C.pathname}" was given in the \`location\` prop.`),v=C}else v=E;let p=v.pathname||"/",A=p;if(g!=="/"){let C=g.replace(/^\//,"").split("/");A="/"+p.replace(/^\//,"").split("/").slice(C.length).join("/")}let B=Ph(c,{pathname:A});cs(y||B!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),cs(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=wg(B&&B.map(C=>Object.assign({},C,{params:Object.assign({},m,C.params),pathname:Os([g,x.encodeLocation?x.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:Os([g,x.encodeLocation?x.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),u,o,l);return a&&D?F.createElement(Yn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},D):D}function Bg(){let c=_g(),a=gg(c)?`${c.status} ${c.statusText}`:c instanceof Error?c.message:JSON.stringify(c),o=c instanceof Error?c.stack:null,l="rgba(200,200,200, 0.5)",x={padding:"0.5rem",backgroundColor:l},u={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",c),h=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},a),o?F.createElement("pre",{style:x},o):null,h)}var Ag=F.createElement(Bg,null),Fg=class extends F.Component{constructor(c){super(c),this.state={location:c.location,revalidation:c.revalidation,error:c.error}}static getDerivedStateFromError(c){return{error:c}}static getDerivedStateFromProps(c,a){return a.location!==c.location||a.revalidation!=="idle"&&c.revalidation==="idle"?{error:c.error,location:c.location,revalidation:c.revalidation}:{error:c.error!==void 0?c.error:a.error,location:a.location,revalidation:c.revalidation||a.revalidation}}componentDidCatch(c,a){console.error("React Router caught the following error during render",c,a)}render(){return this.state.error!==void 0?F.createElement(ys.Provider,{value:this.props.routeContext},F.createElement(Dx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jg({routeContext:c,match:a,children:o}){let l=F.useContext(Ta);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),F.createElement(ys.Provider,{value:c},o)}function wg(c,a=[],o=null,l=null){if(c==null){if(!o)return null;if(o.errors)c=o.matches;else if(a.length===0&&!o.initialized&&o.matches.length>0)c=o.matches;else return null}let x=c,u=o?.errors;if(u!=null){let f=x.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);Ke(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),x=x.slice(0,Math.min(x.length,f+1))}let h=!1,m=-1;if(o)for(let f=0;f<x.length;f++){let g=x[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=f),g.route.id){let{loaderData:y,errors:E}=o,v=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||v){h=!0,m>=0?x=x.slice(0,m+1):x=[x[0]];break}}}return x.reduceRight((f,g,y)=>{let E,v=!1,p=null,A=null;o&&(E=u&&g.route.id?u[g.route.id]:void 0,p=g.route.errorElement||Ag,h&&(m<0&&y===0?($h("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,A=null):m===y&&(v=!0,A=g.route.hydrateFallbackElement||null)));let B=a.concat(x.slice(0,y+1)),D=()=>{let C;return E?C=p:v?C=A:g.route.Component?C=F.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=f,F.createElement(jg,{match:g,routeContext:{outlet:f,matches:B,isDataRoute:o!=null},children:C})};return o&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?F.createElement(Fg,{location:o.location,revalidation:o.revalidation,component:p,error:E,children:D(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):D()},null)}function Nx(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dg(c){let a=F.useContext(Ta);return Ke(a,Nx(c)),a}function Ng(c){let a=F.useContext(Bo);return Ke(a,Nx(c)),a}function kg(c){let a=F.useContext(ys);return Ke(a,Nx(c)),a}function kx(c){let a=kg(c),o=a.matches[a.matches.length-1];return Ke(o.route.id,`${c} can only be used on routes that contain a unique "id"`),o.route.id}function Sg(){return kx("useRouteId")}function _g(){let c=F.useContext(Dx),a=Ng("useRouteError"),o=kx("useRouteError");return c!==void 0?c:a.errors?.[o]}function Mg(){let{router:c}=Dg("useNavigate"),a=kx("useNavigate"),o=F.useRef(!1);return qh(()=>{o.current=!0}),F.useCallback(async(x,u={})=>{cs(o.current,Vh),o.current&&(typeof x=="number"?c.navigate(x):await c.navigate(x,{fromRouteId:a,...u}))},[c,a])}var Qm={};function $h(c,a,o){!a&&!Qm[c]&&(Qm[c]=!0,cs(!1,o))}F.memo(Rg);function Rg({routes:c,future:a,state:o}){return Hh(c,void 0,o,a)}function Tg({to:c,replace:a,state:o,relative:l}){Ke(Pa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:x}=F.useContext(ds);cs(!x,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(ys),{pathname:h}=br(),m=La(),f=wx(c,jx(u),h,l==="path"),g=JSON.stringify(f);return F.useEffect(()=>{m(JSON.parse(g),{replace:a,state:o,relative:l})},[m,g,l,a,o]),null}function Ls(c){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pg({basename:c="/",children:a=null,location:o,navigationType:l="POP",navigator:x,static:u=!1}){Ke(!Pa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=c.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:h,navigator:x,static:u,future:{}}),[h,x,u]);typeof o=="string"&&(o=Ra(o));let{pathname:f="/",search:g="",hash:y="",state:E=null,key:v="default"}=o,p=F.useMemo(()=>{let A=zs(f,h);return A==null?null:{location:{pathname:A,search:g,hash:y,state:E,key:v},navigationType:l}},[h,f,g,y,E,v,l]);return cs(p!=null,`<Router basename="${h}"> is not able to match the URL "${f}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:F.createElement(ds.Provider,{value:m},F.createElement(Yn.Provider,{children:a,value:p}))}function Lg({children:c,location:a}){return Cg(bx(c),a)}function bx(c,a=[]){let o=[];return F.Children.forEach(c,(l,x)=>{if(!F.isValidElement(l))return;let u=[...a,x];if(l.type===F.Fragment){o.push.apply(o,bx(l.props.children,u));return}Ke(l.type===Ls,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||u.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=bx(l.props.children,u)),o.push(h)}),o}var go="get",Eo="application/x-www-form-urlencoded";function Ao(c){return c!=null&&typeof c.tagName=="string"}function Og(c){return Ao(c)&&c.tagName.toLowerCase()==="button"}function Ug(c){return Ao(c)&&c.tagName.toLowerCase()==="form"}function zg(c){return Ao(c)&&c.tagName.toLowerCase()==="input"}function Vg(c){return!!(c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)}function qg(c,a){return c.button===0&&(!a||a==="_self")&&!Vg(c)}var xo=null;function Hg(){if(xo===null)try{new FormData(document.createElement("form"),0),xo=!1}catch{xo=!0}return xo}var $g=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yi(c){return c!=null&&!$g.has(c)?(cs(!1,`"${c}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eo}"`),null):c}function Qg(c,a){let o,l,x,u,h;if(Ug(c)){let m=c.getAttribute("action");l=m?zs(m,a):null,o=c.getAttribute("method")||go,x=Yi(c.getAttribute("enctype"))||Eo,u=new FormData(c)}else if(Og(c)||zg(c)&&(c.type==="submit"||c.type==="image")){let m=c.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=c.getAttribute("formaction")||m.getAttribute("action");if(l=f?zs(f,a):null,o=c.getAttribute("formmethod")||m.getAttribute("method")||go,x=Yi(c.getAttribute("formenctype"))||Yi(m.getAttribute("enctype"))||Eo,u=new FormData(m,c),!Hg()){let{name:g,type:y,value:E}=c;if(y==="image"){let v=g?`${g}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else g&&u.append(g,E)}}else{if(Ao(c))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=go,l=null,x=Eo,h=c}return u&&x==="text/plain"&&(h=u,u=void 0),{action:l,method:o.toLowerCase(),encType:x,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sx(c,a){if(c===!1||c===null||typeof c>"u")throw new Error(a)}function Yg(c,a,o){let l=typeof c=="string"?new URL(c,typeof window>"u"?"server://singlefetch/":window.location.origin):c;return l.pathname==="/"?l.pathname=`_root.${o}`:a&&zs(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${o}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${o}`,l}async function Gg(c,a){if(c.id in a)return a[c.id];try{let o=await import(c.module);return a[c.id]=o,o}catch(o){return console.error(`Error loading route module \`${c.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xg(c){return c==null?!1:c.href==null?c.rel==="preload"&&typeof c.imageSrcSet=="string"&&typeof c.imageSizes=="string":typeof c.rel=="string"&&typeof c.href=="string"}async function Ig(c,a,o){let l=await Promise.all(c.map(async x=>{let u=a.routes[x.route.id];if(u){let h=await Gg(u,o);return h.links?h.links():[]}return[]}));return Wg(l.flat(1).filter(Xg).filter(x=>x.rel==="stylesheet"||x.rel==="preload").map(x=>x.rel==="stylesheet"?{...x,rel:"prefetch",as:"style"}:{...x,rel:"prefetch"}))}function Ym(c,a,o,l,x,u){let h=(f,g)=>o[g]?f.route.id!==o[g].route.id:!0,m=(f,g)=>o[g].pathname!==f.pathname||o[g].route.path?.endsWith("*")&&o[g].params["*"]!==f.params["*"];return u==="assets"?a.filter((f,g)=>h(f,g)||m(f,g)):u==="data"?a.filter((f,g)=>{let y=l.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(h(f,g)||m(f,g))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(x.pathname+x.search+x.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(c,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Kg(c,a,{includeHydrateFallback:o}={}){return Zg(c.map(l=>{let x=a.routes[l.route.id];if(!x)return[];let u=[x.module];return x.clientActionModule&&(u=u.concat(x.clientActionModule)),x.clientLoaderModule&&(u=u.concat(x.clientLoaderModule)),o&&x.hydrateFallbackModule&&(u=u.concat(x.hydrateFallbackModule)),x.imports&&(u=u.concat(x.imports)),u}).flat(1))}function Zg(c){return[...new Set(c)]}function Jg(c){let a={},o=Object.keys(c).sort();for(let l of o)a[l]=c[l];return a}function Wg(c,a){let o=new Set;return new Set(a),c.reduce((l,x)=>{let u=JSON.stringify(Jg(x));return o.has(u)||(o.add(u),l.push({key:u,link:x})),l},[])}function Qh(){let c=F.useContext(Ta);return Sx(c,"You must render this element inside a <DataRouterContext.Provider> element"),c}function e2(){let c=F.useContext(Bo);return Sx(c,"You must render this element inside a <DataRouterStateContext.Provider> element"),c}var _x=F.createContext(void 0);_x.displayName="FrameworkContext";function Yh(){let c=F.useContext(_x);return Sx(c,"You must render this element inside a <HydratedRouter> element"),c}function t2(c,a){let o=F.useContext(_x),[l,x]=F.useState(!1),[u,h]=F.useState(!1),{onFocus:m,onBlur:f,onMouseEnter:g,onMouseLeave:y,onTouchStart:E}=a,v=F.useRef(null);F.useEffect(()=>{if(c==="render"&&h(!0),c==="viewport"){let B=C=>{C.forEach(U=>{h(U.isIntersecting)})},D=new IntersectionObserver(B,{threshold:.5});return v.current&&D.observe(v.current),()=>{D.disconnect()}}},[c]),F.useEffect(()=>{if(l){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[l]);let p=()=>{x(!0)},A=()=>{x(!1),h(!1)};return o?c!=="intent"?[u,v,{}]:[u,v,{onFocus:Un(m,p),onBlur:Un(f,A),onMouseEnter:Un(g,p),onMouseLeave:Un(y,A),onTouchStart:Un(E,p)}]:[!1,v,{}]}function Un(c,a){return o=>{c&&c(o),o.defaultPrevented||a(o)}}function s2({page:c,...a}){let{router:o}=Qh(),l=F.useMemo(()=>Ph(o.routes,c,o.basename),[o.routes,c,o.basename]);return l?F.createElement(a2,{page:c,matches:l,...a}):null}function r2(c){let{manifest:a,routeModules:o}=Yh(),[l,x]=F.useState([]);return F.useEffect(()=>{let u=!1;return Ig(c,a,o).then(h=>{u||x(h)}),()=>{u=!0}},[c,a,o]),l}function a2({page:c,matches:a,...o}){let l=br(),{manifest:x,routeModules:u}=Yh(),{basename:h}=Qh(),{loaderData:m,matches:f}=e2(),g=F.useMemo(()=>Ym(c,a,f,x,l,"data"),[c,a,f,x,l]),y=F.useMemo(()=>Ym(c,a,f,x,l,"assets"),[c,a,f,x,l]),E=F.useMemo(()=>{if(c===l.pathname+l.search+l.hash)return[];let A=new Set,B=!1;if(a.forEach(C=>{let U=x.routes[C.route.id];!U||!U.hasLoader||(!g.some(M=>M.route.id===C.route.id)&&C.route.id in m&&u[C.route.id]?.shouldRevalidate||U.hasClientLoader?B=!0:A.add(C.route.id))}),A.size===0)return[];let D=Yg(c,h,"data");return B&&A.size>0&&D.searchParams.set("_routes",a.filter(C=>A.has(C.route.id)).map(C=>C.route.id).join(",")),[D.pathname+D.search]},[h,m,l,x,g,a,c,u]),v=F.useMemo(()=>Kg(y,x),[y,x]),p=r2(y);return F.createElement(F.Fragment,null,E.map(A=>F.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...o})),v.map(A=>F.createElement("link",{key:A,rel:"modulepreload",href:A,...o})),p.map(({key:A,link:B})=>F.createElement("link",{key:A,...B})))}function n2(...c){return a=>{c.forEach(o=>{typeof o=="function"?o(a):o!=null&&(o.current=a)})}}var Gh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gh&&(window.__reactRouterVersion="7.7.1")}catch{}function l2({basename:c,children:a,window:o}){let l=F.useRef();l.current==null&&(l.current=G9({window:o,v5Compat:!0}));let x=l.current,[u,h]=F.useState({action:x.action,location:x.location}),m=F.useCallback(f=>{F.startTransition(()=>h(f))},[h]);return F.useLayoutEffect(()=>x.listen(m),[x,m]),F.createElement(Pg,{basename:c,children:a,location:u.location,navigationType:u.action,navigator:x})}var Xh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ps=F.forwardRef(function({onClick:a,discover:o="render",prefetch:l="none",relative:x,reloadDocument:u,replace:h,state:m,target:f,to:g,preventScrollReset:y,viewTransition:E,...v},p){let{basename:A}=F.useContext(ds),B=typeof g=="string"&&Xh.test(g),D,C=!1;if(typeof g=="string"&&B&&(D=g,Gh))try{let R=new URL(window.location.href),T=g.startsWith("//")?new URL(R.protocol+g):new URL(g),z=zs(T.pathname,A);T.origin===R.origin&&z!=null?g=z+T.search+T.hash:C=!0}catch{cs(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=yg(g,{relative:x}),[M,S,N]=t2(l,v),L=c2(g,{replace:h,state:m,target:f,preventScrollReset:y,relative:x,viewTransition:E});function k(R){a&&a(R),R.defaultPrevented||L(R)}let V=F.createElement("a",{...v,...N,href:D||U,onClick:C||u?a:k,ref:n2(p,S),target:f,"data-discover":!B&&o==="render"?"true":void 0});return M&&!B?F.createElement(F.Fragment,null,V,F.createElement(s2,{page:U})):V});ps.displayName="Link";var o2=F.forwardRef(function({"aria-current":a="page",caseSensitive:o=!1,className:l="",end:x=!1,style:u,to:h,viewTransition:m,children:f,...g},y){let E=Gn(h,{relative:g.relative}),v=br(),p=F.useContext(Bo),{navigator:A,basename:B}=F.useContext(ds),D=p!=null&&f2(E)&&m===!0,C=A.encodeLocation?A.encodeLocation(E).pathname:E.pathname,U=v.pathname,M=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;o||(U=U.toLowerCase(),M=M?M.toLowerCase():null,C=C.toLowerCase()),M&&B&&(M=zs(M,B)||M);const S=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let N=U===C||!x&&U.startsWith(C)&&U.charAt(S)==="/",L=M!=null&&(M===C||!x&&M.startsWith(C)&&M.charAt(C.length)==="/"),k={isActive:N,isPending:L,isTransitioning:D},V=N?a:void 0,R;typeof l=="function"?R=l(k):R=[l,N?"active":null,L?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let T=typeof u=="function"?u(k):u;return F.createElement(ps,{...g,"aria-current":V,className:R,ref:y,style:T,to:h,viewTransition:m},typeof f=="function"?f(k):f)});o2.displayName="NavLink";var i2=F.forwardRef(({discover:c="render",fetcherKey:a,navigate:o,reloadDocument:l,replace:x,state:u,method:h=go,action:m,onSubmit:f,relative:g,preventScrollReset:y,viewTransition:E,...v},p)=>{let A=m2(),B=h2(m,{relative:g}),D=h.toLowerCase()==="get"?"get":"post",C=typeof m=="string"&&Xh.test(m),U=M=>{if(f&&f(M),M.defaultPrevented)return;M.preventDefault();let S=M.nativeEvent.submitter,N=S?.getAttribute("formmethod")||h;A(S||M.currentTarget,{fetcherKey:a,method:N,navigate:o,replace:x,state:u,relative:g,preventScrollReset:y,viewTransition:E})};return F.createElement("form",{ref:p,method:D,action:B,onSubmit:l?f:U,...v,"data-discover":!C&&c==="render"?"true":void 0})});i2.displayName="Form";function x2(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ih(c){let a=F.useContext(Ta);return Ke(a,x2(c)),a}function c2(c,{target:a,replace:o,state:l,preventScrollReset:x,relative:u,viewTransition:h}={}){let m=La(),f=br(),g=Gn(c,{relative:u});return F.useCallback(y=>{if(qg(y,a)){y.preventDefault();let E=o!==void 0?o:Qn(f)===Qn(g);m(c,{replace:E,state:l,preventScrollReset:x,relative:u,viewTransition:h})}},[f,m,g,o,l,a,c,x,u,h])}var d2=0,u2=()=>`__${String(++d2)}__`;function m2(){let{router:c}=Ih("useSubmit"),{basename:a}=F.useContext(ds),o=Sg();return F.useCallback(async(l,x={})=>{let{action:u,method:h,encType:m,formData:f,body:g}=Qg(l,a);if(x.navigate===!1){let y=x.fetcherKey||u2();await c.fetch(y,o,x.action||u,{preventScrollReset:x.preventScrollReset,formData:f,body:g,formMethod:x.method||h,formEncType:x.encType||m,flushSync:x.flushSync})}else await c.navigate(x.action||u,{preventScrollReset:x.preventScrollReset,formData:f,body:g,formMethod:x.method||h,formEncType:x.encType||m,replace:x.replace,state:x.state,fromRouteId:o,flushSync:x.flushSync,viewTransition:x.viewTransition})},[c,a,o])}function h2(c,{relative:a}={}){let{basename:o}=F.useContext(ds),l=F.useContext(ys);Ke(l,"useFormAction must be used inside a RouteContext");let[x]=l.matches.slice(-1),u={...Gn(c||".",{relative:a})},h=br();if(c==null){u.search=h.search;let m=new URLSearchParams(u.search),f=m.getAll("index");if(f.some(y=>y==="")){m.delete("index"),f.filter(E=>E).forEach(E=>m.append("index",E));let y=m.toString();u.search=y?`?${y}`:""}}return(!c||c===".")&&x.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(u.pathname=u.pathname==="/"?o:Os([o,u.pathname])),Qn(u)}function f2(c,{relative:a}={}){let o=F.useContext(zh);Ke(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Ih("useViewTransitionState"),x=Gn(c,{relative:a});if(!o.isTransitioning)return!1;let u=zs(o.currentLocation.pathname,l)||o.currentLocation.pathname,h=zs(o.nextLocation.pathname,l)||o.nextLocation.pathname;return bo(x.pathname,h)!=null||bo(x.pathname,u)!=null}var g2=Th();class Gm extends Error{response;request;options;constructor(a,o,l){const x=a.status||a.status===0?a.status:"",u=a.statusText||"",h=`${x} ${u}`.trim(),m=h?`status code ${h}`:"an unknown error";super(`Request failed with ${m}: ${o.method} ${o.url}`),this.name="HTTPError",this.response=a,this.request=o,this.options=l}}class Kh extends Error{request;constructor(a){super(`Request timed out: ${a.method} ${a.url}`),this.name="TimeoutError",this.request=a}}const Xm=(()=>{let c=!1,a=!1;const o=typeof globalThis.ReadableStream=="function",l=typeof globalThis.Request=="function";if(o&&l)try{a=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return c=!0,"half"}}).headers.has("Content-Type")}catch(x){if(x instanceof Error&&x.message==="unsupported BodyInit type")return!1;throw x}return c&&!a})(),E2=typeof globalThis.AbortController=="function",p2=typeof globalThis.AbortSignal=="function"&&typeof globalThis.AbortSignal.any=="function",b2=typeof globalThis.ReadableStream=="function",y2=typeof globalThis.FormData=="function",Zh=["get","post","put","patch","head","delete"],v2={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},Gi=2147483647,C2=new TextEncoder().encode("------WebKitFormBoundaryaxpyiPgbbPti10Rw").length,Jh=Symbol("stop"),B2={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,onUploadProgress:!0,fetch:!0},A2={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},F2=c=>{if(!c)return 0;if(c instanceof FormData){let a=0;for(const[o,l]of c)a+=C2,a+=new TextEncoder().encode(`Content-Disposition: form-data; name="${o}"`).length,a+=typeof l=="string"?new TextEncoder().encode(l).length:l.size;return a}if(c instanceof Blob)return c.size;if(c instanceof ArrayBuffer)return c.byteLength;if(typeof c=="string")return new TextEncoder().encode(c).length;if(c instanceof URLSearchParams)return new TextEncoder().encode(c.toString()).length;if("byteLength"in c)return c.byteLength;if(typeof c=="object"&&c!==null)try{const a=JSON.stringify(c);return new TextEncoder().encode(a).length}catch{return 0}return 0},j2=(c,a)=>{const o=Number(c.headers.get("content-length"))||0;let l=0;return c.status===204?(a&&a({percent:1,totalBytes:o,transferredBytes:l},new Uint8Array),new Response(null,{status:c.status,statusText:c.statusText,headers:c.headers})):new Response(new ReadableStream({async start(x){const u=c.body.getReader();a&&a({percent:0,transferredBytes:0,totalBytes:o},new Uint8Array);async function h(){const{done:m,value:f}=await u.read();if(m){x.close();return}if(a){l+=f.byteLength;const g=o===0?0:l/o;a({percent:g,transferredBytes:l,totalBytes:o},f)}x.enqueue(f),await h()}await h()}}),{status:c.status,statusText:c.statusText,headers:c.headers})},w2=(c,a)=>{const o=F2(c.body);let l=0;return new Request(c,{duplex:"half",body:new ReadableStream({async start(x){const u=c.body instanceof ReadableStream?c.body.getReader():new Response("").body.getReader();async function h(){const{done:m,value:f}=await u.read();if(m){a&&a({percent:1,transferredBytes:l,totalBytes:Math.max(o,l)},new Uint8Array),x.close();return}l+=f.byteLength;let g=o===0?0:l/o;(o<l||g===1)&&(g=.99),a&&a({percent:Number(g.toFixed(2)),transferredBytes:l,totalBytes:o},f),x.enqueue(f),await h()}await h()}})})},qn=c=>c!==null&&typeof c=="object",co=(...c)=>{for(const a of c)if((!qn(a)||Array.isArray(a))&&a!==void 0)throw new TypeError("The `options` argument must be an object");return Mx({},...c)},Wh=(c={},a={})=>{const o=new globalThis.Headers(c),l=a instanceof globalThis.Headers,x=new globalThis.Headers(a);for(const[u,h]of x.entries())l&&h==="undefined"||h===void 0?o.delete(u):o.set(u,h);return o};function uo(c,a,o){return Object.hasOwn(a,o)&&a[o]===void 0?[]:Mx(c[o]??[],a[o]??[])}const ef=(c={},a={})=>({beforeRequest:uo(c,a,"beforeRequest"),beforeRetry:uo(c,a,"beforeRetry"),afterResponse:uo(c,a,"afterResponse"),beforeError:uo(c,a,"beforeError")}),Mx=(...c)=>{let a={},o={},l={};for(const x of c)if(Array.isArray(x))Array.isArray(a)||(a=[]),a=[...a,...x];else if(qn(x)){for(let[u,h]of Object.entries(x))qn(h)&&u in a&&(h=Mx(a[u],h)),a={...a,[u]:h};qn(x.hooks)&&(l=ef(l,x.hooks),a.hooks=l),qn(x.headers)&&(o=Wh(o,x.headers),a.headers=o)}return a},D2=c=>Zh.includes(c)?c.toUpperCase():c,N2=["get","put","head","delete","options","trace"],k2=[408,413,429,500,502,503,504],S2=[413,429,503],Im={limit:2,methods:N2,statusCodes:k2,afterStatusCodes:S2,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:c=>.3*2**(c-1)*1e3},_2=(c={})=>{if(typeof c=="number")return{...Im,limit:c};if(c.methods&&!Array.isArray(c.methods))throw new Error("retry.methods must be an array");if(c.statusCodes&&!Array.isArray(c.statusCodes))throw new Error("retry.statusCodes must be an array");return{...Im,...c}};async function M2(c,a,o,l){return new Promise((x,u)=>{const h=setTimeout(()=>{o&&o.abort(),u(new Kh(c))},l.timeout);l.fetch(c,a).then(x).catch(u).then(()=>{clearTimeout(h)})})}async function R2(c,{signal:a}){return new Promise((o,l)=>{a&&(a.throwIfAborted(),a.addEventListener("abort",x,{once:!0}));function x(){clearTimeout(u),l(a.reason)}const u=setTimeout(()=>{a?.removeEventListener("abort",x),o()},c)})}const T2=(c,a)=>{const o={};for(const l in a)!(l in A2)&&!(l in B2)&&!(l in c)&&(o[l]=a[l]);return o};class yo{static create(a,o){const l=new yo(a,o),x=async()=>{if(typeof l._options.timeout=="number"&&l._options.timeout>Gi)throw new RangeError(`The \`timeout\` option cannot be greater than ${Gi}`);await Promise.resolve();let m=await l._fetch();for(const f of l._options.hooks.afterResponse){const g=await f(l.request,l._options,l._decorateResponse(m.clone()));g instanceof globalThis.Response&&(m=g)}if(l._decorateResponse(m),!m.ok&&l._options.throwHttpErrors){let f=new Gm(m,l.request,l._options);for(const g of l._options.hooks.beforeError)f=await g(f);throw f}if(l._options.onDownloadProgress){if(typeof l._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!b2)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return j2(m.clone(),l._options.onDownloadProgress)}return m},h=(l._options.retry.methods.includes(l.request.method.toLowerCase())?l._retry(x):x()).finally(async()=>{l.request.bodyUsed||await l.request.body?.cancel()});for(const[m,f]of Object.entries(v2))h[m]=async()=>{l.request.headers.set("accept",l.request.headers.get("accept")||f);const g=await h;if(m==="json"){if(g.status===204||(await g.clone().arrayBuffer()).byteLength===0)return"";if(o.parseJson)return o.parseJson(await g.text())}return g[m]()};return h}request;abortController;_retryCount=0;_input;_options;constructor(a,o={}){if(this._input=a,this._options={...o,headers:Wh(this._input.headers,o.headers),hooks:ef({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},o.hooks),method:D2(o.method??this._input.method??"GET"),prefixUrl:String(o.prefixUrl||""),retry:_2(o.retry),throwHttpErrors:o.throwHttpErrors!==!1,timeout:o.timeout??1e4,fetch:o.fetch??globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(E2&&p2){const l=this._options.signal??this._input.signal;this.abortController=new globalThis.AbortController,this._options.signal=l?AbortSignal.any([l,this.abortController.signal]):this.abortController.signal}if(Xm&&(this._options.duplex="half"),this._options.json!==void 0&&(this._options.body=this._options.stringifyJson?.(this._options.json)??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const x="?"+(typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),u=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,x);(y2&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(u,{...this.request}),this._options)}if(this._options.onUploadProgress){if(typeof this._options.onUploadProgress!="function")throw new TypeError("The `onUploadProgress` option must be a function");if(!Xm)throw new Error("Request streams are not supported in your environment. The `duplex` option for `Request` is not available.");this.request.body&&(this.request=w2(this.request,this._options.onUploadProgress))}}_calculateRetryDelay(a){if(this._retryCount++,this._retryCount>this._options.retry.limit||a instanceof Kh)throw a;if(a instanceof Gm){if(!this._options.retry.statusCodes.includes(a.response.status))throw a;const l=a.response.headers.get("Retry-After")??a.response.headers.get("RateLimit-Reset")??a.response.headers.get("X-RateLimit-Reset")??a.response.headers.get("X-Rate-Limit-Reset");if(l&&this._options.retry.afterStatusCodes.includes(a.response.status)){let x=Number(l)*1e3;Number.isNaN(x)?x=Date.parse(l)-Date.now():x>=Date.parse("2024-01-01")&&(x-=Date.now());const u=this._options.retry.maxRetryAfter??x;return x<u?x:u}if(a.response.status===413)throw a}const o=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,o)}_decorateResponse(a){return this._options.parseJson&&(a.json=async()=>this._options.parseJson(await a.text())),a}async _retry(a){try{return await a()}catch(o){const l=Math.min(this._calculateRetryDelay(o),Gi);if(this._retryCount<1)throw o;await R2(l,{signal:this._options.signal});for(const x of this._options.hooks.beforeRetry)if(await x({request:this.request,options:this._options,error:o,retryCount:this._retryCount})===Jh)return;return this._retry(a)}}async _fetch(){for(const l of this._options.hooks.beforeRequest){const x=await l(this.request,this._options);if(x instanceof Request){this.request=x;break}if(x instanceof Response)return x}const a=T2(this.request,this._options),o=this.request;return this.request=o.clone(),this._options.timeout===!1?this._options.fetch(o,a):M2(o,a,this.abortController,this._options)}}/*! MIT License © Sindre Sorhus */const yx=c=>{const a=(o,l)=>yo.create(o,co(c,l));for(const o of Zh)a[o]=(l,x)=>yo.create(l,co(c,x,{method:o}));return a.create=o=>yx(co(o)),a.extend=o=>(typeof o=="function"&&(o=o(c??{})),yx(co(c,o))),a.stop=Jh,a},P2=yx(),Km="https://tpx-web-service.onrender.com/api";class L2{constructor(){this.cache=new Map,this.pendingRequests=new Map,this.cacheTimeout=300*1e3,this.ky=P2.create({prefixUrl:Km,timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"},retry:{limit:3,methods:["get"],statusCodes:[408,413,429,500,502,503,504]},hooks:{beforeRequest:[a=>{const l=["login/","register/","token/refresh/"].some(x=>a.url.includes(x));if(!l){const x=this.getAccessToken();x&&a.headers.set("Authorization",`Bearer ${x}`)}console.log("Making API request:",{url:a.url,method:a.method,isPublicEndpoint:l})}],afterResponse:[(a,o,l)=>(console.log("API Response:",{status:l.status,statusText:l.statusText,url:a.url}),l)],beforeError:[a=>(console.error("API Response error:",a),a?.name==="TimeoutError"?Object.assign(new Error("Request timed out. Please try again."),{code:"ECONNABORTED",isNetwork:!0,original:a}):(a.response&&(console.log("HTTP Error:",a.response.status),a.response.status===401&&console.log("Unauthorized access - token may be expired")),a))]}}),console.log("API Service initialized with baseURL:",Km),console.log("Enhanced with caching and request deduplication")}normalizeEndpoint(a){return a.startsWith("/")?a.slice(1):a}async get(a,o={}){try{const l=this.normalizeEndpoint(a);return await(await this.ky.get(l,o)).json()}catch(l){throw this.handleError(l)}}async post(a,o={},l={}){try{const x=this.normalizeEndpoint(a);return await(await this.ky.post(x,{json:o,...l})).json()}catch(x){throw this.handleError(x)}}async put(a,o={},l={}){try{const x=this.normalizeEndpoint(a);return await(await this.ky.put(x,{json:o,...l})).json()}catch(x){throw this.handleError(x)}}async patch(a,o={},l={}){try{const x=this.normalizeEndpoint(a);return await(await this.ky.patch(x,{json:o,...l})).json()}catch(x){throw this.handleError(x)}}async delete(a,o={}){try{const l=this.normalizeEndpoint(a);return await(await this.ky.delete(l,o)).json()}catch(l){throw this.handleError(l)}}handleError(a){if(a.name==="TimeoutError")return Object.assign(new Error("Request timed out. Please try again."),{code:"ECONNABORTED",isNetwork:!0,original:a});if(a.response){const o=a.response.status;return o===401?Object.assign(new Error("Authentication required. Please log in again."),{status:401,response:a.response}):Object.assign(new Error(`HTTP error! status: ${o}`),{status:o,response:a.response})}return a.code==="ECONNREFUSED"||a.code==="ENOTFOUND"?Object.assign(new Error("Network error: Unable to connect to the server. Please check your internet connection and try again."),{code:"NETWORK_ERROR",isNetwork:!0,original:a}):a}getAccessToken(){return localStorage.getItem("access_token")}}const he=new L2,Rx=Object.freeze(Object.defineProperty({__proto__:null,default:he},Symbol.toStringTag,{value:"Module"}));class Tx{constructor(a=300*1e3){this.cache=new Map,this.defaultTTL=a,this.cleanupInterval=null,this.startCleanup()}set(a,o,l=this.defaultTTL){this.cache.set(a,{value:o,timestamp:Date.now(),ttl:l})}get(a){const o=this.cache.get(a);return o?Date.now()-o.timestamp>o.ttl?(this.cache.delete(a),null):o.value:null}has(a){return this.get(a)!==null}delete(a){this.cache.delete(a)}clear(){this.cache.clear()}getStats(){const a=Date.now();let o=0,l=0;for(const[x,u]of this.cache)a-u.timestamp>u.ttl?l++:o++;return{totalEntries:this.cache.size,validEntries:o,expiredEntries:l,hitRate:this.hitCount/(this.hitCount+this.missCount)||0}}startCleanup(a=120*1e3){this.cleanupInterval&&clearInterval(this.cleanupInterval),this.cleanupInterval=setInterval(()=>{this.cleanup()},a)}stopCleanup(){this.cleanupInterval&&(clearInterval(this.cleanupInterval),this.cleanupInterval=null)}cleanup(){const a=Date.now();let o=0;for(const[l,x]of this.cache)a-x.timestamp>x.ttl&&(this.cache.delete(l),o++);o>0&&console.log(`Cache cleanup: removed ${o} expired entries`)}clearPattern(a){const o=typeof a=="string"?new RegExp(a):a;let l=0;for(const x of this.cache.keys())o.test(x)&&(this.cache.delete(x),l++);console.log(`Cache pattern clear: removed ${l} entries matching ${a}`)}}const yt=new Tx(300*1e3),Le=new Tx(30*1e3),O2=new Tx(1800*1e3);typeof window<"u"&&window.addEventListener("beforeunload",()=>{yt.stopCleanup(),Le.stopCleanup(),O2.stopCleanup()});const ot={ACCESS:"access_token",REFRESH:"refresh_token",USER_ROLE:"user_role",IS_STAFF:"is_staff",USER_ID:"user_id",USERNAME:"username"};class U2{constructor(){this.refreshPromise=null,this.userDataCache=null,this.lastUserDataFetch=null}async login(a,o){let x=0,u=null;const h=this.validateLoginInput(a,o);if(h.length>0)return{success:!1,error:h.join(", ")};for(;x<3;){x++;try{const m=await he.post("/login/",{username:a.trim(),password:o},{timeout:15e3});return m?.access&&m?.refresh?(this.setTokens(m.access,m.refresh),this.setUserInfo(m.user_id,m.role,m.is_staff),localStorage.setItem(ot.USERNAME,a.trim()),localStorage.setItem("username",a.trim()),this.cacheUserData({id:m.user_id,username:a.trim(),role:m.role,is_staff:m.is_staff,...m.user_data}),{success:!0,data:this.transformUserData(m),message:"Login successful"}):{success:!1,error:"Invalid response format from server"}}catch(m){if(u=m,!(m?.code==="ECONNABORTED"||m?.code==="NETWORK_ERROR"||m?.status>=500)||x>=3){if(m?.status===401||m?.status===403)return{success:!1,error:"Invalid username or password"};if(m.response?.data){const g=m.response.data;if(typeof g=="object"&&!Array.isArray(g))return{success:!1,error:Object.entries(g).map(([E,v])=>`${E}: ${Array.isArray(v)?v.join(", "):v}`).join("; ")}}return{success:!1,error:m?.message||"Login failed"}}await new Promise(g=>setTimeout(g,1e3*Math.pow(2,x-1)))}}return{success:!1,error:u?.message||"Login failed after multiple attempts"}}async register(a){let l=0,x=null;const u=this.validateRegistrationData(a);if(u.length>0)return{success:!1,error:u.join(", ")};const h=this.sanitizeRegistrationData(a);for(;l<2;){l++;try{const m=await he.post("/register/",h,{timeout:15e3});return{success:!0,data:this.transformUserData(m),message:"Registration successful"}}catch(m){if(x=m,!(m?.code==="ECONNABORTED"||m?.code==="NETWORK_ERROR"||m?.status>=500)||l>=2){if(m.response?.data){const g=m.response.data;if(typeof g=="object"&&!Array.isArray(g))return{success:!1,error:Object.entries(g).map(([E,v])=>`${E}: ${Array.isArray(v)?v.join(", "):v}`).join("; ")}}return{success:!1,error:m?.message||"Registration failed"}}await new Promise(g=>setTimeout(g,1e3*Math.pow(2,l-1)))}}return{success:!1,error:x?.message||"Registration failed after multiple attempts"}}logout(){localStorage.removeItem(ot.ACCESS),localStorage.removeItem(ot.REFRESH),localStorage.removeItem(ot.USER_ROLE),localStorage.removeItem(ot.IS_STAFF),localStorage.removeItem(ot.USER_ID),localStorage.removeItem(ot.USERNAME),localStorage.removeItem("username"),this.clearUserDataCache(),this.refreshPromise=null,Le.clear()}setTokens(a,o){localStorage.setItem(ot.ACCESS,a),localStorage.setItem(ot.REFRESH,o)}setUserInfo(a,o,l){localStorage.setItem(ot.USER_ID,a.toString()),localStorage.setItem(ot.USER_ROLE,o),localStorage.setItem(ot.IS_STAFF,l.toString())}getAccessToken(){return localStorage.getItem(ot.ACCESS)}getRefreshToken(){return localStorage.getItem(ot.REFRESH)}getUserRole(){return localStorage.getItem(ot.USER_ROLE)}getIsStaff(){return localStorage.getItem(ot.IS_STAFF)==="true"}getUserId(){const a=localStorage.getItem(ot.USER_ID);return a?parseInt(a):null}getUsername(){return localStorage.getItem(ot.USERNAME)}isAuthenticated(){return!!this.getAccessToken()}async refreshToken(){if(this.refreshPromise)return this.refreshPromise;const a=this.getRefreshToken();if(!a){const o=new Error("No refresh token available");throw this.logout(),o}this.refreshPromise=this._performTokenRefresh(a);try{const o=await this.refreshPromise;return this.refreshPromise=null,o}catch(o){throw this.refreshPromise=null,o}}async _performTokenRefresh(a){let l=0,x=null;for(;l<2;){l++;try{const u=await he.post("/token/refresh/",{refresh:a},{timeout:1e4});if(u.access)return localStorage.setItem(ot.ACCESS,u.access),u.refresh&&localStorage.setItem(ot.REFRESH,u.refresh),u.access;throw new Error("Invalid refresh response - no access token received")}catch(u){if(x=u,u?.status===401||u?.status===403)throw this.logout(),new Error("Refresh token expired or invalid");if(!(u?.code==="ECONNABORTED"||u?.code==="NETWORK_ERROR"||u?.status>=500)||l>=2)throw this.logout(),u;await new Promise(m=>setTimeout(m,1e3*Math.pow(2,l-1)))}}throw this.logout(),x||new Error("Token refresh failed after multiple attempts")}getAuthHeader(){const a=this.getAccessToken();return a?{Authorization:`Bearer ${a}`}:{}}async getUserData(a=!1){const o=this.getUserId();if(!o)throw new Error("User not authenticated");if(!a&&this.userDataCache&&this.isUserDataCacheValid())return this.userDataCache;try{const l=await he.get(`/users/${o}/`,{timeout:1e4}),x=this.transformUserData(l);return this.cacheUserData(x),x}catch(l){if(console.error("Error fetching user data:",l),this.userDataCache)return this.userDataCache;throw new Error("Failed to load user data")}}cacheUserData(a){this.userDataCache=a,this.lastUserDataFetch=Date.now()}clearUserDataCache(){this.userDataCache=null,this.lastUserDataFetch=null}isUserDataCacheValid(){return this.lastUserDataFetch?Date.now()-this.lastUserDataFetch<300*1e3:!1}transformUserData(a){return{id:a.id||a.user_id,username:a.username,email:a.email,role:a.role,is_staff:a.is_staff,first_name:a.first_name||"",last_name:a.last_name||"",mobile_number:a.mobile_number||"",birthday:a.birthday,date_joined:a.date_joined,last_login:a.last_login,displayName:this.getDisplayName(a),fullName:this.getFullName(a),formattedPhone:this.formatPhoneNumber(a.mobile_number),joinDate:this.formatDate(a.date_joined),lastLoginFormatted:this.formatDateTime(a.last_login),avatar:this.generateAvatar(a.username||a.email)}}validateLoginInput(a,o){const l=[];return!a||typeof a!="string"||!a.trim()?l.push("Username is required"):a.trim().length<3&&l.push("Username must be at least 3 characters long"),(!o||typeof o!="string")&&l.push("Password is required"),l}validateRegistrationData(a){const o=[];return!a.username||!a.username.trim()?o.push("Username is required"):a.username.trim().length<3&&o.push("Username must be at least 3 characters long"),(!a.email||!this.isValidEmail(a.email))&&o.push("Valid email is required"),(!a.password||a.password.length<6)&&o.push("Password must be at least 6 characters long"),a.mobile_number&&!this.isValidPhoneNumber(a.mobile_number)&&o.push("Invalid phone number format"),o}sanitizeRegistrationData(a){return{username:a.username?.trim(),email:a.email?.trim().toLowerCase(),password:a.password,first_name:a.first_name?.trim()||"",last_name:a.last_name?.trim()||"",mobile_number:a.mobile_number?.trim()||"",birthday:a.birthday||null}}getDisplayName(a){return a.first_name&&a.last_name?`${a.first_name} ${a.last_name}`:a.first_name?a.first_name:a.username||a.email}getFullName(a){const o=a.first_name||"",l=a.last_name||"";return`${o} ${l}`.trim()||a.username||a.email}formatPhoneNumber(a){if(!a)return"";const o=a.replace(/\D/g,"");return o.length===11&&o.startsWith("09")?`+63 ${o.slice(1,4)} ${o.slice(4,7)} ${o.slice(7)}`:a}formatDate(a){return a?new Date(a).toLocaleDateString("en-PH"):""}formatDateTime(a){return a?new Date(a).toLocaleString("en-PH"):""}generateAvatar(a){return a?`https://ui-avatars.com/api/?name=${encodeURIComponent(a)}&background=random&color=fff&size=40&format=svg&bold=true`:""}isValidEmail(a){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)}isValidPhoneNumber(a){return/^(\+63|0)?9\d{9}$/.test(a.replace(/\s/g,""))}isTokenExpired(a){if(!a)return!0;try{const o=JSON.parse(atob(a.split(".")[1])),l=Date.now()/1e3;return o.exp<l}catch{return!0}}getTokenExpiryTime(a){if(!a)return null;try{const o=JSON.parse(atob(a.split(".")[1]));return new Date(o.exp*1e3)}catch{return null}}isAuthenticated(){const a=this.getAccessToken();if(!a)return!1;if(this.isTokenExpired(a)){const o=this.getRefreshToken();if(o&&!this.isTokenExpired(o))this.refreshToken().catch(()=>{});else return this.logout(),!1}return!0}}const Ve=new U2,tf=F.createContext(null),Vs=()=>{const c=F.useContext(tf);if(!c)throw new Error("useAuth must be used within an AuthProvider");return c},z2=({children:c})=>{const[a,o]=F.useState(!1),[l,x]=F.useState(null),[u,h]=F.useState(!0);F.useEffect(()=>{m()},[]);const m=()=>{try{const E=Ve.isAuthenticated(),v=Ve.getUserId(),p=Ve.getUserRole(),A=Ve.getIsStaff();console.log("Checking auth status:",{isAuth:E,userId:v,userRole:p,isStaff:A}),E?(o(!0),x({id:v,role:p,is_staff:A})):(o(!1),x(null))}catch(E){console.error("Error checking auth status:",E),o(!1),x(null)}finally{h(!1)}},y={isAuthenticated:a,user:l,loading:u,login:async(E,v)=>{try{const p=await Ve.login(E,v);return console.log("Login result:",p),p.success&&(console.log("Login successful, setting user state:",{id:p.data.user_id,role:p.data.role,is_staff:p.data.is_staff}),o(!0),x({id:p.data.user_id,role:p.data.role,is_staff:p.data.is_staff})),p}catch(p){return console.error("Login error:",p),{success:!1,error:"Login failed. Please try again."}}},logout:()=>{Ve.logout(),o(!1),x(null)},checkAuthStatus:m};return e.jsx(tf.Provider,{value:y,children:c})},Px="/assets/banner-CSqrWLZa.jpg";function V2(){const[c,a]=F.useState({username:"",password:""}),[o,l]=F.useState(!1),[x,u]=F.useState(""),h=La(),{login:m}=Vs(),f=y=>{a({...c,[y.target.name]:y.target.value})},g=async y=>{y.preventDefault(),l(!0),u("");try{const E=await m(c.username,c.password);if(E.success){const{role:v,is_staff:p}=E.data;h(p?"/staff/dashboard":"/customer/dashboard")}else u(E.error)}catch{u("An unexpected error occurred. Please try again.")}finally{l(!1)}};return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"h-full bg-cover bg-center bg-no-repeat opacity-10",style:{backgroundImage:`url(${Px})`,filter:"brightness(0.3)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-100/20 to-orange-200/10"})]}),e.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-4xl font-light tracking-wider mb-2",style:{color:"#36454F"},children:[e.jsx("span",{className:"font-thin",children:"TPX"}),e.jsx("span",{className:"font-extralight ml-2",style:{color:"#F68B24"},children:"BARBERSHOP"})]}),e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("div",{className:"w-16 h-px bg-gradient-to-r from-transparent via-orange-400 to-transparent"})}),e.jsx("p",{className:"text-sm font-light tracking-widest uppercase",style:{color:"#8B8B8B"},children:"Welcome Back"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border",style:{borderColor:"#E0E0E0"},children:[e.jsxs("div",{className:"p-8",children:[x&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:x})}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Username"}),e.jsx("input",{type:"text",name:"username",value:c.username,onChange:f,placeholder:"Enter your username",required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Password"}),e.jsx("input",{type:"password",name:"password",value:c.password,onChange:f,placeholder:"Enter your password",required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsx("div",{className:"text-right",children:e.jsx("a",{href:"#",className:"text-sm font-medium hover:underline",style:{color:"#F68B24"},children:"Forgot Password?"})}),e.jsx("button",{type:"submit",disabled:o,className:"w-full h-12 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white font-semibold rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:transform-none disabled:shadow-lg",children:o?"Signing In...":"Sign In"}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-sm",style:{color:"#8B8B8B"},children:"Don't have an account? "}),e.jsx(ps,{to:"/auth/register",className:"text-sm font-semibold hover:underline",style:{color:"#F68B24"},children:"Sign up"})]})]})]}),e.jsxs("div",{className:"border-t px-8 py-6 space-y-3",style:{borderColor:"#E0E0E0",backgroundColor:"#FAFAFA"},children:[e.jsx("p",{className:"text-xs font-medium text-center mb-4",style:{color:"#8B8B8B"},children:"Quick Access (Development)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ps,{to:"/staff/dashboard",className:"block w-full h-10 bg-gray-100 hover:bg-gray-200 text-center leading-10 text-sm font-medium rounded-lg transition-colors duration-200",style:{color:"#36454F"},children:"Staff Dashboard"}),e.jsx(ps,{to:"/customer/client",className:"block w-full h-10 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white text-center leading-10 text-sm font-semibold rounded-lg transition-all duration-200 shadow-md",children:"Client Portal"}),e.jsx(ps,{to:"/kiosk",className:"block w-full h-10 text-center leading-10 text-sm font-medium rounded-lg transition-all duration-200 border-2 hover:shadow-md",style:{borderColor:"#F68B24",color:"#F68B24"},children:"Kiosk Mode"})]})]})]})]})})]})}function q2(){const[c,a]=F.useState({username:"",password:"",confirmPassword:"",nickname:"",mobile_number:"",email:"",birthday:""}),[o,l]=F.useState(!1),[x,u]=F.useState(""),[h,m]=F.useState(""),f=La(),g=E=>{a({...c,[E.target.name]:E.target.value})},y=async E=>{if(E.preventDefault(),l(!0),u(""),m(""),c.password!==c.confirmPassword){u("Passwords do not match"),l(!1);return}try{const v=await Ve.register({username:c.username,password:c.password,nickname:c.nickname,mobile_number:c.mobile_number,email:c.email,birthday:c.birthday});v.success?(m("Registration successful! Please log in with your credentials."),setTimeout(()=>{f("/auth/login")},2e3)):u(v.error)}catch{u("An unexpected error occurred. Please try again.")}finally{l(!1)}};return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"h-full bg-cover bg-center bg-no-repeat opacity-10",style:{backgroundImage:`url(${Px})`,filter:"brightness(0.3)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-100/20 to-orange-200/10"})]}),e.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-4xl font-light tracking-wider mb-2",style:{color:"#36454F"},children:[e.jsx("span",{className:"font-thin",children:"TPX"}),e.jsx("span",{className:"font-extralight ml-2",style:{color:"#F68B24"},children:"BARBERSHOP"})]}),e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("div",{className:"w-16 h-px bg-gradient-to-r from-transparent via-orange-400 to-transparent"})}),e.jsx("p",{className:"text-sm font-light tracking-widest uppercase",style:{color:"#8B8B8B"},children:"Create Account"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border",style:{borderColor:"#E0E0E0"},children:e.jsxs("div",{className:"p-8",children:[x&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:x})}),h&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-600",children:h})}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Username"}),e.jsx("input",{type:"text",name:"username",value:c.username,onChange:g,placeholder:"Enter your username",required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Nickname"}),e.jsx("input",{type:"text",name:"nickname",value:c.nickname,onChange:g,placeholder:"Enter your nickname",required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Email"}),e.jsx("input",{type:"email",name:"email",value:c.email,onChange:g,placeholder:"Enter your email",required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Mobile Number"}),e.jsx("input",{type:"tel",name:"mobile_number",value:c.mobile_number,onChange:g,placeholder:"Enter your mobile number",required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Birthday"}),e.jsx("input",{type:"date",name:"birthday",value:c.birthday,onChange:g,required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Password"}),e.jsx("input",{type:"password",name:"password",value:c.password,onChange:g,placeholder:"Create a password",required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Confirm Password"}),e.jsx("input",{type:"password",name:"confirmPassword",value:c.confirmPassword,onChange:g,placeholder:"Confirm your password",required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full h-12 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white font-semibold rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:transform-none disabled:shadow-lg",children:o?"Creating Account...":"Create Account"}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-sm",style:{color:"#8B8B8B"},children:"Already have an account? "}),e.jsx(ps,{to:"/auth/login",className:"text-sm font-semibold hover:underline",style:{color:"#F68B24"},children:"Sign In"})]})]})]})})]})})]})}/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$2=c=>c.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,o,l)=>l?l.toUpperCase():o.toLowerCase()),Zm=c=>{const a=$2(c);return a.charAt(0).toUpperCase()+a.slice(1)},sf=(...c)=>c.filter((a,o,l)=>!!a&&a.trim()!==""&&l.indexOf(a)===o).join(" ").trim(),Q2=c=>{for(const a in c)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=F.forwardRef(({color:c="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:x="",children:u,iconNode:h,...m},f)=>F.createElement("svg",{ref:f,...Y2,width:a,height:a,stroke:c,strokeWidth:l?Number(o)*24/Number(a):o,className:sf("lucide",x),...!u&&!Q2(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,y])=>F.createElement(g,y)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(c,a)=>{const o=F.forwardRef(({className:l,...x},u)=>F.createElement(G2,{ref:u,iconNode:a,className:sf(`lucide-${H2(Zm(c))}`,`lucide-${c}`,l),...x}));return o.displayName=Zm(c),o};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Fo=ge("arrow-left",X2);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],K2=ge("award",I2);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],J2=ge("bell-ring",Z2);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_a=ge("bell",W2);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],t1=ge("calendar-days",e1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Re=ge("calendar",s1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],vo=ge("camera",r1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Lx=ge("chart-column",a1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],mo=ge("chevron-down",n1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],o1=ge("chevron-right",l1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Je=ge("circle-alert",i1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ge=ge("circle-check-big",x1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ie=ge("circle-x",c1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],St=ge("clock",d1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],m1=ge("copy",u1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],f1=ge("crown",h1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],xs=ge("dollar-sign",g1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],rf=ge("download",E1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Xi=ge("ellipsis",p1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Jm=ge("eye-off",b1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Co=ge("eye",y1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],yr=ge("funnel",v1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],it=ge("gift",C1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],A1=ge("history",B1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],j1=ge("house",F1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],vx=ge("info",w1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],N1=ge("keyboard",D1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Wm=ge("layout-dashboard",k1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ox=ge("log-out",S1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],gr=ge("mail",_1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ux=ge("map-pin",M1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],T1=ge("monitor",R1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Cx=ge("package",P1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],O1=ge("palette",L1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],z1=ge("pen",U1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],jo=ge("phone",V1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],It=ge("plus",q1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],$1=ge("printer",H1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],ft=ge("qr-code",Q1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Dt=ge("refresh-cw",Y1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Oa=ge("rotate-ccw",G1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Hr=ge("save",X1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Us=ge("scissors",I1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qs=ge("search",K1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],af=ge("settings",Z1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],nf=ge("shield",J1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],e6=ge("shopping-cart",W1);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Vr=ge("square-pen",t6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bs=ge("star",s6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],a6=ge("store",r6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],l6=ge("ticket",n6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pr=ge("trash-2",o6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],zx=ge("trending-down",i6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ma=ge("trending-up",x6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],d6=ge("triangle-alert",c6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],m6=ge("trophy",u6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],eh=ge("upload",h6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Bx=ge("user-check",f6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],lf=ge("user-plus",g6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],p6=ge("user-x",E6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$e=ge("user",b6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qr=ge("users",y6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vr=ge("x",v6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],th=ge("zap",C6),vs=({isOpen:c,onClose:a,title:o,children:l,size:x="md"})=>{if(console.log("Modal render - isOpen:",c,"title:",o),!c)return null;const u={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"};return g2.createPortal(e.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:a}),e.jsxs("div",{className:`relative w-full ${u[x]} transform rounded-3xl bg-white shadow-2xl transition-all z-[10000]`,children:[e.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-[#F5F5F5]",children:[e.jsx("h2",{className:"text-2xl font-black text-[#1A1A1A]",children:o}),e.jsx("button",{onClick:a,className:"w-10 h-10 rounded-2xl bg-[#F5F5F5] hover:bg-[#FF8C42]/10 flex items-center justify-center transition-colors duration-200",children:e.jsx(vr,{className:"w-5 h-5 text-[#6B6B6B] hover:text-[#FF8C42]"})})]}),e.jsx("div",{className:"p-8",children:l})]})]})}),document.body)};function ht({label:c,type:a="text",placeholder:o,value:l,onChange:x,required:u=!1,className:h=""}){return e.jsxs("div",{className:"w-full",children:[c&&e.jsxs("label",{className:"block text-primary-black font-medium text-base mb-2",children:[c,u&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:a,placeholder:o,value:l,onChange:x,required:u,className:`w-full h-12 px-4 border-2 border-gray-300 rounded-lg text-base focus:outline-none focus:border-primary-orange transition-colors duration-200 ${h}`})]})}const B6=({isOpen:c,onClose:a,onSave:o})=>{const[l,x]=F.useState({shopName:"TPX Barbershop",address:"123 Main Street, Quezon City, Philippines",phone:"+63 912 345 6789",email:"info@tpxbarbershop.com",openTime:"09:00",closeTime:"18:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"],currency:"PHP",taxRate:"12",loyaltyPointsRate:"1",maxConcurrentBookings:"3",bookingSlotDuration:"30",advanceBookingDays:"30",emailNotifications:!0,smsNotifications:!0,reminderHours:"24",sessionTimeout:"60",requireStaffPin:!1,auditLogging:!0,theme:"professional",language:"en",timezone:"Asia/Manila",dateFormat:"MM/DD/YYYY"}),u=(E,v)=>{x(p=>({...p,[E]:v}))},h=(E,v)=>{x(p=>({...p,[E]:v}))},m=E=>{x(v=>({...v,workingDays:v.workingDays.includes(E)?v.workingDays.filter(p=>p!==E):[...v.workingDays,E]}))},f=()=>{o?.(l),a()},g=()=>{x({shopName:"TPX Barbershop",address:"123 Main Street, Quezon City, Philippines",phone:"+63 912 345 6789",email:"info@tpxbarbershop.com",openTime:"09:00",closeTime:"18:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"],currency:"PHP",taxRate:"12",loyaltyPointsRate:"1",maxConcurrentBookings:"3",bookingSlotDuration:"30",advanceBookingDays:"30",emailNotifications:!0,smsNotifications:!0,reminderHours:"24",sessionTimeout:"60",requireStaffPin:!1,auditLogging:!0,theme:"professional",language:"en",timezone:"Asia/Manila",dateFormat:"MM/DD/YYYY"})},y=[{id:"monday",label:"Monday"},{id:"tuesday",label:"Tuesday"},{id:"wednesday",label:"Wednesday"},{id:"thursday",label:"Thursday"},{id:"friday",label:"Friday"},{id:"saturday",label:"Saturday"},{id:"sunday",label:"Sunday"}];return e.jsxs(vs,{isOpen:c,onClose:a,title:"System Settings",size:"xl",children:[e.jsxs("div",{className:"space-y-8 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(a6,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Barbershop Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ht,{label:"Shop Name",value:l.shopName,onChange:E=>u("shopName",E.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"}),e.jsx(ht,{label:"Phone Number",value:l.phone,onChange:E=>u("phone",E.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"}),e.jsx(ht,{label:"Email Address",type:"email",value:l.email,onChange:E=>u("email",E.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Address"}),e.jsx("textarea",{value:l.address,onChange:E=>u("address",E.target.value),rows:2,className:"w-full px-4 py-3 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200 resize-none"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(St,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Business Hours"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ht,{label:"Opening Time",type:"time",value:l.openTime,onChange:E=>u("openTime",E.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"}),e.jsx(ht,{label:"Closing Time",type:"time",value:l.closeTime,onChange:E=>u("closeTime",E.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-3",children:"Working Days"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(E=>e.jsx("button",{onClick:()=>m(E.id),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-200 ${l.workingDays.includes(E.id)?"bg-[#FF8C42] text-white":"bg-[#F5F5F5] text-[#6B6B6B] hover:bg-[#FF8C42]/10"}`,children:E.label},E.id))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(xs,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Pricing & Loyalty"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Currency"}),e.jsxs("select",{value:l.currency,onChange:E=>u("currency",E.target.value),className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200",children:[e.jsx("option",{value:"PHP",children:"Philippine Peso (₱)"}),e.jsx("option",{value:"USD",children:"US Dollar ($)"}),e.jsx("option",{value:"EUR",children:"Euro (€)"})]})]}),e.jsx(ht,{label:"Tax Rate (%)",type:"number",value:l.taxRate,onChange:E=>u("taxRate",E.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"}),e.jsx(ht,{label:"Loyalty Points per ₱1",type:"number",value:l.loyaltyPointsRate,onChange:E=>u("loyaltyPointsRate",E.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(qr,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Staff & Booking Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(ht,{label:"Max Concurrent Bookings",type:"number",value:l.maxConcurrentBookings,onChange:E=>u("maxConcurrentBookings",E.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"}),e.jsx(ht,{label:"Booking Slot Duration (min)",type:"number",value:l.bookingSlotDuration,onChange:E=>u("bookingSlotDuration",E.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"}),e.jsx(ht,{label:"Advance Booking Days",type:"number",value:l.advanceBookingDays,onChange:E=>u("advanceBookingDays",E.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(_a,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Notifications"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"emailNotifications",checked:l.emailNotifications,onChange:E=>h("emailNotifications",E.target.checked),className:"w-5 h-5 text-[#FF8C42] rounded focus:ring-[#FF8C42]"}),e.jsx("label",{htmlFor:"emailNotifications",className:"text-[#1A1A1A] font-semibold",children:"Email Notifications"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"smsNotifications",checked:l.smsNotifications,onChange:E=>h("smsNotifications",E.target.checked),className:"w-5 h-5 text-[#FF8C42] rounded focus:ring-[#FF8C42]"}),e.jsx("label",{htmlFor:"smsNotifications",className:"text-[#1A1A1A] font-semibold",children:"SMS Notifications"})]})]}),e.jsx(ht,{label:"Reminder Hours Before Appointment",type:"number",value:l.reminderHours,onChange:E=>u("reminderHours",E.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(nf,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Security Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ht,{label:"Session Timeout (minutes)",type:"number",value:l.sessionTimeout,onChange:E=>u("sessionTimeout",E.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"}),e.jsxs("div",{className:"space-y-3 pt-8",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"requireStaffPin",checked:l.requireStaffPin,onChange:E=>h("requireStaffPin",E.target.checked),className:"w-5 h-5 text-[#FF8C42] rounded focus:ring-[#FF8C42]"}),e.jsx("label",{htmlFor:"requireStaffPin",className:"text-[#1A1A1A] font-semibold",children:"Require Staff PIN for Actions"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"auditLogging",checked:l.auditLogging,onChange:E=>h("auditLogging",E.target.checked),className:"w-5 h-5 text-[#FF8C42] rounded focus:ring-[#FF8C42]"}),e.jsx("label",{htmlFor:"auditLogging",className:"text-[#1A1A1A] font-semibold",children:"Enable Audit Logging"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(O1,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"System Preferences"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Theme"}),e.jsxs("select",{value:l.theme,onChange:E=>u("theme",E.target.value),className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200",children:[e.jsx("option",{value:"professional",children:"Professional"}),e.jsx("option",{value:"modern",children:"Modern"}),e.jsx("option",{value:"classic",children:"Classic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Language"}),e.jsxs("select",{value:l.language,onChange:E=>u("language",E.target.value),className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"fil",children:"Filipino"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Timezone"}),e.jsxs("select",{value:l.timezone,onChange:E=>u("timezone",E.target.value),className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200",children:[e.jsx("option",{value:"Asia/Manila",children:"Asia/Manila"}),e.jsx("option",{value:"UTC",children:"UTC"}),e.jsx("option",{value:"America/New_York",children:"America/New_York"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Date Format"}),e.jsxs("select",{value:l.dateFormat,onChange:E=>u("dateFormat",E.target.value),className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200",children:[e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),e.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-8 border-t border-[#F5F5F5]",children:[e.jsxs("button",{onClick:g,className:"flex items-center space-x-2 px-4 py-2 text-[#6B6B6B] hover:text-[#1A1A1A] font-semibold transition-colors duration-200",children:[e.jsx(Dt,{className:"w-4 h-4"}),e.jsx("span",{children:"Reset to Defaults"})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:a,className:"px-6 py-3 border-2 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white font-semibold rounded-xl transition-all duration-200",children:"Cancel"}),e.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white hover:shadow-lg font-semibold rounded-xl transition-all duration-200",children:[e.jsx(Hr,{className:"w-4 h-4"}),e.jsx("span",{children:"Save Settings"})]})]})]})]})},A6=({isOpen:c,onClose:a,onConfirm:o})=>{const l=()=>{o(),a()};return e.jsx(vs,{isOpen:c,onClose:a,title:"",size:"sm",children:e.jsxs("div",{className:"text-center space-y-6 p-4",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center shadow-2xl ring-4 ring-red-100",children:e.jsx(Ox,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h2",{className:"text-2xl font-black text-[#1A1A1A]",children:"Confirm Logout"}),e.jsx("p",{className:"text-[#6B6B6B] font-medium leading-relaxed",children:"Are you sure you want to log out of your staff session? You'll need to sign in again to access the dashboard."})]}),e.jsx("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(nf,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"text-sm font-bold text-amber-800 mb-1",children:"Security Notice"}),e.jsx("p",{className:"text-xs text-amber-700 leading-relaxed",children:"Your session data will be cleared and any unsaved changes may be lost. Make sure to complete any ongoing transactions before logging out."})]})]})}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsx("button",{onClick:a,className:"flex-1 py-3 px-6 border-2 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white font-semibold rounded-xl transition-all duration-200",children:"Cancel"}),e.jsx("button",{onClick:l,className:"flex-1 py-3 px-6 bg-gradient-to-r from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700 font-semibold rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl",children:"Yes, Logout"})]})]})})},F6=({onLogout:c})=>{const[a,o]=F.useState(!1),[l,x]=F.useState(!1);return e.jsxs("div",{className:"bg-gradient-to-r from-[#1A1A1A] to-[#2A2A2A] shadow-xl",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-8",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#FF8C42] to-[#FF7A2B] rounded-3xl flex items-center justify-center shadow-2xl ring-4 ring-[#FF8C42]/20",children:e.jsx(Us,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"TPX Barbershop"}),e.jsx("p",{className:"text-sm font-medium text-[#FF8C42] mt-1",children:"Staff Dashboard"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-base font-semibold text-white",children:"Welcome back, Staff"}),e.jsx("p",{className:"text-xs text-gray-300 font-medium",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(ps,{to:"/kiosk",className:"bg-blue-500/20 backdrop-blur-sm rounded-2xl flex items-center space-x-2 px-4 py-3 hover:bg-blue-500/30 transition-all duration-300 border border-blue-500/30 group",title:"Kiosk Mode",children:[e.jsx(T1,{className:"w-5 h-5 text-blue-300 group-hover:text-blue-200 transition-colors duration-300"}),e.jsx("span",{className:"text-blue-300 group-hover:text-blue-200 font-semibold text-sm transition-colors duration-300",children:"Kiosk Mode"})]}),e.jsx("button",{onClick:()=>o(!0),className:"w-12 h-12 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center hover:bg-white/20 transition-all duration-300 border border-white/20 group",title:"Settings",children:e.jsx(af,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-300"})}),e.jsx("button",{onClick:()=>x(!0),className:"w-12 h-12 bg-red-500/20 backdrop-blur-sm rounded-2xl flex items-center justify-center hover:bg-red-500/30 transition-all duration-300 border border-red-500/30 group",title:"Logout",children:e.jsx(Ox,{className:"w-5 h-5 text-red-300 group-hover:text-red-200 transition-colors duration-300"})}),e.jsx("div",{className:"w-12 h-12 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center hover:bg-white/20 transition-all duration-300 cursor-pointer border border-white/20",children:e.jsx($e,{className:"w-5 h-5 text-white"})})]})]})]})}),e.jsx(B6,{isOpen:a,onClose:()=>o(!1),onSave:u=>{console.log("Settings saved:",u)}}),e.jsx(A6,{isOpen:l,onClose:()=>x(!1),onConfirm:c})]})};function ns({children:c,className:a=""}){return e.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-6 ${a}`,children:c})}const j6="modulepreload",w6=function(c){return"/"+c},sh={},wo=function(a,o,l){let x=Promise.resolve();if(o&&o.length>0){let g=function(y){return Promise.all(y.map(E=>Promise.resolve(E).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var h=g;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),f=m?.nonce||m?.getAttribute("nonce");x=g(o.map(y=>{if(y=w6(y),y in sh)return;sh[y]=!0;const E=y.endsWith(".css"),v=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${v}`))return;const p=document.createElement("link");if(p.rel=E?"stylesheet":j6,E||(p.as="script"),p.crossOrigin="",p.href=y,f&&p.setAttribute("nonce",f),document.head.appendChild(p),E)return new Promise((A,B)=>{p.addEventListener("load",A),p.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(m){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=m,window.dispatchEvent(f),!f.defaultPrevented)throw m}return x.then(m=>{for(const f of m||[])f.status==="rejected"&&u(f.reason);return a().catch(u)})};function xt({children:c,variant:a="primary",onClick:o,disabled:l=!1,className:x="",type:u="button"}){const h="w-full min-h-[48px] rounded-lg font-bold text-base transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",m={primary:"bg-primary-orange text-white hover:bg-orange-600 active:bg-orange-700",secondary:"bg-primary-black text-white hover:bg-gray-800 active:bg-gray-900",outline:"border-2 border-primary-orange text-primary-orange bg-transparent hover:bg-primary-orange hover:text-white"};return e.jsx("button",{type:u,onClick:o,disabled:l,className:`${h} ${m[a]} ${x}`,children:c})}class je{constructor(a,o,l,x,u){this._legacyCanvasSize=je.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=a,this.$canvas=document.createElement("canvas"),l&&typeof l=="object"?this._onDecode=o:(console.warn(l||x||u?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=o),o=typeof l=="object"?l:{},this._onDecodeError=o.onDecodeError||(typeof l=="function"?l:this._onDecodeError),this._calculateScanRegion=o.calculateScanRegion||(typeof x=="function"?x:this._calculateScanRegion),this._preferredCamera=o.preferredCamera||u||this._preferredCamera,this._legacyCanvasSize=typeof l=="number"?l:typeof x=="number"?x:this._legacyCanvasSize,this._maxScansPerSecond=o.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),a.disablePictureInPicture=!0,a.playsInline=!0,a.muted=!0;let h=!1;if(a.hidden&&(a.hidden=!1,h=!0),document.body.contains(a)||(document.body.appendChild(a),h=!0),l=a.parentElement,o.highlightScanRegion||o.highlightCodeOutline){if(x=!!o.overlay,this.$overlay=o.overlay||document.createElement("div"),u=this.$overlay.style,u.position="absolute",u.display="none",u.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!x&&o.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}l.insertBefore(this.$overlay,this.$video.nextSibling)}o.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(a),requestAnimationFrame(()=>{let m=window.getComputedStyle(a);m.display==="none"&&(a.style.setProperty("display","block","important"),h=!0),m.visibility!=="visible"&&(a.style.setProperty("visibility","visible","important"),h=!0),h&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),a.style.opacity="0",a.style.width="0",a.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),a.addEventListener("play",this._onPlay),a.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=je.createQrEngine()}static set WORKER_PATH(a){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await je.listCameras(!1)).length}catch{return!1}}static async listCameras(a=!1){if(!navigator.mediaDevices)return[];let o=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(x=>x.kind==="videoinput"),l;try{a&&(await o()).every(x=>!x.label)&&(l=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await o()).map((x,u)=>({id:x.deviceId,label:x.label||(u===0?"Default Camera":`Camera ${u+1}`)}))}finally{l&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),je._stopVideoStream(l))}}async hasFlash(){let a;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;a=this.$video.srcObject}else a=(await this._getCameraStream()).stream;return"torch"in a.getVideoTracks()[0].getSettings()}catch{return!1}finally{a&&a!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),je._stopVideoStream(a))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(a){throw this._flashOn=!1,a}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),je._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:a,facingMode:o}=await this._getCameraStream();!this._active||this._paused?je._stopVideoStream(a):(this._setVideoMirror(o),this.$video.srcObject=a,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(a){if(!this._paused)throw this._active=!1,a}}stop(){this.pause(),this._active=!1}async pause(a=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let o=()=>{this.$video.srcObject instanceof MediaStream&&(je._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return a?(o(),!0):(await new Promise(l=>setTimeout(l,300)),this._paused?(o(),!0):!1)}async setCamera(a){a!==this._preferredCamera&&(this._preferredCamera=a,await this._restartVideoStream())}static async scanImage(a,o,l,x,u=!1,h=!1){let m,f=!1;o&&("scanRegion"in o||"qrEngine"in o||"canvas"in o||"disallowCanvasResizing"in o||"alsoTryWithoutScanRegion"in o||"returnDetailedScanResult"in o)?(m=o.scanRegion,l=o.qrEngine,x=o.canvas,u=o.disallowCanvasResizing||!1,h=o.alsoTryWithoutScanRegion||!1,f=!0):console.warn(o||l||x||u||h?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),o=!!l;try{let g,y;[l,g]=await Promise.all([l||je.createQrEngine(),je._loadImage(a)]),[x,y]=je._drawToCanvas(g,m,x,u);let E;if(l instanceof Worker){let v=l;o||je._postWorkerMessageSync(v,"inversionMode","both"),E=await new Promise((p,A)=>{let B,D,C,U=-1;D=S=>{S.data.id===U&&(v.removeEventListener("message",D),v.removeEventListener("error",C),clearTimeout(B),S.data.data!==null?p({data:S.data.data,cornerPoints:je._convertPoints(S.data.cornerPoints,m)}):A(je.NO_QR_CODE_FOUND))},C=S=>{v.removeEventListener("message",D),v.removeEventListener("error",C),clearTimeout(B),A("Scanner error: "+(S?S.message||S:"Unknown Error"))},v.addEventListener("message",D),v.addEventListener("error",C),B=setTimeout(()=>C("timeout"),1e4);let M=y.getImageData(0,0,x.width,x.height);U=je._postWorkerMessageSync(v,"decode",M,[M.data.buffer])})}else E=await Promise.race([new Promise((v,p)=>window.setTimeout(()=>p("Scanner error: timeout"),1e4)),(async()=>{try{var[v]=await l.detect(x);if(!v)throw je.NO_QR_CODE_FOUND;return{data:v.rawValue,cornerPoints:je._convertPoints(v.cornerPoints,m)}}catch(p){if(v=p.message||p,/not implemented|service unavailable/.test(v))return je._disableBarcodeDetector=!0,je.scanImage(a,{scanRegion:m,canvas:x,disallowCanvasResizing:u,alsoTryWithoutScanRegion:h});throw`Scanner error: ${v}`}})()]);return f?E:E.data}catch(g){if(!m||!h)throw g;let y=await je.scanImage(a,{qrEngine:l,canvas:x,disallowCanvasResizing:u});return f?y:y.data}finally{o||je._postWorkerMessage(l,"close")}}setGrayscaleWeights(a,o,l,x=!0){je._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:a,green:o,blue:l,useIntegerApproximation:x})}setInversionMode(a){je._postWorkerMessage(this._qrEnginePromise,"inversionMode",a)}static async createQrEngine(a){if(a&&console.warn("Specifying a worker path is not required and not supported anymore."),a=()=>wo(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[]).then(l=>l.createWorker()),!(!je._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return a();let o=navigator.userAgentData;return o&&o.brands.some(({brand:l})=>/Chromium/i.test(l))&&/mac ?OS/i.test(o.platform)&&await o.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:l,platformVersion:x})=>/arm/i.test(l||"arm")&&13<=parseInt(x||"13")).catch(()=>!0)?a():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(a){let o=Math.round(.6666666666666666*Math.min(a.videoWidth,a.videoHeight));return{x:Math.round((a.videoWidth-o)/2),y:Math.round((a.videoHeight-o)/2),width:o,height:o,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var a=this.$video,o=a.videoWidth,l=a.videoHeight,x=a.offsetWidth,u=a.offsetHeight,h=a.offsetLeft,m=a.offsetTop,f=window.getComputedStyle(a),g=f.objectFit,y=o/l,E=x/u;switch(g){case"none":var v=o,p=l;break;case"fill":v=x,p=u;break;default:(g==="cover"?y>E:y<E)?(p=u,v=p*y):(v=x,p=v/y),g==="scale-down"&&(v=Math.min(v,o),p=Math.min(p,l))}var[A,B]=f.objectPosition.split(" ").map((C,U)=>{const M=parseFloat(C);return C.endsWith("%")?(U?u-p:x-v)*M/100:M});f=this._scanRegion.width||o,E=this._scanRegion.height||l,g=this._scanRegion.x||0;var D=this._scanRegion.y||0;y=this.$overlay.style,y.width=`${f/o*v}px`,y.height=`${E/l*p}px`,y.top=`${m+B+D/l*p}px`,l=/scaleX\(-1\)/.test(a.style.transform),y.left=`${h+(l?x-A-v:A)+(l?o-g-f:g)/o*v}px`,y.transform=a.style.transform}})}static _convertPoints(a,o){if(!o)return a;let l=o.x||0,x=o.y||0,u=o.width&&o.downScaledWidth?o.width/o.downScaledWidth:1;o=o.height&&o.downScaledHeight?o.height/o.downScaledHeight:1;for(let h of a)h.x=h.x*u+l,h.y=h.y*o+x;return a}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var a=Date.now()-this._lastScanTimestamp,o=1e3/this._maxScansPerSecond;a<o&&await new Promise(x=>setTimeout(x,o-a)),this._lastScanTimestamp=Date.now();try{var l=await je.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(x){if(!this._active)return;this._onDecodeError(x)}!je._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=je.createQrEngine()),l?(this._onDecode?this._onDecode(l):this._legacyOnDecode&&this._legacyOnDecode(l.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",l.cornerPoints.map(({x,y:u})=>`${x},${u}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(a){a!==je.NO_QR_CODE_FOUND&&console.log(a)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let a=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",o=[{width:{min:1024}},{width:{min:768}},{}],l=o.map(x=>Object.assign({},x,{[a]:{exact:this._preferredCamera}}));for(let x of[...l,...o])try{let u=await navigator.mediaDevices.getUserMedia({video:x,audio:!1}),h=this._getFacingMode(u)||(x.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:u,facingMode:h}}catch{}throw"Camera not found."}async _restartVideoStream(){let a=this._paused;await this.pause(!0)&&!a&&this._active&&await this.start()}static _stopVideoStream(a){for(let o of a.getTracks())o.stop(),a.removeTrack(o)}_setVideoMirror(a){this.$video.style.transform="scaleX("+(a==="user"?-1:1)+")"}_getFacingMode(a){return(a=a.getVideoTracks()[0])?/rear|back|environment/i.test(a.label)?"environment":/front|user|face/i.test(a.label)?"user":null:null}static _drawToCanvas(a,o,l,x=!1){l=l||document.createElement("canvas");let u=o&&o.x?o.x:0,h=o&&o.y?o.y:0,m=o&&o.width?o.width:a.videoWidth||a.width,f=o&&o.height?o.height:a.videoHeight||a.height;return x||(x=o&&o.downScaledWidth?o.downScaledWidth:m,o=o&&o.downScaledHeight?o.downScaledHeight:f,l.width!==x&&(l.width=x),l.height!==o&&(l.height=o)),o=l.getContext("2d",{alpha:!1}),o.imageSmoothingEnabled=!1,o.drawImage(a,u,h,m,f,0,0,l.width,l.height),[l,o]}static async _loadImage(a){if(a instanceof Image)return await je._awaitImageLoad(a),a;if(a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement||a instanceof SVGImageElement||"OffscreenCanvas"in window&&a instanceof OffscreenCanvas||"ImageBitmap"in window&&a instanceof ImageBitmap)return a;if(a instanceof File||a instanceof Blob||a instanceof URL||typeof a=="string"){let o=new Image;o.src=a instanceof File||a instanceof Blob?URL.createObjectURL(a):a.toString();try{return await je._awaitImageLoad(o),o}finally{(a instanceof File||a instanceof Blob)&&URL.revokeObjectURL(o.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(a){a.complete&&a.naturalWidth!==0||await new Promise((o,l)=>{let x=u=>{a.removeEventListener("load",x),a.removeEventListener("error",x),u instanceof ErrorEvent?l("Image load error"):o()};a.addEventListener("load",x),a.addEventListener("error",x)})}static async _postWorkerMessage(a,o,l,x){return je._postWorkerMessageSync(await a,o,l,x)}static _postWorkerMessageSync(a,o,l,x){if(!(a instanceof Worker))return-1;let u=je._workerMessageId++;return a.postMessage({id:u,type:o,data:l},x),u}}je.DEFAULT_CANVAS_SIZE=400;je.NO_QR_CODE_FOUND="No QR code found";je._disableBarcodeDetector=!1;je._workerMessageId=0;const of=({onQRDetected:c,onClose:a,isOpen:o,title:l})=>{const x=F.useRef(null),u=F.useRef(null),[h,m]=F.useState(!1),[f,g]=F.useState(""),[y,E]=F.useState(null),[v,p]=F.useState([]),[A,B]=F.useState(null),[D,C]=F.useState(!1),[U,M]=F.useState(null),[S,N]=F.useState(!1),[L,k]=F.useState(null);F.useEffect(()=>(o&&V(),()=>{T()}),[o]);const V=async()=>{try{if(!je.hasCamera()){g("No camera found on this device");return}const H=await je.listCameras(!0);p(H);const j=H.find(P=>P.label.toLowerCase().includes("back")||P.label.toLowerCase().includes("rear")||P.label.toLowerCase().includes("environment"));B(j||H[0])}catch(H){console.error("Error initializing cameras:",H),g("Failed to access camera. Please check permissions.")}},R=async()=>{if(!(!x.current||!A))try{m(!0),g(""),E(null),k(null),u.current=new je(x.current,H=>z(H),{onDecodeError:H=>{console.debug("QR decode error:",H)},highlightScanRegion:!0,highlightCodeOutline:!0,preferredCamera:A.id,maxScansPerSecond:5}),await u.current.start(),E(!0)}catch(H){console.error("Error starting QR scanner:",H),m(!1),H.name==="NotAllowedError"?(g("Camera permission denied. Please allow camera access and try again."),E(!1)):H.name==="NotFoundError"?g("No camera found. Please check your device."):H.name==="NotSupportedError"?g("Camera not supported on this device."):g("Failed to start camera. Please try again.")}},T=()=>{u.current&&(u.current.stop(),u.current.destroy(),u.current=null),m(!1),M(null),N(!1),k(null)},z=async H=>{if(!S){N(!0),M(H.data),k(null),navigator.vibrate&&navigator.vibrate(200);try{const j=await c(H.data);j&&j.error&&(k(j.error),M(null),navigator.vibrate&&navigator.vibrate([100,50,100]))}catch(j){console.error("Error processing QR result:",j),k("Failed to process QR code. Please try again."),M(null),navigator.vibrate&&navigator.vibrate([100,50,100])}setTimeout(()=>{N(!1),M(j=>j)},3e3)}},$=async H=>{if(!(!H||H.id===A?.id)&&(B(H),C(!1),h&&u.current))try{await u.current.setCamera(H.id)}catch(j){console.error("Error switching camera:",j),g("Failed to switch camera")}},I=H=>H.label.toLowerCase().includes("back")||H.label.toLowerCase().includes("rear")||H.label.toLowerCase().includes("environment")?"Back Camera":H.label.toLowerCase().includes("front")||H.label.toLowerCase().includes("user")?"Front Camera":H.label||"Camera",_=async()=>{g(""),E(null),await R()};return e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-[#E0E0E0]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-[#1A1A1A]",children:l||"QR Code Scanner"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[v.length>1&&e.jsx("button",{onClick:()=>C(!D),className:"p-2 rounded-lg border border-[#E0E0E0] hover:bg-gray-50 transition-colors",title:"Camera Settings",children:e.jsx(af,{className:"w-5 h-5 text-[#6B6B6B]"})}),e.jsx("button",{onClick:a,className:"p-2 rounded-lg border border-[#E0E0E0] hover:bg-gray-50 transition-colors",children:e.jsx(Ie,{className:"w-5 h-5 text-[#6B6B6B]"})})]})]}),D&&e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-xl border border-[#E0E0E0]",children:[e.jsx("h4",{className:"font-semibold text-[#1A1A1A] mb-3",children:"Select Camera"}),e.jsx("div",{className:"space-y-2",children:v.map(H=>e.jsxs("button",{onClick:()=>$(H),className:`w-full p-3 rounded-lg border-2 text-left transition-colors ${A?.id===H.id?"border-[#FF8C42] bg-orange-50 text-[#FF8C42]":"border-[#E0E0E0] hover:border-[#FF8C42] hover:bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:I(H)}),A?.id===H.id&&e.jsx(Ge,{className:"w-5 h-5"})]}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:H.label})]},H.id))})]}),e.jsxs("div",{className:"relative bg-black rounded-xl overflow-hidden mb-4",style:{aspectRatio:"4/3"},children:[e.jsx("video",{ref:x,className:"w-full h-full object-cover",playsInline:!0,muted:!0,autoPlay:!0,style:{transform:A?.label.toLowerCase().includes("front")?"scaleX(-1)":"none"}}),h&&!U&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-48 h-48 border-2 border-[#FF8C42] rounded-2xl animate-pulse",children:e.jsx("div",{className:"absolute inset-4 border border-[#FF8C42] rounded-xl opacity-50"})})}),U&&!L&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(Ge,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"font-bold text-[#1A1A1A]",children:"QR Code Detected!"})]}),e.jsx("div",{className:"text-sm text-[#6B6B6B] break-all",children:U})]})}),L&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm border-2 border-red-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(Ie,{className:"w-6 h-6 text-red-600"}),e.jsx("span",{className:"font-bold text-[#1A1A1A]",children:"Voucher Error"})]}),e.jsx("div",{className:"text-sm text-red-700 mb-4",children:L}),e.jsx("button",{onClick:()=>{k(null),N(!1)},className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Try Again"})]})}),!h&&!f&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx(vo,{className:"w-16 h-16 mx-auto mb-4 opacity-60"}),e.jsx("p",{className:"text-lg font-semibold",children:"Ready to Scan"}),e.jsx("p",{className:"text-sm opacity-80",children:"Position QR code in the frame"})]})})]}),f&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-xl",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Je,{className:"w-5 h-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-800 font-medium",children:f}),y===!1&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Please enable camera permissions in your browser settings and refresh the page."})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[h?e.jsxs("button",{onClick:T,className:"flex-1 bg-red-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-red-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Ie,{className:"w-5 h-5"}),e.jsx("span",{children:"Stop Scanning"})]}):e.jsxs("button",{onClick:R,disabled:!A||!!f,className:"flex-1 bg-[#FF8C42] text-white py-3 px-6 rounded-xl font-semibold hover:bg-[#FF7A2B] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[e.jsx(vo,{className:"w-5 h-5"}),e.jsx("span",{children:"Start Scanning"})]}),f&&y===!1&&e.jsxs("button",{onClick:_,className:"px-6 py-3 border-2 border-[#FF8C42] text-[#FF8C42] rounded-xl font-semibold hover:bg-[#FF8C42] hover:text-white transition-colors flex items-center space-x-2",children:[e.jsx(Oa,{className:"w-5 h-5"}),e.jsx("span",{children:"Retry"})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:e.jsxs("p",{className:"text-blue-800 text-sm",children:[e.jsx("strong",{children:"Tips:"})," Hold your device steady and ensure the QR code is well-lit and clearly visible within the scanning area."]})})]})},D6=({isOpen:c,onClose:a,onVoucherScanned:o})=>{const[l,x]=F.useState(null),[u,h]=F.useState(null),[m,f]=F.useState(!1),[g,y]=F.useState(null),E=async D=>{console.log("Voucher QR Data:",D);try{f(!0),h(null);let C=null;if(D.startsWith("{"))try{C=JSON.parse(D),console.log("Parsed voucher data:",C)}catch{const M="Invalid QR code format.";return h(M),f(!1),{error:M}}else C={code:D};if(!C.code){const M="Missing voucher code in QR data.";return h(M),f(!1),{error:M}}console.log("Parsed voucher info:",C);const U={id:C.voucherId||"N/A",code:C.code,value:C.value||"N/A",expires_at:C.expires_at||"N/A",user:C.user||C.username||"N/A",redeemed:C.redeemed||!1,status:C.redeemed?"redeemed":"scanned",type:C.type||"voucher",brand:C.brand||"TPX Barbershop"};return console.log("Created voucher result:",U),x(U),y(C),f(!1),{success:!0,data:U}}catch(C){console.error("Error processing QR code:",C);const U="Failed to process QR code. Please try again.";return h(U),f(!1),{error:U}}},v=async()=>{if(!l||!l.code){h("No voucher to validate.");return}try{f(!0),h(null);const D=(await wo(async()=>{const{default:L}=await Promise.resolve().then(()=>Rx);return{default:L}},void 0)).default,C={code:l.code};l.user&&l.user!=="N/A"&&l.user.trim()&&(C.username=l.user),console.log("Attempting voucher assignment with:",C);const U=await D.post("/vouchers/redeem/",C);console.log("Voucher assignment response:",U),console.log("Attempting voucher redemption for code:",l.code);const M={code:l.code};(U.username||l.user&&l.user!=="N/A"&&l.user.trim())&&(M.username=U.username||l.user);const S=await D.post("/vouchers/confirm-voucher-redeem/",M);console.log("Voucher redemption response:",S);const N={...l,status:"redeemed",value:S.value||U.value||l.value,user:U.username||l.user};x(N),h("")}catch(D){console.error("Error processing voucher:",D);let C="Failed to process voucher. Please try again.";D.response?.data?.error?C=D.response.data.error:D.response?.data?.detail&&(C=D.response.data.detail),C.includes("expired")||C.includes("Voucher has expired")?C="This voucher has expired and cannot be assigned.":C.includes("Invalid voucher code")?C="Invalid voucher code. Please verify the QR code.":C.includes("Target user not found")?C="Target user not found. Please check the username.":C.includes("already assigned")||C.includes("Voucher already assigned")?C="This voucher has already been assigned to the user.":C.includes("Voucher code is required")&&(C="Voucher code is missing. Please scan a valid QR code."),h(C)}finally{f(!1)}},p=()=>{x(null),h(null),f(!1),y(null),a()},A=D=>{switch(D){case"redeemed":return"text-green-700 bg-green-100 border-green-200";case"assigned":return"text-emerald-700 bg-emerald-100 border-emerald-200";case"scanned":return"text-blue-700 bg-blue-100 border-blue-200";case"expired":return"text-red-700 bg-red-100 border-red-200";case"used_up":return"text-orange-700 bg-orange-100 border-orange-200";case"invalid":return"text-red-700 bg-red-100 border-red-200";default:return"text-gray-700 bg-gray-100 border-gray-200"}},B=D=>{switch(D){case"redeemed":return e.jsx(Ge,{className:"w-5 h-5 text-green-600"});case"assigned":return e.jsx(Ge,{className:"w-5 h-5 text-emerald-600"});case"scanned":return e.jsx(ft,{className:"w-5 h-5 text-blue-600"});case"expired":case"used_up":case"invalid":return e.jsx(Ie,{className:"w-5 h-5 text-red-600"});default:return e.jsx(Ie,{className:"w-5 h-5 text-gray-600"})}};return e.jsx(vs,{isOpen:c,onClose:p,title:"Voucher QR Scanner",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(of,{onQRDetected:E,onClose:p,isOpen:c,title:"Voucher Scanner"}),m&&e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(Dt,{className:"w-6 h-6 text-[#FF8C42] animate-spin"}),e.jsx("span",{className:"text-[#6B6B6B] font-medium",children:"Processing voucher..."})]})}),l&&e.jsx("div",{className:"bg-white border-2 border-[#F5F5F5] rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:B(l.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-black text-[#1A1A1A] font-mono",children:l.code}),e.jsx("span",{className:`px-3 py-1 text-sm font-bold rounded-full border-2 uppercase ${A(l.status)}`,children:l.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx($e,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"User:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.user})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(xs,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Value:"}),e.jsxs("p",{className:"text-[#FF8C42] font-black text-lg",children:["₱",l.value]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Re,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Expires:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:new Date(l.expires_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(it,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Type:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.type})]})]})]})]}),l.brand!=="N/A"&&e.jsxs("div",{className:"mt-4 pt-3 border-t border-[#F5F5F5]",children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Brand:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.brand})]}),l.status==="redeemed"&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:e.jsx("p",{className:"text-green-800 font-bold text-sm",children:"✓ Voucher redeemed successfully!"})}),l.status==="assigned"&&e.jsx("div",{className:"mt-4 p-3 bg-emerald-50 border border-emerald-200 rounded-xl",children:e.jsx("p",{className:"text-emerald-800 font-bold text-sm",children:"✓ Voucher assigned successfully!"})}),l.status==="scanned"&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:e.jsx("p",{className:"text-blue-800 font-bold text-sm",children:"📱 Voucher scanned - Ready to redeem"})}),l.status==="expired"&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-red-800 font-bold text-sm",children:"✗ This voucher has expired"})}),l.status==="used_up"&&e.jsx("div",{className:"mt-4 p-3 bg-orange-50 border border-orange-200 rounded-xl",children:e.jsx("p",{className:"text-orange-800 font-bold text-sm",children:"✗ This voucher has reached its usage limit"})}),l.status==="invalid"&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-red-800 font-bold text-sm",children:"✗ Invalid voucher code"})})]})]})}),u&&e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ie,{className:"w-6 h-6 text-red-600"}),e.jsx("p",{className:"text-red-800 font-bold",children:u})]})}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-4 border-t border-[#F5F5F5]",children:[l&&l.status==="scanned"&&e.jsx(xt,{onClick:v,className:"px-8 bg-[#F68B24] hover:bg-[#E67A1A] text-white font-semibold",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Redeem Voucher"]})}),e.jsx(xt,{variant:"outline",onClick:p,className:"px-8 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white",disabled:m,children:"Return to Selection"})]})]})})},N6=({isOpen:c,onClose:a,onBookingScanned:o})=>{console.log("BookingQRScannerModal render - isOpen:",c);const[l,x]=F.useState(null),[u,h]=F.useState(null),[m,f]=F.useState(!1),g=async A=>{console.log("Booking QR Data:",A);try{f(!0),h(null);let B=null;if(A.startsWith("{"))try{B=JSON.parse(A),console.log("Parsed booking data:",B)}catch{const C="Invalid QR code format.";return h(C),{error:C}}else{const C="Invalid QR code format. Expected JSON data.";return h(C),{error:C}}if(!B.bookingId){const C="Missing booking ID in QR code.";return h(C),{error:C}}const D={id:B.bookingId,booking_code:B.bookingCode||"N/A",customer:"Customer",service:B.service||"N/A",date:B.date||"N/A",time:B.time||"N/A",staff:B.barber||"N/A",status:"scanned",phone:"N/A",barbershop:B.barbershop||"N/A"};return x(D),{success:!0,data:D}}catch(B){console.error("Error processing booking QR code:",B);const D="Failed to process booking QR code. Please try again.";return h(D),{error:D}}finally{f(!1)}},y=async()=>{if(!l||!l.id){h("No booking to validate.");return}try{f(!0),h(null);const B=await(await wo(async()=>{const{default:C}=await Promise.resolve().then(()=>Rx);return{default:C}},void 0)).default.patch(`/bookings/${l.id}/`,{status:"confirmed"});console.log("Booking confirmed:",B);const D={...l,status:"confirmed"};x(D),h(null)}catch(A){console.error("Error confirming booking:",A),h("Failed to confirm booking. Please try again.")}finally{f(!1)}},E=()=>{x(null),h(null),f(!1),a()},v=A=>{switch(A){case"confirmed":return"text-green-700 bg-green-100 border-green-200";case"pending":return"text-yellow-700 bg-yellow-100 border-yellow-200";case"completed":return"text-blue-700 bg-blue-100 border-blue-200";case"cancelled":return"text-red-700 bg-red-100 border-red-200";default:return"text-gray-700 bg-gray-100 border-gray-200"}},p=A=>{switch(A){case"confirmed":case"pending":return e.jsx(Ge,{className:"w-5 h-5 text-green-600"});case"completed":return e.jsx(Ge,{className:"w-5 h-5 text-blue-600"});case"cancelled":case"invalid":return e.jsx(Ie,{className:"w-5 h-5 text-red-600"});default:return e.jsx(Ie,{className:"w-5 h-5 text-gray-600"})}};return e.jsx(vs,{isOpen:c,onClose:E,title:"Booking QR Scanner",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(of,{onQRDetected:g,onClose:E,isOpen:c,title:"Booking Scanner"}),m&&e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(Dt,{className:"w-6 h-6 text-[#FF8C42] animate-spin"}),e.jsx("span",{className:"text-[#6B6B6B] font-medium",children:"Processing booking..."})]})}),l&&e.jsx("div",{className:"bg-white border-2 border-[#F5F5F5] rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:p(l.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-black text-[#1A1A1A] font-mono",children:l.id}),e.jsx("span",{className:`px-3 py-1 text-sm font-bold rounded-full border-2 uppercase ${v(l.status)}`,children:l.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx($e,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Customer:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.customer})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ft,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Service:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.service})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Re,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Date & Time:"}),e.jsxs("p",{className:"text-[#1A1A1A] font-semibold",children:[l.date," at ",l.time]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx($e,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Staff:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.staff})]})]})]})]}),l.phone!=="N/A"&&e.jsxs("div",{className:"mt-4 pt-3 border-t border-[#F5F5F5]",children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Phone:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.phone})]}),l.status==="confirmed"&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:e.jsx("p",{className:"text-green-800 font-bold text-sm",children:"✓ Booking confirmed - Ready for service!"})}),l.status==="pending"&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-xl",children:e.jsx("p",{className:"text-yellow-800 font-bold text-sm",children:"⏳ Confirming booking..."})}),l.status==="in_progress"&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:e.jsx("p",{className:"text-blue-800 font-bold text-sm",children:"🔄 Customer checked in - Service in progress"})}),l.status==="completed"&&e.jsx("div",{className:"mt-4 p-3 bg-gray-50 border border-gray-200 rounded-xl",children:e.jsx("p",{className:"text-gray-800 font-bold text-sm",children:"✓ This booking has already been completed"})}),l.status==="cancelled"&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-red-800 font-bold text-sm",children:"✗ This booking has been cancelled"})}),l.status==="scanned"&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:e.jsx("p",{className:"text-blue-800 font-bold text-sm",children:"📱 Booking scanned - Ready to validate"})}),l.status==="invalid"&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-red-800 font-bold text-sm",children:"✗ Invalid booking QR code"})})]})]})}),u&&e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ie,{className:"w-6 h-6 text-red-600"}),e.jsx("p",{className:"text-red-800 font-bold",children:u})]})}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-4 border-t border-[#F5F5F5]",children:[l&&l.status==="scanned"&&e.jsx(xt,{onClick:y,className:"px-8 bg-[#F68B24] hover:bg-[#E67A1A] text-white font-semibold",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}),"Validating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Validate & Confirm Booking"]})}),e.jsx(xt,{variant:"outline",onClick:E,className:"px-8 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white",disabled:m,children:"Return to Selection"})]})]})})},k6=({isOpen:c,onClose:a,onSubmit:o})=>{const[l,x]=F.useState({username:"",password:"",nickname:"",email:"",mobile_number:"",birthday:""}),[u,h]=F.useState(!1),[m,f]=F.useState(null),[g,y]=F.useState({}),E=async A=>{A.preventDefault(),h(!0),f(null),y({});try{const B={username:l.username.trim(),password:l.password,mobile_number:l.mobile_number.trim(),email:l.email.trim(),...l.nickname&&{nickname:l.nickname.trim()},...l.birthday&&{birthday:l.birthday}};console.log("Creating new customer:",B);const D=await he.post("/register/",B);console.log("Customer created successfully:",D),o&&await o(D),v(),a()}catch(B){if(console.error("Error creating customer:",B),B.response?.data){const D=B.response.data;if(typeof D=="object")if(y(D),D.non_field_errors)f(D.non_field_errors[0]);else{const C=Object.entries(D).filter(([U])=>U!=="non_field_errors").map(([U,M])=>`${U}: ${M[0]}`);f(`Please fix the following errors: ${C.join(", ")}`)}else f(D||"Failed to create customer")}else f(B.message||"Failed to create customer. Please try again.")}finally{h(!1)}},v=()=>{x({username:"",password:"",nickname:"",email:"",mobile_number:"",birthday:""}),f(null),y({})},p=(A,B)=>{x(D=>({...D,[A]:B}))};return e.jsx(vs,{isOpen:c,onClose:a,title:"Add New Customer",size:"lg",children:e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[m&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:m})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx($e,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Account Information"]}),e.jsx(ht,{label:"Username",placeholder:"Enter unique username",value:l.username,onChange:A=>p("username",A.target.value),required:!0,className:"border-[#F5F5F5] focus:border-[#FF8C42]",error:g.username?.[0]}),e.jsx(ht,{label:"Password",type:"password",placeholder:"Enter secure password",value:l.password,onChange:A=>p("password",A.target.value),required:!0,className:"border-[#F5F5F5] focus:border-[#FF8C42]",error:g.password?.[0]}),e.jsx(ht,{label:"Email Address",type:"email",placeholder:"customer@example.com",value:l.email,onChange:A=>p("email",A.target.value),required:!0,className:"border-[#F5F5F5] focus:border-[#FF8C42]",error:g.email?.[0]}),e.jsx(ht,{label:"Mobile Number",type:"tel",placeholder:"09123456789",value:l.mobile_number,onChange:A=>p("mobile_number",A.target.value),required:!0,className:"border-[#F5F5F5] focus:border-[#FF8C42]",error:g.mobile_number?.[0]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(Re,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Personal Details"]}),e.jsx(ht,{label:"Nickname (Optional)",placeholder:"Preferred name or alias",value:l.nickname,onChange:A=>p("nickname",A.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]",error:g.nickname?.[0]}),e.jsx(ht,{label:"Birthday (Optional)",type:"date",value:l.birthday,onChange:A=>p("birthday",A.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]",error:g.birthday?.[0]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx($e,{className:"h-5 w-5 text-blue-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Customer Account"}),e.jsxs("div",{className:"mt-2 text-sm text-blue-700",children:[e.jsx("p",{children:"This will create a new customer account that they can use to:"}),e.jsxs("ul",{className:"list-disc pl-5 mt-1",children:[e.jsx("li",{children:"Book appointments online"}),e.jsx("li",{children:"View booking history"}),e.jsx("li",{children:"Manage loyalty points"})]})]})]})]})})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-[#F5F5F5]",children:[e.jsx(xt,{type:"button",variant:"outline",onClick:()=>{v(),a()},disabled:u,className:"flex-1 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white",children:"Cancel"}),e.jsx(xt,{type:"submit",disabled:u,className:"flex-1 bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white hover:shadow-lg disabled:opacity-50",children:u?"Creating...":"Create Customer"})]})]})})},xf=({isOpen:c,onClose:a,onSubmit:o})=>{const[l,x]=F.useState({service:"",barber:"",date:"",time:""}),[u,h]=F.useState(!1),[m,f]=F.useState(null),[g,y]=F.useState({}),[E,v]=F.useState([]),[p,A]=F.useState([]),[B,D]=F.useState(!1);F.useEffect(()=>{c&&C()},[c]);const C=async()=>{D(!0);try{const[k,V]=await Promise.all([he.get("/services/"),he.get("/barbers/")]);v(k||[]),A(V||[])}catch(k){console.error("Error loading dropdown data:",k),f("Failed to load services and barbers")}finally{D(!1)}},U=async k=>{k.preventDefault(),h(!0),f(null),y({});try{const V=z=>{const[$,I]=z.split(" ");let[_,H]=$.split(":");return _==="12"&&(_="00"),I==="PM"&&(_=parseInt(_,10)+12),`${_.toString().padStart(2,"0")}:${H}`},R={service:parseInt(l.service),date:l.date,time:V(l.time),status:"booked",...l.barber&&{barber:parseInt(l.barber)}};console.log("Creating booking:",R);const T=await he.post("/bookings/",R);console.log("Booking created successfully:",T),o&&await o(T),M(),a()}catch(V){if(console.error("Error creating booking:",V),V.response?.data){const R=V.response.data;if(typeof R=="object")if(y(R),R.non_field_errors)f(R.non_field_errors[0]);else{const T=Object.entries(R).filter(([z])=>z!=="non_field_errors").map(([z,$])=>`${z}: ${$[0]}`);f(`Please fix the following errors: ${T.join(", ")}`)}else f(R||"Failed to create booking")}else f(V.message||"Failed to create booking. Please try again.")}finally{h(!1)}},M=()=>{x({service:"",barber:"",date:"",time:""}),f(null),y({})},S=(k,V)=>{x(R=>({...R,[k]:V}))},N=["9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM","5:30 PM"],L=k=>{const V=`₱${parseFloat(k.price).toFixed(2)}`,R=`${k.duration_minutes} min`;return`${k.name} - ${V} (${R})`};return e.jsx(vs,{isOpen:c,onClose:a,title:"Create New Booking",size:"lg",children:e.jsxs("form",{onSubmit:U,className:"space-y-6",children:[m&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:m})}),B&&e.jsxs("div",{className:"flex items-center justify-center py-4",children:[e.jsx(Dt,{className:"w-5 h-5 animate-spin text-orange-500 mr-2"}),e.jsx("span",{className:"text-gray-600",children:"Loading services and staff..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(Us,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Service & Staff"]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Service ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:l.service,onChange:k=>S("service",k.target.value),required:!0,disabled:B,className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200 disabled:opacity-50",children:[e.jsx("option",{value:"",children:"Select a service"}),E.map(k=>e.jsx("option",{value:k.id,children:L(k)},k.id))]}),g.service&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.service[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Barber (Optional)"}),e.jsxs("select",{value:l.barber,onChange:k=>S("barber",k.target.value),disabled:B,className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200 disabled:opacity-50",children:[e.jsx("option",{value:"",children:"Any available barber"}),p.filter(k=>k.is_active).map(k=>e.jsx("option",{value:k.id,children:k.full_name},k.id))]}),g.barber&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.barber[0]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx($e,{className:"h-5 w-5 text-yellow-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Staff Booking"}),e.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e.jsx("p",{children:"This creates a booking for walk-in customers or phone bookings. The booking will be associated with the staff member making the reservation."})})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(Re,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Schedule"]}),e.jsx(ht,{label:"Date",type:"date",value:l.date,onChange:k=>S("date",k.target.value),required:!0,min:new Date().toISOString().split("T")[0],className:"border-[#F5F5F5] focus:border-[#FF8C42]",error:g.date?.[0]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:l.time,onChange:k=>S("time",k.target.value),required:!0,className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200",children:[e.jsx("option",{value:"",children:"Select time"}),N.map(k=>e.jsx("option",{value:k,children:k},k))]}),g.time&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.time[0]})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(St,{className:"h-5 w-5 text-green-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Booking Information"}),e.jsx("div",{className:"mt-2 text-sm text-green-700",children:e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:'Status will be set to "Booked"'}),e.jsx("li",{children:"Customer will receive confirmation"}),e.jsx("li",{children:"Booking can be managed from the Bookings tab"})]})})]})]})})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-[#F5F5F5]",children:[e.jsx(xt,{type:"button",variant:"outline",onClick:()=>{M(),a()},disabled:u,className:"flex-1 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white",children:"Cancel"}),e.jsx(xt,{type:"submit",disabled:u||B,className:"flex-1 bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white hover:shadow-lg disabled:opacity-50",children:u?"Creating...":"Create Booking"})]})]})})};var Sa={},Ii,rh;function S6(){return rh||(rh=1,Ii=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Ii}var Ki={},hr={},ah;function $r(){if(ah)return hr;ah=1;let c;const a=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return hr.getSymbolSize=function(l){if(!l)throw new Error('"version" cannot be null or undefined');if(l<1||l>40)throw new Error('"version" should be in range from 1 to 40');return l*4+17},hr.getSymbolTotalCodewords=function(l){return a[l]},hr.getBCHDigit=function(o){let l=0;for(;o!==0;)l++,o>>>=1;return l},hr.setToSJISFunction=function(l){if(typeof l!="function")throw new Error('"toSJISFunc" is not a valid function.');c=l},hr.isKanjiModeEnabled=function(){return typeof c<"u"},hr.toSJIS=function(l){return c(l)},hr}var Zi={},nh;function Vx(){return nh||(nh=1,function(c){c.L={bit:1},c.M={bit:0},c.Q={bit:3},c.H={bit:2};function a(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return c.L;case"m":case"medium":return c.M;case"q":case"quartile":return c.Q;case"h":case"high":return c.H;default:throw new Error("Unknown EC Level: "+o)}}c.isValid=function(l){return l&&typeof l.bit<"u"&&l.bit>=0&&l.bit<4},c.from=function(l,x){if(c.isValid(l))return l;try{return a(l)}catch{return x}}}(Zi)),Zi}var Ji,lh;function _6(){if(lh)return Ji;lh=1;function c(){this.buffer=[],this.length=0}return c.prototype={get:function(a){const o=Math.floor(a/8);return(this.buffer[o]>>>7-a%8&1)===1},put:function(a,o){for(let l=0;l<o;l++)this.putBit((a>>>o-l-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(a){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),a&&(this.buffer[o]|=128>>>this.length%8),this.length++}},Ji=c,Ji}var Wi,oh;function M6(){if(oh)return Wi;oh=1;function c(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}return c.prototype.set=function(a,o,l,x){const u=a*this.size+o;this.data[u]=l,x&&(this.reservedBit[u]=!0)},c.prototype.get=function(a,o){return this.data[a*this.size+o]},c.prototype.xor=function(a,o,l){this.data[a*this.size+o]^=l},c.prototype.isReserved=function(a,o){return this.reservedBit[a*this.size+o]},Wi=c,Wi}var ex={},ih;function R6(){return ih||(ih=1,function(c){const a=$r().getSymbolSize;c.getRowColCoords=function(l){if(l===1)return[];const x=Math.floor(l/7)+2,u=a(l),h=u===145?26:Math.ceil((u-13)/(2*x-2))*2,m=[u-7];for(let f=1;f<x-1;f++)m[f]=m[f-1]-h;return m.push(6),m.reverse()},c.getPositions=function(l){const x=[],u=c.getRowColCoords(l),h=u.length;for(let m=0;m<h;m++)for(let f=0;f<h;f++)m===0&&f===0||m===0&&f===h-1||m===h-1&&f===0||x.push([u[m],u[f]]);return x}}(ex)),ex}var tx={},xh;function T6(){if(xh)return tx;xh=1;const c=$r().getSymbolSize,a=7;return tx.getPositions=function(l){const x=c(l);return[[0,0],[x-a,0],[0,x-a]]},tx}var sx={},ch;function P6(){return ch||(ch=1,function(c){c.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const a={N1:3,N2:3,N3:40,N4:10};c.isValid=function(x){return x!=null&&x!==""&&!isNaN(x)&&x>=0&&x<=7},c.from=function(x){return c.isValid(x)?parseInt(x,10):void 0},c.getPenaltyN1=function(x){const u=x.size;let h=0,m=0,f=0,g=null,y=null;for(let E=0;E<u;E++){m=f=0,g=y=null;for(let v=0;v<u;v++){let p=x.get(E,v);p===g?m++:(m>=5&&(h+=a.N1+(m-5)),g=p,m=1),p=x.get(v,E),p===y?f++:(f>=5&&(h+=a.N1+(f-5)),y=p,f=1)}m>=5&&(h+=a.N1+(m-5)),f>=5&&(h+=a.N1+(f-5))}return h},c.getPenaltyN2=function(x){const u=x.size;let h=0;for(let m=0;m<u-1;m++)for(let f=0;f<u-1;f++){const g=x.get(m,f)+x.get(m,f+1)+x.get(m+1,f)+x.get(m+1,f+1);(g===4||g===0)&&h++}return h*a.N2},c.getPenaltyN3=function(x){const u=x.size;let h=0,m=0,f=0;for(let g=0;g<u;g++){m=f=0;for(let y=0;y<u;y++)m=m<<1&2047|x.get(g,y),y>=10&&(m===1488||m===93)&&h++,f=f<<1&2047|x.get(y,g),y>=10&&(f===1488||f===93)&&h++}return h*a.N3},c.getPenaltyN4=function(x){let u=0;const h=x.data.length;for(let f=0;f<h;f++)u+=x.data[f];return Math.abs(Math.ceil(u*100/h/5)-10)*a.N4};function o(l,x,u){switch(l){case c.Patterns.PATTERN000:return(x+u)%2===0;case c.Patterns.PATTERN001:return x%2===0;case c.Patterns.PATTERN010:return u%3===0;case c.Patterns.PATTERN011:return(x+u)%3===0;case c.Patterns.PATTERN100:return(Math.floor(x/2)+Math.floor(u/3))%2===0;case c.Patterns.PATTERN101:return x*u%2+x*u%3===0;case c.Patterns.PATTERN110:return(x*u%2+x*u%3)%2===0;case c.Patterns.PATTERN111:return(x*u%3+(x+u)%2)%2===0;default:throw new Error("bad maskPattern:"+l)}}c.applyMask=function(x,u){const h=u.size;for(let m=0;m<h;m++)for(let f=0;f<h;f++)u.isReserved(f,m)||u.xor(f,m,o(x,f,m))},c.getBestMask=function(x,u){const h=Object.keys(c.Patterns).length;let m=0,f=1/0;for(let g=0;g<h;g++){u(g),c.applyMask(g,x);const y=c.getPenaltyN1(x)+c.getPenaltyN2(x)+c.getPenaltyN3(x)+c.getPenaltyN4(x);c.applyMask(g,x),y<f&&(f=y,m=g)}return m}}(sx)),sx}var ho={},dh;function cf(){if(dh)return ho;dh=1;const c=Vx(),a=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return ho.getBlocksCount=function(x,u){switch(u){case c.L:return a[(x-1)*4+0];case c.M:return a[(x-1)*4+1];case c.Q:return a[(x-1)*4+2];case c.H:return a[(x-1)*4+3];default:return}},ho.getTotalCodewordsCount=function(x,u){switch(u){case c.L:return o[(x-1)*4+0];case c.M:return o[(x-1)*4+1];case c.Q:return o[(x-1)*4+2];case c.H:return o[(x-1)*4+3];default:return}},ho}var rx={},zn={},uh;function L6(){if(uh)return zn;uh=1;const c=new Uint8Array(512),a=new Uint8Array(256);return function(){let l=1;for(let x=0;x<255;x++)c[x]=l,a[l]=x,l<<=1,l&256&&(l^=285);for(let x=255;x<512;x++)c[x]=c[x-255]}(),zn.log=function(l){if(l<1)throw new Error("log("+l+")");return a[l]},zn.exp=function(l){return c[l]},zn.mul=function(l,x){return l===0||x===0?0:c[a[l]+a[x]]},zn}var mh;function O6(){return mh||(mh=1,function(c){const a=L6();c.mul=function(l,x){const u=new Uint8Array(l.length+x.length-1);for(let h=0;h<l.length;h++)for(let m=0;m<x.length;m++)u[h+m]^=a.mul(l[h],x[m]);return u},c.mod=function(l,x){let u=new Uint8Array(l);for(;u.length-x.length>=0;){const h=u[0];for(let f=0;f<x.length;f++)u[f]^=a.mul(x[f],h);let m=0;for(;m<u.length&&u[m]===0;)m++;u=u.slice(m)}return u},c.generateECPolynomial=function(l){let x=new Uint8Array([1]);for(let u=0;u<l;u++)x=c.mul(x,new Uint8Array([1,a.exp(u)]));return x}}(rx)),rx}var ax,hh;function U6(){if(hh)return ax;hh=1;const c=O6();function a(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}return a.prototype.initialize=function(l){this.degree=l,this.genPoly=c.generateECPolynomial(this.degree)},a.prototype.encode=function(l){if(!this.genPoly)throw new Error("Encoder not initialized");const x=new Uint8Array(l.length+this.degree);x.set(l);const u=c.mod(x,this.genPoly),h=this.degree-u.length;if(h>0){const m=new Uint8Array(this.degree);return m.set(u,h),m}return u},ax=a,ax}var nx={},lx={},ox={},fh;function df(){return fh||(fh=1,ox.isValid=function(a){return!isNaN(a)&&a>=1&&a<=40}),ox}var Es={},gh;function uf(){if(gh)return Es;gh=1;const c="[0-9]+",a="[A-Z $%*+\\-./:]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const l="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+`)(?:.|[\r
]))+`;Es.KANJI=new RegExp(o,"g"),Es.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Es.BYTE=new RegExp(l,"g"),Es.NUMERIC=new RegExp(c,"g"),Es.ALPHANUMERIC=new RegExp(a,"g");const x=new RegExp("^"+o+"$"),u=new RegExp("^"+c+"$"),h=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Es.testKanji=function(f){return x.test(f)},Es.testNumeric=function(f){return u.test(f)},Es.testAlphanumeric=function(f){return h.test(f)},Es}var Eh;function Qr(){return Eh||(Eh=1,function(c){const a=df(),o=uf();c.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},c.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},c.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},c.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},c.MIXED={bit:-1},c.getCharCountIndicator=function(u,h){if(!u.ccBits)throw new Error("Invalid mode: "+u);if(!a.isValid(h))throw new Error("Invalid version: "+h);return h>=1&&h<10?u.ccBits[0]:h<27?u.ccBits[1]:u.ccBits[2]},c.getBestModeForData=function(u){return o.testNumeric(u)?c.NUMERIC:o.testAlphanumeric(u)?c.ALPHANUMERIC:o.testKanji(u)?c.KANJI:c.BYTE},c.toString=function(u){if(u&&u.id)return u.id;throw new Error("Invalid mode")},c.isValid=function(u){return u&&u.bit&&u.ccBits};function l(x){if(typeof x!="string")throw new Error("Param is not a string");switch(x.toLowerCase()){case"numeric":return c.NUMERIC;case"alphanumeric":return c.ALPHANUMERIC;case"kanji":return c.KANJI;case"byte":return c.BYTE;default:throw new Error("Unknown mode: "+x)}}c.from=function(u,h){if(c.isValid(u))return u;try{return l(u)}catch{return h}}}(lx)),lx}var ph;function z6(){return ph||(ph=1,function(c){const a=$r(),o=cf(),l=Vx(),x=Qr(),u=df(),h=7973,m=a.getBCHDigit(h);function f(v,p,A){for(let B=1;B<=40;B++)if(p<=c.getCapacity(B,A,v))return B}function g(v,p){return x.getCharCountIndicator(v,p)+4}function y(v,p){let A=0;return v.forEach(function(B){const D=g(B.mode,p);A+=D+B.getBitsLength()}),A}function E(v,p){for(let A=1;A<=40;A++)if(y(v,A)<=c.getCapacity(A,p,x.MIXED))return A}c.from=function(p,A){return u.isValid(p)?parseInt(p,10):A},c.getCapacity=function(p,A,B){if(!u.isValid(p))throw new Error("Invalid QR Code version");typeof B>"u"&&(B=x.BYTE);const D=a.getSymbolTotalCodewords(p),C=o.getTotalCodewordsCount(p,A),U=(D-C)*8;if(B===x.MIXED)return U;const M=U-g(B,p);switch(B){case x.NUMERIC:return Math.floor(M/10*3);case x.ALPHANUMERIC:return Math.floor(M/11*2);case x.KANJI:return Math.floor(M/13);case x.BYTE:default:return Math.floor(M/8)}},c.getBestVersionForData=function(p,A){let B;const D=l.from(A,l.M);if(Array.isArray(p)){if(p.length>1)return E(p,D);if(p.length===0)return 1;B=p[0]}else B=p;return f(B.mode,B.getLength(),D)},c.getEncodedBits=function(p){if(!u.isValid(p)||p<7)throw new Error("Invalid QR Code version");let A=p<<12;for(;a.getBCHDigit(A)-m>=0;)A^=h<<a.getBCHDigit(A)-m;return p<<12|A}}(nx)),nx}var ix={},bh;function V6(){if(bh)return ix;bh=1;const c=$r(),a=1335,o=21522,l=c.getBCHDigit(a);return ix.getEncodedBits=function(u,h){const m=u.bit<<3|h;let f=m<<10;for(;c.getBCHDigit(f)-l>=0;)f^=a<<c.getBCHDigit(f)-l;return(m<<10|f)^o},ix}var xx={},cx,yh;function q6(){if(yh)return cx;yh=1;const c=Qr();function a(o){this.mode=c.NUMERIC,this.data=o.toString()}return a.getBitsLength=function(l){return 10*Math.floor(l/3)+(l%3?l%3*3+1:0)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(l){let x,u,h;for(x=0;x+3<=this.data.length;x+=3)u=this.data.substr(x,3),h=parseInt(u,10),l.put(h,10);const m=this.data.length-x;m>0&&(u=this.data.substr(x),h=parseInt(u,10),l.put(h,m*3+1))},cx=a,cx}var dx,vh;function H6(){if(vh)return dx;vh=1;const c=Qr(),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(l){this.mode=c.ALPHANUMERIC,this.data=l}return o.getBitsLength=function(x){return 11*Math.floor(x/2)+6*(x%2)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(x){let u;for(u=0;u+2<=this.data.length;u+=2){let h=a.indexOf(this.data[u])*45;h+=a.indexOf(this.data[u+1]),x.put(h,11)}this.data.length%2&&x.put(a.indexOf(this.data[u]),6)},dx=o,dx}var ux,Ch;function $6(){if(Ch)return ux;Ch=1;const c=Qr();function a(o){this.mode=c.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}return a.getBitsLength=function(l){return l*8},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(o){for(let l=0,x=this.data.length;l<x;l++)o.put(this.data[l],8)},ux=a,ux}var mx,Bh;function Q6(){if(Bh)return mx;Bh=1;const c=Qr(),a=$r();function o(l){this.mode=c.KANJI,this.data=l}return o.getBitsLength=function(x){return x*13},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(l){let x;for(x=0;x<this.data.length;x++){let u=a.toSJIS(this.data[x]);if(u>=33088&&u<=40956)u-=33088;else if(u>=57408&&u<=60351)u-=49472;else throw new Error("Invalid SJIS character: "+this.data[x]+`
Make sure your charset is UTF-8`);u=(u>>>8&255)*192+(u&255),l.put(u,13)}},mx=o,mx}var hx={exports:{}},Ah;function Y6(){return Ah||(Ah=1,function(c){var a={single_source_shortest_paths:function(o,l,x){var u={},h={};h[l]=0;var m=a.PriorityQueue.make();m.push(l,0);for(var f,g,y,E,v,p,A,B,D;!m.empty();){f=m.pop(),g=f.value,E=f.cost,v=o[g]||{};for(y in v)v.hasOwnProperty(y)&&(p=v[y],A=E+p,B=h[y],D=typeof h[y]>"u",(D||B>A)&&(h[y]=A,m.push(y,A),u[y]=g))}if(typeof x<"u"&&typeof h[x]>"u"){var C=["Could not find a path from ",l," to ",x,"."].join("");throw new Error(C)}return u},extract_shortest_path_from_predecessor_list:function(o,l){for(var x=[],u=l;u;)x.push(u),o[u],u=o[u];return x.reverse(),x},find_path:function(o,l,x){var u=a.single_source_shortest_paths(o,l,x);return a.extract_shortest_path_from_predecessor_list(u,x)},PriorityQueue:{make:function(o){var l=a.PriorityQueue,x={},u;o=o||{};for(u in l)l.hasOwnProperty(u)&&(x[u]=l[u]);return x.queue=[],x.sorter=o.sorter||l.default_sorter,x},default_sorter:function(o,l){return o.cost-l.cost},push:function(o,l){var x={value:o,cost:l};this.queue.push(x),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};c.exports=a}(hx)),hx.exports}var Fh;function G6(){return Fh||(Fh=1,function(c){const a=Qr(),o=q6(),l=H6(),x=$6(),u=Q6(),h=uf(),m=$r(),f=Y6();function g(C){return unescape(encodeURIComponent(C)).length}function y(C,U,M){const S=[];let N;for(;(N=C.exec(M))!==null;)S.push({data:N[0],index:N.index,mode:U,length:N[0].length});return S}function E(C){const U=y(h.NUMERIC,a.NUMERIC,C),M=y(h.ALPHANUMERIC,a.ALPHANUMERIC,C);let S,N;return m.isKanjiModeEnabled()?(S=y(h.BYTE,a.BYTE,C),N=y(h.KANJI,a.KANJI,C)):(S=y(h.BYTE_KANJI,a.BYTE,C),N=[]),U.concat(M,S,N).sort(function(k,V){return k.index-V.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function v(C,U){switch(U){case a.NUMERIC:return o.getBitsLength(C);case a.ALPHANUMERIC:return l.getBitsLength(C);case a.KANJI:return u.getBitsLength(C);case a.BYTE:return x.getBitsLength(C)}}function p(C){return C.reduce(function(U,M){const S=U.length-1>=0?U[U.length-1]:null;return S&&S.mode===M.mode?(U[U.length-1].data+=M.data,U):(U.push(M),U)},[])}function A(C){const U=[];for(let M=0;M<C.length;M++){const S=C[M];switch(S.mode){case a.NUMERIC:U.push([S,{data:S.data,mode:a.ALPHANUMERIC,length:S.length},{data:S.data,mode:a.BYTE,length:S.length}]);break;case a.ALPHANUMERIC:U.push([S,{data:S.data,mode:a.BYTE,length:S.length}]);break;case a.KANJI:U.push([S,{data:S.data,mode:a.BYTE,length:g(S.data)}]);break;case a.BYTE:U.push([{data:S.data,mode:a.BYTE,length:g(S.data)}])}}return U}function B(C,U){const M={},S={start:{}};let N=["start"];for(let L=0;L<C.length;L++){const k=C[L],V=[];for(let R=0;R<k.length;R++){const T=k[R],z=""+L+R;V.push(z),M[z]={node:T,lastCount:0},S[z]={};for(let $=0;$<N.length;$++){const I=N[$];M[I]&&M[I].node.mode===T.mode?(S[I][z]=v(M[I].lastCount+T.length,T.mode)-v(M[I].lastCount,T.mode),M[I].lastCount+=T.length):(M[I]&&(M[I].lastCount=T.length),S[I][z]=v(T.length,T.mode)+4+a.getCharCountIndicator(T.mode,U))}}N=V}for(let L=0;L<N.length;L++)S[N[L]].end=0;return{map:S,table:M}}function D(C,U){let M;const S=a.getBestModeForData(C);if(M=a.from(U,S),M!==a.BYTE&&M.bit<S.bit)throw new Error('"'+C+'" cannot be encoded with mode '+a.toString(M)+`.
 Suggested mode is: `+a.toString(S));switch(M===a.KANJI&&!m.isKanjiModeEnabled()&&(M=a.BYTE),M){case a.NUMERIC:return new o(C);case a.ALPHANUMERIC:return new l(C);case a.KANJI:return new u(C);case a.BYTE:return new x(C)}}c.fromArray=function(U){return U.reduce(function(M,S){return typeof S=="string"?M.push(D(S,null)):S.data&&M.push(D(S.data,S.mode)),M},[])},c.fromString=function(U,M){const S=E(U,m.isKanjiModeEnabled()),N=A(S),L=B(N,M),k=f.find_path(L.map,"start","end"),V=[];for(let R=1;R<k.length-1;R++)V.push(L.table[k[R]].node);return c.fromArray(p(V))},c.rawSplit=function(U){return c.fromArray(E(U,m.isKanjiModeEnabled()))}}(xx)),xx}var jh;function X6(){if(jh)return Ki;jh=1;const c=$r(),a=Vx(),o=_6(),l=M6(),x=R6(),u=T6(),h=P6(),m=cf(),f=U6(),g=z6(),y=V6(),E=Qr(),v=G6();function p(L,k){const V=L.size,R=u.getPositions(k);for(let T=0;T<R.length;T++){const z=R[T][0],$=R[T][1];for(let I=-1;I<=7;I++)if(!(z+I<=-1||V<=z+I))for(let _=-1;_<=7;_++)$+_<=-1||V<=$+_||(I>=0&&I<=6&&(_===0||_===6)||_>=0&&_<=6&&(I===0||I===6)||I>=2&&I<=4&&_>=2&&_<=4?L.set(z+I,$+_,!0,!0):L.set(z+I,$+_,!1,!0))}}function A(L){const k=L.size;for(let V=8;V<k-8;V++){const R=V%2===0;L.set(V,6,R,!0),L.set(6,V,R,!0)}}function B(L,k){const V=x.getPositions(k);for(let R=0;R<V.length;R++){const T=V[R][0],z=V[R][1];for(let $=-2;$<=2;$++)for(let I=-2;I<=2;I++)$===-2||$===2||I===-2||I===2||$===0&&I===0?L.set(T+$,z+I,!0,!0):L.set(T+$,z+I,!1,!0)}}function D(L,k){const V=L.size,R=g.getEncodedBits(k);let T,z,$;for(let I=0;I<18;I++)T=Math.floor(I/3),z=I%3+V-8-3,$=(R>>I&1)===1,L.set(T,z,$,!0),L.set(z,T,$,!0)}function C(L,k,V){const R=L.size,T=y.getEncodedBits(k,V);let z,$;for(z=0;z<15;z++)$=(T>>z&1)===1,z<6?L.set(z,8,$,!0):z<8?L.set(z+1,8,$,!0):L.set(R-15+z,8,$,!0),z<8?L.set(8,R-z-1,$,!0):z<9?L.set(8,15-z-1+1,$,!0):L.set(8,15-z-1,$,!0);L.set(R-8,8,1,!0)}function U(L,k){const V=L.size;let R=-1,T=V-1,z=7,$=0;for(let I=V-1;I>0;I-=2)for(I===6&&I--;;){for(let _=0;_<2;_++)if(!L.isReserved(T,I-_)){let H=!1;$<k.length&&(H=(k[$]>>>z&1)===1),L.set(T,I-_,H),z--,z===-1&&($++,z=7)}if(T+=R,T<0||V<=T){T-=R,R=-R;break}}}function M(L,k,V){const R=new o;V.forEach(function(_){R.put(_.mode.bit,4),R.put(_.getLength(),E.getCharCountIndicator(_.mode,L)),_.write(R)});const T=c.getSymbolTotalCodewords(L),z=m.getTotalCodewordsCount(L,k),$=(T-z)*8;for(R.getLengthInBits()+4<=$&&R.put(0,4);R.getLengthInBits()%8!==0;)R.putBit(0);const I=($-R.getLengthInBits())/8;for(let _=0;_<I;_++)R.put(_%2?17:236,8);return S(R,L,k)}function S(L,k,V){const R=c.getSymbolTotalCodewords(k),T=m.getTotalCodewordsCount(k,V),z=R-T,$=m.getBlocksCount(k,V),I=R%$,_=$-I,H=Math.floor(R/$),j=Math.floor(z/$),P=j+1,J=H-j,ce=new f(J);let O=0;const Z=new Array($),ie=new Array($);let xe=0;const G=new Uint8Array(L.buffer);for(let be=0;be<$;be++){const ae=be<_?j:P;Z[be]=G.slice(O,O+ae),ie[be]=ce.encode(Z[be]),O+=ae,xe=Math.max(xe,ae)}const ue=new Uint8Array(R);let Q=0,de,me;for(de=0;de<xe;de++)for(me=0;me<$;me++)de<Z[me].length&&(ue[Q++]=Z[me][de]);for(de=0;de<J;de++)for(me=0;me<$;me++)ue[Q++]=ie[me][de];return ue}function N(L,k,V,R){let T;if(Array.isArray(L))T=v.fromArray(L);else if(typeof L=="string"){let H=k;if(!H){const j=v.rawSplit(L);H=g.getBestVersionForData(j,V)}T=v.fromString(L,H||40)}else throw new Error("Invalid data");const z=g.getBestVersionForData(T,V);if(!z)throw new Error("The amount of data is too big to be stored in a QR Code");if(!k)k=z;else if(k<z)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+z+`.
`);const $=M(k,V,T),I=c.getSymbolSize(k),_=new l(I);return p(_,k),A(_),B(_,k),C(_,V,0),k>=7&&D(_,k),U(_,$),isNaN(R)&&(R=h.getBestMask(_,C.bind(null,_,V))),h.applyMask(R,_),C(_,V,R),{modules:_,version:k,errorCorrectionLevel:V,maskPattern:R,segments:T}}return Ki.create=function(k,V){if(typeof k>"u"||k==="")throw new Error("No input text");let R=a.M,T,z;return typeof V<"u"&&(R=a.from(V.errorCorrectionLevel,a.M),T=g.from(V.version),z=h.from(V.maskPattern),V.toSJISFunc&&c.setToSJISFunction(V.toSJISFunc)),N(k,T,R,z)},Ki}var fx={},gx={},wh;function mf(){return wh||(wh=1,function(c){function a(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let l=o.slice().replace("#","").split("");if(l.length<3||l.length===5||l.length>8)throw new Error("Invalid hex color: "+o);(l.length===3||l.length===4)&&(l=Array.prototype.concat.apply([],l.map(function(u){return[u,u]}))),l.length===6&&l.push("F","F");const x=parseInt(l.join(""),16);return{r:x>>24&255,g:x>>16&255,b:x>>8&255,a:x&255,hex:"#"+l.slice(0,6).join("")}}c.getOptions=function(l){l||(l={}),l.color||(l.color={});const x=typeof l.margin>"u"||l.margin===null||l.margin<0?4:l.margin,u=l.width&&l.width>=21?l.width:void 0,h=l.scale||4;return{width:u,scale:u?4:h,margin:x,color:{dark:a(l.color.dark||"#000000ff"),light:a(l.color.light||"#ffffffff")},type:l.type,rendererOpts:l.rendererOpts||{}}},c.getScale=function(l,x){return x.width&&x.width>=l+x.margin*2?x.width/(l+x.margin*2):x.scale},c.getImageWidth=function(l,x){const u=c.getScale(l,x);return Math.floor((l+x.margin*2)*u)},c.qrToImageData=function(l,x,u){const h=x.modules.size,m=x.modules.data,f=c.getScale(h,u),g=Math.floor((h+u.margin*2)*f),y=u.margin*f,E=[u.color.light,u.color.dark];for(let v=0;v<g;v++)for(let p=0;p<g;p++){let A=(v*g+p)*4,B=u.color.light;if(v>=y&&p>=y&&v<g-y&&p<g-y){const D=Math.floor((v-y)/f),C=Math.floor((p-y)/f);B=E[m[D*h+C]?1:0]}l[A++]=B.r,l[A++]=B.g,l[A++]=B.b,l[A]=B.a}}}(gx)),gx}var Dh;function I6(){return Dh||(Dh=1,function(c){const a=mf();function o(x,u,h){x.clearRect(0,0,u.width,u.height),u.style||(u.style={}),u.height=h,u.width=h,u.style.height=h+"px",u.style.width=h+"px"}function l(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}c.render=function(u,h,m){let f=m,g=h;typeof f>"u"&&(!h||!h.getContext)&&(f=h,h=void 0),h||(g=l()),f=a.getOptions(f);const y=a.getImageWidth(u.modules.size,f),E=g.getContext("2d"),v=E.createImageData(y,y);return a.qrToImageData(v.data,u,f),o(E,g,y),E.putImageData(v,0,0),g},c.renderToDataURL=function(u,h,m){let f=m;typeof f>"u"&&(!h||!h.getContext)&&(f=h,h=void 0),f||(f={});const g=c.render(u,h,f),y=f.type||"image/png",E=f.rendererOpts||{};return g.toDataURL(y,E.quality)}}(fx)),fx}var Ex={},Nh;function K6(){if(Nh)return Ex;Nh=1;const c=mf();function a(x,u){const h=x.a/255,m=u+'="'+x.hex+'"';return h<1?m+" "+u+'-opacity="'+h.toFixed(2).slice(1)+'"':m}function o(x,u,h){let m=x+u;return typeof h<"u"&&(m+=" "+h),m}function l(x,u,h){let m="",f=0,g=!1,y=0;for(let E=0;E<x.length;E++){const v=Math.floor(E%u),p=Math.floor(E/u);!v&&!g&&(g=!0),x[E]?(y++,E>0&&v>0&&x[E-1]||(m+=g?o("M",v+h,.5+p+h):o("m",f,0),f=0,g=!1),v+1<u&&x[E+1]||(m+=o("h",y),y=0)):f++}return m}return Ex.render=function(u,h,m){const f=c.getOptions(h),g=u.modules.size,y=u.modules.data,E=g+f.margin*2,v=f.color.light.a?"<path "+a(f.color.light,"fill")+' d="M0 0h'+E+"v"+E+'H0z"/>':"",p="<path "+a(f.color.dark,"stroke")+' d="'+l(y,g,f.margin)+'"/>',A='viewBox="0 0 '+E+" "+E+'"',D='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+A+' shape-rendering="crispEdges">'+v+p+`</svg>
`;return typeof m=="function"&&m(null,D),D},Ex}var kh;function Z6(){if(kh)return Sa;kh=1;const c=S6(),a=X6(),o=I6(),l=K6();function x(u,h,m,f,g){const y=[].slice.call(arguments,1),E=y.length,v=typeof y[E-1]=="function";if(!v&&!c())throw new Error("Callback required as last argument");if(v){if(E<2)throw new Error("Too few arguments provided");E===2?(g=m,m=h,h=f=void 0):E===3&&(h.getContext&&typeof g>"u"?(g=f,f=void 0):(g=f,f=m,m=h,h=void 0))}else{if(E<1)throw new Error("Too few arguments provided");return E===1?(m=h,h=f=void 0):E===2&&!h.getContext&&(f=m,m=h,h=void 0),new Promise(function(p,A){try{const B=a.create(m,f);p(u(B,h,f))}catch(B){A(B)}})}try{const p=a.create(m,f);g(null,u(p,h,f))}catch(p){g(p)}}return Sa.create=a.create,Sa.toCanvas=x.bind(null,o.render),Sa.toDataURL=x.bind(null,o.renderToDataURL),Sa.toString=x.bind(null,function(u,h,m){return l.render(u,m)}),Sa}var J6=Z6();const kt=Ax(J6),W6=({isOpen:c,onClose:a,onSubmit:o})=>{const[l,x]=F.useState({code:"",value:"",points_required:"",max_uses:"",expires_at:"",description:""}),[u,h]=F.useState(""),[m,f]=F.useState(!1),g=()=>{const p="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let A="";for(let B=0;B<8;B++)A+=p.charAt(Math.floor(Math.random()*p.length));x(B=>({...B,code:A})),y(A)},y=async p=>{if(p)try{const A={username:"",code:p,value:l.value||"0"},B=await kt.toDataURL(JSON.stringify(A),{width:200,margin:2,color:{dark:"#1A1A1A",light:"#FFFFFF"}});h(B)}catch(A){console.error("Failed to generate QR code:",A)}};F.useEffect(()=>{l.code&&y(l.code)},[l.code,l.value]);const E=async p=>{p.preventDefault(),f(!0);try{const A={code:l.code,value:l.value,points_required:parseInt(l.points_required)||0,max_uses:parseInt(l.max_uses)||1,redeemed:!1,expires_at:new Date(l.expires_at).toISOString()},B=await he.post("/vouchers/",A);o(B),x({code:"",value:"",points_required:"",max_uses:"",expires_at:"",description:""}),h(""),a()}catch(A){console.error("Failed to create voucher:",A),alert("Failed to create voucher. Please try again.")}finally{f(!1)}},v=(p,A)=>{x(B=>({...B,[p]:A}))};return e.jsx(vs,{isOpen:c,onClose:a,title:"Create New Voucher",size:"lg",children:e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(it,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Voucher Details"]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Voucher Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Enter voucher code",value:l.code,onChange:p=>v("code",p.target.value.toUpperCase()),required:!0,className:"flex-1 h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200 font-mono"}),e.jsx(xt,{type:"button",onClick:g,className:"px-6 bg-[#6B6B6B] hover:bg-[#4A4A4A] text-white rounded-xl",children:"Generate"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Points Required ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",placeholder:"100",value:l.points_required,onChange:p=>v("points_required",p.target.value),required:!0,min:"0",className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Max Uses ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",placeholder:"1",value:l.max_uses,onChange:p=>v("max_uses",p.target.value),required:!0,min:"1",className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Value ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",placeholder:"50.00",value:l.value,onChange:p=>v("value",p.target.value),required:!0,min:"0.01",step:"0.01",className:"w-full h-12 px-4 pr-12 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"}),e.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-[#6B6B6B] font-bold",children:"₱"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Expiry Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"datetime-local",value:l.expires_at,onChange:p=>v("expires_at",p.target.value),required:!0,className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx($e,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Description"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Description"}),e.jsx("textarea",{placeholder:"Describe what this voucher is for...",value:l.description,onChange:p=>v("description",p.target.value),rows:6,className:"w-full px-4 py-3 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200 resize-none"})]}),e.jsxs("div",{className:"bg-[#FF8C42]/10 border-2 border-[#FF8C42]/20 rounded-2xl p-4",children:[e.jsxs("h4",{className:"text-base font-bold text-[#1A1A1A] mb-2 flex items-center",children:[e.jsx(ft,{className:"w-4 h-4 mr-2"}),"Voucher Preview"]}),e.jsx("div",{className:"bg-white rounded-xl p-4 border border-[#FF8C42]/30",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-black text-[#1A1A1A] font-mono mb-2",children:l.code||"VOUCHER-CODE"}),e.jsxs("div",{className:"text-2xl font-black text-[#FF8C42] my-2",children:["₱",l.value||"0"," OFF"]}),e.jsxs("div",{className:"text-sm text-[#6B6B6B] mb-2",children:["Points Required: ",l.points_required||"0"]}),e.jsxs("div",{className:"text-sm text-[#6B6B6B] mb-2",children:["Max Uses: ",l.max_uses||"1"]}),e.jsxs("div",{className:"text-sm text-[#6B6B6B] mb-3",children:["Expires: ",l.expires_at?new Date(l.expires_at).toLocaleDateString():"Not Set"]}),u&&e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:u,alt:"Voucher QR Code",className:"w-24 h-24"})})]})})]})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-[#F5F5F5]",children:[e.jsx(xt,{type:"button",variant:"outline",onClick:a,className:"flex-1 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white",children:"Cancel"}),e.jsx(xt,{type:"submit",disabled:m,className:"flex-1 bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Creating...":"Create Voucher"})]})]})})},e5=({onAddCustomer:c,onCreateBooking:a,onCreateVoucher:o,onVoucherScanned:l,onBookingScanned:x})=>{const[u,h]=F.useState(null);return console.log("QuickActions render - activeModal:",u),fo.useEffect(()=>{console.log("activeModal changed to:",u)},[u]),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"group relative",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#FF8C42] via-[#FF7A2B] to-[#FF8C42] rounded-[28px] opacity-20 group-hover:opacity-40 blur-sm transition-all duration-500"}),e.jsxs(ns,{className:"relative text-center p-8 bg-gradient-to-br from-[#FF8C42] via-[#FF7A2B] to-[#E67E37] text-white border-0 hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-500 rounded-[24px] overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -translate-y-16 translate-x-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-black/10 rounded-full translate-y-10 -translate-x-10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-white/20 backdrop-blur-xl rounded-[20px] flex items-center justify-center shadow-2xl ring-1 ring-white/30 group-hover:scale-110 group-hover:rotate-3 transition-all duration-500",children:e.jsx(ft,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold mb-4 text-lg tracking-tight",children:"QR Scanner"}),e.jsx("button",{onClick:()=>{console.log("Scanner button clicked"),h("scannerSelection")},className:"w-full py-3 px-6 bg-white/15 backdrop-blur-xl text-white font-semibold rounded-[16px] border border-white/20 hover:bg-white/25 transition-all duration-300 text-sm shadow-lg",children:"Open Scanner"})]})]})]}),e.jsxs("div",{className:"group relative",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#1A1A1A] to-[#2A2A2A] rounded-[28px] opacity-0 group-hover:opacity-20 blur-sm transition-all duration-500"}),e.jsxs(ns,{className:"relative text-center p-8 bg-white/80 backdrop-blur-xl border border-gray-200/50 hover:border-[#FF8C42]/30 hover:shadow-xl transform hover:-translate-y-2 transition-all duration-500 rounded-[24px] group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-[#FF8C42]/5 to-transparent rounded-full -translate-y-12 translate-x-12"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-gradient-to-br from-[#1A1A1A] to-[#2A2A2A] rounded-[20px] flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-500",children:e.jsx(lf,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold text-[#1A1A1A] mb-4 text-lg tracking-tight",children:"Add Customer"}),e.jsx("button",{onClick:()=>h("customer"),className:"w-full py-3 px-6 border-2 border-[#1A1A1A]/20 text-[#1A1A1A] font-semibold rounded-[16px] hover:bg-[#1A1A1A] hover:text-white hover:border-[#1A1A1A] transition-all duration-300 text-sm",children:"New Customer"})]})]})]}),e.jsxs("div",{className:"group relative",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#6B6B6B] to-[#4A4A4A] rounded-[28px] opacity-0 group-hover:opacity-20 blur-sm transition-all duration-500"}),e.jsxs(ns,{className:"relative text-center p-8 bg-white/80 backdrop-blur-xl border border-gray-200/50 hover:border-[#FF8C42]/30 hover:shadow-xl transform hover:-translate-y-2 transition-all duration-500 rounded-[24px] group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-[#FF8C42]/5 to-transparent rounded-full -translate-y-12 translate-x-12"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-gradient-to-br from-[#6B6B6B] to-[#4A4A4A] rounded-[20px] flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-500",children:e.jsx(Re,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold text-[#1A1A1A] mb-4 text-lg tracking-tight",children:"New Booking"}),e.jsx("button",{onClick:()=>h("booking"),className:"w-full py-3 px-6 border-2 border-[#6B6B6B]/20 text-[#6B6B6B] font-semibold rounded-[16px] hover:bg-[#6B6B6B] hover:text-white hover:border-[#6B6B6B] transition-all duration-300 text-sm",children:"Book Appointment"})]})]})]}),e.jsxs("div",{className:"group relative",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] rounded-[28px] opacity-0 group-hover:opacity-20 blur-sm transition-all duration-500"}),e.jsxs(ns,{className:"relative text-center p-8 bg-white/80 backdrop-blur-xl border border-gray-200/50 hover:border-[#FF8C42]/30 hover:shadow-xl transform hover:-translate-y-2 transition-all duration-500 rounded-[24px] group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-[#FF8C42]/5 to-transparent rounded-full -translate-y-12 translate-x-12"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-gradient-to-br from-[#FF8C42] to-[#FF7A2B] rounded-[20px] flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-500",children:e.jsx(it,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold text-[#1A1A1A] mb-4 text-lg tracking-tight",children:"Create Voucher"}),e.jsx("button",{onClick:()=>h("voucher"),className:"w-full py-3 px-6 border-2 border-[#FF8C42]/20 text-[#FF8C42] font-semibold rounded-[16px] hover:bg-[#FF8C42] hover:text-white hover:border-[#FF8C42] transition-all duration-300 text-sm",children:"New Voucher"})]})]})]}),u&&e.jsxs("div",{className:"fixed top-4 right-4 bg-red-500 text-white p-2 rounded z-[10001]",children:["Active Modal: ",u]}),u==="scannerSelection"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[9999]",children:e.jsx("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl border border-gray-200",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto bg-gradient-to-br from-[#FF8C42] to-[#FF7A2B]",children:e.jsx(ft,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2 text-[#1A1A1A]",children:"Choose Scanner Type"}),e.jsx("p",{className:"text-[#6B6B6B]",children:"Select what type of QR code you want to scan"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:()=>h("bookingScanner"),className:"w-full p-4 border-2 border-[#FF8C42]/20 rounded-xl hover:border-[#FF8C42] hover:bg-[#FF8C42]/5 transition-all duration-300 group",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(Re,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-bold text-[#1A1A1A] text-lg",children:"Booking QR"}),e.jsx("p",{className:"text-[#6B6B6B] text-sm",children:"Scan customer booking QR codes"})]})]})}),e.jsx("button",{onClick:()=>h("voucherScanner"),className:"w-full p-4 border-2 border-[#FF8C42]/20 rounded-xl hover:border-[#FF8C42] hover:bg-[#FF8C42]/5 transition-all duration-300 group",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#FF8C42] to-[#FF7A2B] flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(it,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-bold text-[#1A1A1A] text-lg",children:"Voucher QR"}),e.jsx("p",{className:"text-[#6B6B6B] text-sm",children:"Scan and redeem voucher QR codes"})]})]})})]}),e.jsx("button",{onClick:()=>h(null),className:"w-full py-3 px-6 border-2 border-[#6B6B6B]/20 text-[#6B6B6B] font-semibold rounded-xl hover:bg-[#6B6B6B] hover:text-white transition-all duration-300",children:"Cancel"})]})})}),u==="voucherScanner"&&e.jsx(D6,{isOpen:!0,onClose:()=>h(null),onVoucherScanned:m=>{l?.(m),h(null)}}),u==="bookingScanner"&&e.jsx(N6,{isOpen:!0,onClose:()=>h(null),onBookingScanned:m=>{console.log("BookingQRScannerModal onBookingScanned called with:",m),x?.(m),h(null)}}),e.jsx(k6,{isOpen:u==="customer",onClose:()=>h(null),onSubmit:m=>{c?.(m),h(null)}}),e.jsx(xf,{isOpen:u==="booking",onClose:()=>h(null),onSubmit:m=>{a?.(m),h(null)}}),e.jsx(W6,{isOpen:u==="voucher",onClose:()=>h(null),onSubmit:m=>{o?.(m),h(null)}})]})},t5=({stats:c=[]})=>{const a=(l,x)=>x.toLowerCase().includes("revenue")?xs:x.toLowerCase().includes("booking")||x.toLowerCase().includes("appointment")?Re:x.toLowerCase().includes("customer")||x.toLowerCase().includes("client")?qr:x.toLowerCase().includes("voucher")?it:x.toLowerCase().includes("service")?bs:x.toLowerCase().includes("barber")?Us:x.toLowerCase().includes("point")?K2:bs,o=l=>{const x=["from-[#FF8C42] to-[#FF7A2B]","from-[#1A1A1A] to-[#2A2A2A]","from-[#6B6B6B] to-[#4A4A4A]","from-[#FF8C42] to-[#FF7A2B]","from-[#3B82F6] to-[#2563EB]","from-[#10B981] to-[#059669]"];return x[l%x.length]};return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map((l,x)=>{const u=a(l.icon,l.label),h=o(x),m=l.trend==="up"?"positive":l.trend==="down"?"negative":"neutral",f=m==="positive"?Ma:m==="negative"?zx:null;return e.jsxs(ns,{className:"relative p-5 bg-white border border-[#E5E7EB] hover:border-[#FF8C42]/40 hover:shadow-lg transition-all duration-300 rounded-2xl group",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${h} rounded-xl flex items-center justify-center shadow-sm`,children:e.jsx(u,{className:"w-5 h-5 text-white"})}),e.jsx("div",{className:"text-xs font-bold text-[#6B6B6B] uppercase tracking-wider leading-tight",children:l.label})]})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-2xl font-black text-[#1A1A1A] leading-none",children:l.value}),l.subtitle&&e.jsx("div",{className:"text-xs text-[#9CA3AF] mt-1",children:l.subtitle})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[l.change&&m!=="neutral"&&e.jsxs("div",{className:`flex items-center space-x-1 text-xs font-bold px-2.5 py-1 rounded-md ${m==="positive"?"text-green-700 bg-green-50 border border-green-200":"text-red-700 bg-red-50 border border-red-200"}`,children:[f&&e.jsx(f,{className:"w-3 h-3"}),e.jsx("span",{children:l.change})]}),m==="neutral"&&l.change&&e.jsx("div",{className:"flex items-center space-x-1 text-xs font-bold px-2.5 py-1 rounded-md text-gray-600 bg-gray-50 border border-gray-200",children:e.jsx("span",{children:l.change})}),e.jsx("span",{className:"text-xs text-[#9CA3AF] font-medium",children:"vs last week"})]})]},x)})})},s5=({activities:c=[]})=>{const a=l=>{switch(l){case"booking":case"appointment":return Re;case"voucher":return it;case"customer":case"client":return lf;case"sale":return xs;case"user":return $e;case"info":default:return vx}},o=(l,x)=>{const h={booking:"blue",appointment:"blue",voucher:"emerald",customer:"purple",client:"purple",sale:"green",user:"gray",info:"gray"}[l]||"gray";return{blue:{bg:"bg-gradient-to-r from-[#3B82F6] to-[#2563EB]",icon:"text-white",status:x==="new"?"bg-blue-50 text-blue-700 border-2 border-blue-200":"bg-green-50 text-green-700 border-2 border-green-200"},emerald:{bg:"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B]",icon:"text-white",status:x==="new"?"bg-[#FF8C42]/10 text-[#FF8C42] border-2 border-[#FF8C42]/20":"bg-green-50 text-green-700 border-2 border-green-200"},purple:{bg:"bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED]",icon:"text-white",status:x==="new"?"bg-purple-50 text-purple-700 border-2 border-purple-200":"bg-green-50 text-green-700 border-2 border-green-200"},green:{bg:"bg-gradient-to-r from-[#10B981] to-[#059669]",icon:"text-white",status:"bg-green-50 text-green-700 border-2 border-green-200"},gray:{bg:"bg-gradient-to-r from-[#6B6B6B] to-[#4A4A4A]",icon:"text-white",status:"bg-gray-50 text-gray-700 border-2 border-gray-200"}}[h]};return e.jsxs(ns,{className:"p-8 bg-white border-2 border-[#F5F5F5] rounded-3xl shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h3",{className:"text-2xl font-black text-[#1A1A1A]",children:"Recent Activity"}),e.jsxs("button",{className:"flex items-center space-x-2 text-[#FF8C42] hover:text-[#FF7A2B] text-base font-bold transition-all duration-300 group hover:scale-105",children:[e.jsx("span",{children:"View All"}),e.jsx(o1,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]}),e.jsx("div",{className:"space-y-4",children:c.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(vx,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No recent activity available"})]}):c.map(l=>{const x=a(l.type),u=o(l.type,l.status);return e.jsxs("div",{className:"flex items-start space-x-6 p-6 rounded-2xl bg-[#F5F5F5]/30 border-2 border-transparent hover:bg-white hover:border-[#FF8C42]/20 transition-all duration-300 group cursor-pointer hover:shadow-lg hover:-translate-y-1",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center ${u.bg} group-hover:scale-110 transition-transform shadow-lg ring-4 ring-white`,children:e.jsx(x,{className:`w-6 h-6 ${u.icon}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-base font-bold text-[#1A1A1A] mb-2 group-hover:text-[#FF8C42] transition-colors",children:l.message}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(St,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsx("p",{className:"text-sm text-[#6B6B6B] font-semibold",children:l.time})]})]}),e.jsx("div",{className:`px-4 py-2 rounded-xl text-sm font-bold uppercase tracking-wider ${u.status}`,children:l.status})]},l.id)})})]})},r5=({tabs:c,activeTab:a,onTabChange:o})=>{const[l,x]=F.useState(!1),u=F.useRef(null);F.useEffect(()=>{const p=A=>{u.current&&!u.current.contains(A.target)&&x(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const h=p=>({overview:Wm,customers:qr,bookings:Re,services:Us,vouchers:it,reports:Lx,barbers:Bx,events:t1,products:Cx,notifications:_a})[p]||Wm,m=["overview","customers","bookings","services","vouchers","barbers","notifications"],f=["reports","events","products"],g=c.filter(p=>m.includes(p.id)),y=c.filter(p=>f.includes(p.id)),E=y.find(p=>p.id===a),v=p=>{o(p),x(!1)};return e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200/50 rounded-2xl shadow-xl shadow-black/5 overflow-visible relative z-50",children:[e.jsx("nav",{className:"hidden lg:flex items-center justify-center p-2",children:e.jsxs("div",{className:"flex items-center space-x-1 bg-gray-50/80 rounded-xl p-1",children:[g.map(p=>{const A=h(p.id);return e.jsxs("button",{onClick:()=>v(p.id),className:`relative flex items-center space-x-3 px-4 py-3 rounded-lg font-semibold text-sm transition-all duration-300 group min-w-0 ${a===p.id?"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white shadow-lg shadow-[#FF8C42]/25 transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-white/80 hover:shadow-sm"}`,children:[a===p.id&&e.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full"}),e.jsx("div",{className:`flex items-center justify-center w-5 h-5 transition-all duration-200 ${a===p.id?"text-white":"text-gray-500 group-hover:text-[#FF8C42]"}`,children:e.jsx(A,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold whitespace-nowrap",children:p.label})]},p.id)}),e.jsxs("div",{className:"relative",ref:u,children:[e.jsx("button",{onClick:()=>x(!l),className:`relative flex items-center space-x-2 px-4 py-3 rounded-lg font-semibold text-sm transition-all duration-300 group ${E?"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white shadow-lg shadow-[#FF8C42]/25":"text-gray-600 hover:text-gray-900 hover:bg-white/80 hover:shadow-sm"}`,children:E?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full"}),e.jsx("div",{className:"flex items-center justify-center w-5 h-5 text-white",children:fo.createElement(h(E.id),{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold whitespace-nowrap",children:E.label}),e.jsx(mo,{className:`w-4 h-4 text-white transition-transform duration-200 ${l?"rotate-180":""}`})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-center w-5 h-5 text-gray-500 group-hover:text-[#FF8C42]",children:e.jsx(Xi,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold whitespace-nowrap",children:"More"}),e.jsx(mo,{className:`w-4 h-4 text-gray-500 group-hover:text-[#FF8C42] transition-transform duration-200 ${l?"rotate-180":""}`})]})}),l&&e.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white rounded-xl shadow-xl border border-gray-200/50 py-2",style:{zIndex:99999,position:"absolute"},children:y.map(p=>{const A=h(p.id);return e.jsxs("button",{onClick:()=>v(p.id),className:`w-full flex items-center space-x-3 px-4 py-3 text-left transition-all duration-200 ${a===p.id?"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white":"text-gray-600 hover:bg-gray-50 hover:text-[#FF8C42]"}`,children:[e.jsx("div",{className:`flex items-center justify-center w-5 h-5 ${a===p.id?"text-white":"text-gray-500"}`,children:e.jsx(A,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold",children:p.label})]},p.id)})})]})]})}),e.jsx("nav",{className:"lg:hidden",children:e.jsxs("div",{className:"flex overflow-x-auto scrollbar-hide p-2 space-x-1",children:[g.map(p=>{const A=h(p.id);return e.jsxs("button",{onClick:()=>v(p.id),className:`flex flex-col items-center justify-center min-w-[70px] px-2 py-3 rounded-xl font-medium text-xs transition-all duration-300 whitespace-nowrap ${a===p.id?"bg-gradient-to-b from-[#FF8C42] to-[#FF7A2B] text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx("div",{className:`flex items-center justify-center w-5 h-5 mb-1 transition-all duration-200 ${a===p.id?"text-white":"text-gray-500"}`,children:e.jsx(A,{className:"w-4 h-4"})}),e.jsx("span",{className:"font-semibold text-[10px]",children:p.label}),a===p.id&&e.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full"})]},p.id)}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>x(!l),className:`flex flex-col items-center justify-center min-w-[70px] px-2 py-3 rounded-xl font-medium text-xs transition-all duration-300 whitespace-nowrap ${E?"bg-gradient-to-b from-[#FF8C42] to-[#FF7A2B] text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx("div",{className:`flex items-center justify-center w-5 h-5 mb-1 transition-all duration-200 ${E?"text-white":"text-gray-500"}`,children:E?fo.createElement(h(E.id),{className:"w-4 h-4"}):e.jsx(Xi,{className:"w-4 h-4"})}),e.jsx("span",{className:"font-semibold text-[10px]",children:E?E.label:"More"}),E&&e.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full"})]}),l&&e.jsx("div",{className:"absolute top-full right-0 mt-2 w-40 bg-white rounded-xl shadow-xl border border-gray-200/50 py-2",style:{zIndex:99999,position:"absolute"},children:y.map(p=>{const A=h(p.id);return e.jsxs("button",{onClick:()=>v(p.id),className:`w-full flex items-center space-x-3 px-3 py-2 text-left transition-all duration-200 ${a===p.id?"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white":"text-gray-600 hover:bg-gray-50 hover:text-[#FF8C42]"}`,children:[e.jsx("div",{className:`flex items-center justify-center w-4 h-4 ${a===p.id?"text-white":"text-gray-500"}`,children:e.jsx(A,{className:"w-4 h-4"})}),e.jsx("span",{className:"font-semibold text-xs",children:p.label})]},p.id)})})]})]})}),e.jsx("nav",{className:"hidden md:flex lg:hidden items-center justify-center p-2",children:e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50/80 rounded-xl p-1",children:[g.map(p=>{const A=h(p.id);return e.jsxs("button",{onClick:()=>v(p.id),className:`flex items-center space-x-2 px-3 py-2.5 rounded-lg font-semibold text-sm transition-all duration-300 whitespace-nowrap ${a===p.id?"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-white/80"}`,children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:p.label})]},p.id)}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>x(!l),className:`flex items-center space-x-2 px-3 py-2.5 rounded-lg font-semibold text-sm transition-all duration-300 whitespace-nowrap ${E?"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-white/80"}`,children:E?e.jsxs(e.Fragment,{children:[fo.createElement(h(E.id),{className:"w-4 h-4"}),e.jsx("span",{children:E.label}),e.jsx(mo,{className:`w-4 h-4 transition-transform duration-200 ${l?"rotate-180":""}`})]}):e.jsxs(e.Fragment,{children:[e.jsx(Xi,{className:"w-4 h-4"}),e.jsx("span",{children:"More"}),e.jsx(mo,{className:`w-4 h-4 transition-transform duration-200 ${l?"rotate-180":""}`})]})}),l&&e.jsx("div",{className:"absolute top-full left-0 mt-2 w-44 bg-white rounded-xl shadow-xl border border-gray-200/50 py-2",style:{zIndex:99999,position:"absolute"},children:y.map(p=>{const A=h(p.id);return e.jsxs("button",{onClick:()=>v(p.id),className:`w-full flex items-center space-x-3 px-4 py-2.5 text-left transition-all duration-200 ${a===p.id?"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white":"text-gray-600 hover:bg-gray-50 hover:text-[#FF8C42]"}`,children:[e.jsx("div",{className:`flex items-center justify-center w-4 h-4 ${a===p.id?"text-white":"text-gray-500"}`,children:e.jsx(A,{className:"w-4 h-4"})}),e.jsx("span",{className:"font-semibold text-sm",children:p.label})]},p.id)})})]})]})})]})},a5=({activeTab:c,data:a})=>{const o=m=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("h3",{className:"text-xl font-black text-[#1A1A1A]",children:m.name}),e.jsx("span",{className:`px-4 py-2 text-sm font-bold rounded-full border-2 ${m.status==="active"?"bg-green-50 text-green-700 border-green-200":"bg-[#FF8C42]/10 text-[#FF8C42] border-[#FF8C42]/20"}`,children:m.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-black text-[#1A1A1A] text-base uppercase tracking-wide",children:"Contact"}),e.jsx("p",{className:"text-[#6B6B6B] font-medium",children:m.email}),e.jsx("p",{className:"text-[#6B6B6B] font-medium",children:m.phone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-black text-[#1A1A1A] text-base uppercase tracking-wide",children:"Loyalty"}),e.jsxs("p",{className:"text-[#FF8C42] font-black text-xl",children:[m.points," points"]}),e.jsxs("p",{className:"text-[#6B6B6B] font-medium",children:[m.visits," total visits"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-black text-[#1A1A1A] text-base uppercase tracking-wide",children:"Last Visit"}),e.jsx("p",{className:"text-[#6B6B6B] font-bold",children:m.lastVisit})]})]})]}),l=m=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("h3",{className:"text-xl font-black text-[#1A1A1A] font-mono bg-[#F5F5F5] px-4 py-2 rounded-xl",children:m.code}),e.jsx("span",{className:`px-4 py-2 text-sm font-bold rounded-full border-2 ${m.status==="active"?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200"}`,children:m.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-black text-[#1A1A1A] text-base uppercase tracking-wide",children:"Customer"}),e.jsx("p",{className:"text-[#6B6B6B] font-medium",children:m.customer})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-black text-[#1A1A1A] text-base uppercase tracking-wide",children:"Value"}),e.jsx("p",{className:"text-[#FF8C42] font-black text-xl",children:m.value})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-black text-[#1A1A1A] text-base uppercase tracking-wide",children:"Expires"}),e.jsx("p",{className:"text-[#6B6B6B] font-bold",children:m.expires})]})]})]}),x=m=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("h3",{className:"text-xl font-black text-[#1A1A1A]",children:m.customer}),e.jsx("span",{className:`px-4 py-2 text-sm font-bold rounded-full border-2 ${m.status==="confirmed"?"bg-green-50 text-green-700 border-green-200":"bg-yellow-50 text-yellow-700 border-yellow-200"}`,children:m.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-black text-[#1A1A1A] text-base uppercase tracking-wide",children:"Service"}),e.jsx("p",{className:"text-[#6B6B6B] font-medium",children:m.service})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-black text-[#1A1A1A] text-base uppercase tracking-wide",children:"Date & Time"}),e.jsx("p",{className:"text-[#6B6B6B] font-bold",children:m.date}),e.jsx("p",{className:"text-[#6B6B6B] font-medium",children:m.time})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-black text-[#1A1A1A] text-base uppercase tracking-wide",children:"Staff"}),e.jsx("p",{className:"text-[#6B6B6B] font-medium",children:m.staff})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-black text-[#1A1A1A] text-base uppercase tracking-wide",children:"Price"}),e.jsx("p",{className:"text-[#FF8C42] font-black text-xl",children:m.price})]})]})]}),u=m=>e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#FF8C42] to-[#FF7A2B] rounded-2xl flex items-center justify-center shadow-xl",children:e.jsx("span",{className:"text-white font-black text-2xl",children:m.name.charAt(0)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-black text-[#1A1A1A] mb-1 truncate whitespace-nowrap overflow-hidden",children:m.name}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"px-3 py-1 bg-[#F5F5F5] text-[#6B6B6B] rounded-full text-sm font-semibold truncate whitespace-nowrap",children:m.category}),e.jsx("span",{className:"text-[#6B6B6B] text-sm font-medium whitespace-nowrap",children:m.duration})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-[#FF8C42]/10 to-[#FF7A2B]/5 rounded-xl border-2 border-[#FF8C42]/20",children:[e.jsx("div",{className:"text-lg font-black text-[#FF8C42] mb-1 truncate whitespace-nowrap overflow-hidden",children:m.price}),e.jsx("div",{className:"text-xs text-[#6B6B6B] font-semibold whitespace-nowrap",children:"Price"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-25 rounded-xl border-2 border-blue-200",children:[e.jsx("div",{className:"text-lg font-black text-blue-600 mb-1 whitespace-nowrap",children:m.bookings}),e.jsx("div",{className:"text-xs text-[#6B6B6B] font-semibold whitespace-nowrap",children:"Bookings"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-25 rounded-xl border-2 border-green-200",children:[e.jsx("div",{className:"text-lg font-black text-green-600 mb-1 truncate whitespace-nowrap overflow-hidden",children:m.revenue}),e.jsx("div",{className:"text-xs text-[#6B6B6B] font-semibold whitespace-nowrap",children:"Revenue"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{className:"flex-1 py-3 px-4 text-sm border-2 border-[#FF8C42] text-[#FF8C42] hover:bg-[#FF8C42] hover:text-white font-bold rounded-xl transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl",children:[e.jsx(Vr,{className:"w-4 h-4"}),e.jsx("span",{className:"whitespace-nowrap",children:"Edit"})]}),e.jsxs("button",{className:"flex-1 py-3 px-4 text-sm bg-gradient-to-r from-[#1A1A1A] to-[#2A2A2A] text-white hover:scale-105 font-bold rounded-xl transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl",children:[e.jsx(Co,{className:"w-4 h-4"}),e.jsx("span",{className:"whitespace-nowrap",children:"View"})]})]})]}),h=m=>{switch(c){case"customers":return o(m);case"vouchers":return l(m);case"bookings":return x(m);case"services":return u(m);default:return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-3xl font-black text-[#1A1A1A] capitalize",children:[c," Management"]}),e.jsxs("button",{className:"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] hover:shadow-lg text-white font-semibold px-4 py-2.5 rounded-xl transition-all duration-200 flex items-center space-x-2 text-sm whitespace-nowrap w-auto inline-flex",children:[e.jsx(It,{className:"w-4 h-4"}),e.jsxs("span",{children:["Add New ",c.slice(0,-1)]})]})]}),c==="services"?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:a.map(m=>e.jsx(ns,{className:"p-8 bg-white border-2 border-[#F5F5F5] hover:border-[#FF8C42]/30 hover:shadow-2xl transition-all duration-300 rounded-3xl group hover:-translate-y-2",children:h(m)},m.id))}):e.jsx("div",{className:"grid gap-6",children:a.map(m=>e.jsx(ns,{className:"p-8 bg-white border-2 border-[#F5F5F5] hover:border-[#FF8C42]/30 hover:shadow-2xl transition-all duration-300 rounded-3xl group hover:-translate-y-1",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"flex-1",children:h(m)}),e.jsxs("div",{className:"flex space-x-4 ml-8",children:[e.jsxs("button",{className:"px-6 py-3 text-sm border-2 border-[#FF8C42] text-[#FF8C42] hover:bg-[#FF8C42] hover:text-white font-bold transition-all duration-300 rounded-xl flex items-center space-x-2 shadow-lg hover:shadow-xl",children:[e.jsx(Vr,{className:"w-4 h-4"}),e.jsx("span",{children:"Edit"})]}),e.jsxs("button",{className:"px-6 py-3 text-sm bg-gradient-to-r from-[#1A1A1A] to-[#2A2A2A] text-white hover:scale-105 font-bold transition-all duration-300 rounded-xl flex items-center space-x-2 shadow-lg hover:shadow-2xl",children:[e.jsx(Co,{className:"w-4 h-4"}),e.jsx("span",{children:"View"})]})]})]})},m.id))})]})};class Xn{constructor(a=0,o="Network Error"){this.status=a,this.text=o}}const n5=()=>{if(!(typeof localStorage>"u"))return{get:c=>Promise.resolve(localStorage.getItem(c)),set:(c,a)=>Promise.resolve(localStorage.setItem(c,a)),remove:c=>Promise.resolve(localStorage.removeItem(c))}},At={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:n5()},qx=c=>c?typeof c=="string"?{publicKey:c}:c.toString()==="[object Object]"?c:{}:{},l5=(c,a="https://api.emailjs.com")=>{if(!c)return;const o=qx(c);At.publicKey=o.publicKey,At.blockHeadless=o.blockHeadless,At.storageProvider=o.storageProvider,At.blockList=o.blockList,At.limitRate=o.limitRate,At.origin=o.origin||a},hf=async(c,a,o={})=>{const l=await fetch(At.origin+c,{method:"POST",headers:o,body:a}),x=await l.text(),u=new Xn(l.status,x);if(l.ok)return u;throw u},ff=(c,a,o)=>{if(!c||typeof c!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!a||typeof a!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!o||typeof o!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},o5=c=>{if(c&&c.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},gf=c=>c.webdriver||!c.languages||c.languages.length===0,Ef=()=>new Xn(451,"Unavailable For Headless Browser"),i5=(c,a)=>{if(!Array.isArray(c))throw"The BlockList list has to be an array";if(typeof a!="string")throw"The BlockList watchVariable has to be a string"},x5=c=>!c.list?.length||!c.watchVariable,c5=(c,a)=>c instanceof FormData?c.get(a):c[a],pf=(c,a)=>{if(x5(c))return!1;i5(c.list,c.watchVariable);const o=c5(a,c.watchVariable);return typeof o!="string"?!1:c.list.includes(o)},bf=()=>new Xn(403,"Forbidden"),d5=(c,a)=>{if(typeof c!="number"||c<0)throw"The LimitRate throttle has to be a positive number";if(a&&typeof a!="string")throw"The LimitRate ID has to be a non-empty string"},u5=async(c,a,o)=>{const l=Number(await o.get(c)||0);return a-Date.now()+l},yf=async(c,a,o)=>{if(!a.throttle||!o)return!1;d5(a.throttle,a.id);const l=a.id||c;return await u5(l,a.throttle,o)>0?!0:(await o.set(l,Date.now().toString()),!1)},vf=()=>new Xn(429,"Too Many Requests"),m5=async(c,a,o,l)=>{const x=qx(l),u=x.publicKey||At.publicKey,h=x.blockHeadless||At.blockHeadless,m=x.storageProvider||At.storageProvider,f={...At.blockList,...x.blockList},g={...At.limitRate,...x.limitRate};return h&&gf(navigator)?Promise.reject(Ef()):(ff(u,c,a),o5(o),o&&pf(f,o)?Promise.reject(bf()):await yf(location.pathname,g,m)?Promise.reject(vf()):hf("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:u,service_id:c,template_id:a,template_params:o}),{"Content-type":"application/json"}))},h5=c=>{if(!c||c.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},f5=c=>typeof c=="string"?document.querySelector(c):c,g5=async(c,a,o,l)=>{const x=qx(l),u=x.publicKey||At.publicKey,h=x.blockHeadless||At.blockHeadless,m=At.storageProvider||x.storageProvider,f={...At.blockList,...x.blockList},g={...At.limitRate,...x.limitRate};if(h&&gf(navigator))return Promise.reject(Ef());const y=f5(o);ff(u,c,a),h5(y);const E=new FormData(y);return pf(f,E)?Promise.reject(bf()):await yf(location.pathname,g,m)?Promise.reject(vf()):(E.append("lib_version","4.4.1"),E.append("service_id",c),E.append("template_id",a),E.append("user_id",u),hf("/api/v1.0/email/send-form",E))},Sh={init:l5,send:m5,sendForm:g5,EmailJSResponseStatus:Xn},E5=({isOpen:c,onClose:a,voucher:o})=>{const[l,x]=F.useState([]),[u,h]=F.useState([]),[m,f]=F.useState([]),[g,y]=F.useState(""),[E,v]=F.useState(!1),[p,A]=F.useState(!1),[B,D]=F.useState(0),[C,U]=F.useState(""),M=F.useRef(null),S="service_4y8wlo6",N="template_vj10o2t",L="LdJKCGcFqSk3IAdnu";F.useEffect(()=>{c&&(k(),V())},[c,o]),F.useEffect(()=>{const I=l.filter(_=>_.username?.toLowerCase().includes(g.toLowerCase())||_.email?.toLowerCase().includes(g.toLowerCase())||_.nickname&&_.nickname.toLowerCase().includes(g.toLowerCase()));h(I)},[g,l]),F.useEffect(()=>{const I=_=>{M.current&&!M.current.contains(_.target)&&y("")};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const k=async()=>{v(!0);try{const I=await he.get("/clients/"),_=Array.isArray(I)?I:[];x(_),h(_)}catch(I){console.error("Failed to fetch clients:",I),x([]),h([])}finally{v(!1)}},V=async()=>{if(o)try{const I={username:"",code:o.code,value:o.value},_=await kt.toDataURL(JSON.stringify(I),{width:300,margin:2,color:{dark:"#1A1A1A",light:"#FFFFFF"}});U(_)}catch(I){console.error("Failed to generate QR code:",I)}},R=I=>{f(_=>_.find(j=>j.id===I.id)?_.filter(j=>j.id!==I.id):[..._,I])},T=()=>{f([...u])},z=()=>{f([])},$=async()=>{if(m.length===0){alert("Please select at least one user to send the voucher to.");return}const I=m.filter(H=>!H.email||H.email.trim()==="");if(I.length>0){const H=I.map(j=>j.username).join(", ");alert(`The following users don't have email addresses: ${H}`);return}A(!0),D(0);let _=0;try{console.log("Initializing EmailJS with service:",S),Sh.init(L);for(const H of m)try{const j={username:H.username,code:o.code};console.log("Assigning voucher to user:",j),await he.post("/vouchers/assign/",j),console.log(`Voucher ${o.code} assigned to ${H.username}`);const P={voucherId:o.id,username:H.username,code:o.code,value:o.value,expires_at:o.expires_at,type:"voucher",brand:"TPX Barbershop"};console.log("Generating QR code for user:",H.username,"with data:",P);const J=await kt.toDataURL(JSON.stringify(P),{width:200,margin:1,color:{dark:"#1A1A1A",light:"#FFFFFF"},errorCorrectionLevel:"M",type:"image/png",quality:.6});if(!J||!J.startsWith("data:image/png;base64,"))throw new Error("Failed to generate QR code for user: "+H.username);console.log("Generated QR Code URL length:",J.length),console.log("QR Code URL preview:",J.substring(0,100)+"...");const ce={to_name:H.nickname||H.username,to_email:H.email,voucher_code:o.code,voucher_value:`₱${parseFloat(o.value).toFixed(2)}`,points_required:o.points_required||0,expires_at:new Date(o.expires_at).toLocaleDateString(),qr_code_image:J,business_name:"TPX Barbershop"};console.log("Email template parameters:",{...ce,qr_code_image:`QR_CODE_DATA_URL (${J.length} chars)`});const O=await Sh.send(S,N,ce);console.log(`Email sent successfully to ${H.email}:`,O),_++,D(Z=>{const ie=Z+1;return console.log(`Incrementing sent count from ${Z} to ${ie}`),ie})}catch(j){console.error(`Failed to assign/send voucher to ${H.username}:`,j),j.text?(console.error("EmailJS Error:",j.text),alert(`Failed to send email to ${H.email}: ${j.text}`)):j.message&&(console.error("General Error:",j.message),alert(`Failed to process voucher for ${H.username}: ${j.message}`))}console.log("Final email send count:",_,"out of",m.length),_>0?alert(`Successfully assigned vouchers and sent ${_} out of ${m.length} emails!`):m.length>0&&alert("Vouchers were assigned but no emails were sent. Please check the console for errors."),a()}catch(H){console.error("Failed to assign vouchers:",H),alert("Failed to assign vouchers. Please try again.")}finally{A(!1)}};return o?e.jsx(vs,{isOpen:c,onClose:a,title:"Send Voucher via Email",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-[#FF8C42]/10 border-2 border-[#FF8C42]/20 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:C&&e.jsx("img",{src:C,alt:"Voucher QR Code",className:"w-20 h-20 rounded-lg"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] mb-1",children:["Voucher ",o.code]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B6B6B]",children:"Value:"})," ",e.jsxs("span",{className:"font-semibold",children:["₱",parseFloat(o.value).toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B6B6B]",children:"Points:"})," ",e.jsx("span",{className:"font-semibold",children:o.points_required||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B6B6B]",children:"Max Uses:"})," ",e.jsx("span",{className:"font-semibold",children:o.max_uses||1})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B6B6B]",children:"Expires:"})," ",e.jsx("span",{className:"font-semibold",children:new Date(o.expires_at).toLocaleDateString()})]})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-base font-bold text-[#1A1A1A] flex items-center",children:[e.jsx(qr,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Select Recipients (",m.length," selected)"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:T,className:"text-xs px-3 py-1 border border-[#FF8C42] text-[#FF8C42] rounded-lg hover:bg-[#FF8C42]/10",children:"Select All"}),e.jsx("button",{onClick:z,className:"text-xs px-3 py-1 border border-[#6B6B6B] text-[#6B6B6B] rounded-lg hover:bg-[#6B6B6B]/10",children:"Clear All"})]})]}),e.jsx("div",{className:"relative",ref:M,children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search customers...",value:g,onChange:I=>y(I.target.value),className:"w-full h-10 px-4 pr-10 border-2 border-[#F5F5F5] rounded-xl text-sm focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"}),e.jsx(qs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[#6B6B6B] w-4 h-4"})]})}),m.length>0&&e.jsx("div",{className:"border-2 border-[#F5F5F5] rounded-xl p-3",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(I=>e.jsxs("div",{className:"flex items-center space-x-1 bg-[#FF8C42]/10 border border-[#FF8C42]/20 rounded-lg px-2 py-1 text-xs",children:[e.jsx("span",{className:"text-[#1A1A1A] font-medium",children:I.username}),e.jsx("button",{onClick:()=>R(I),className:"text-[#FF8C42] hover:text-[#FF7A2B]",children:e.jsx(vr,{className:"w-3 h-3"})})]},I.id))})}),e.jsx("div",{className:"border-2 border-[#F5F5F5] rounded-xl max-h-64 overflow-y-auto",children:E?e.jsx("div",{className:"p-4 text-center text-[#6B6B6B]",children:"Loading customers..."}):u.length>0?e.jsx("div",{className:"p-2 space-y-1",children:u.map(I=>{const _=m.find(H=>H.id===I.id);return e.jsxs("div",{onClick:()=>R(I),className:`flex items-center space-x-3 p-2 rounded-lg cursor-pointer transition-colors ${_?"bg-[#FF8C42]/10 border-[#FF8C42]/20 border":"hover:bg-[#F5F5F5]"}`,children:[e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${_?"bg-[#FF8C42] border-[#FF8C42]":"border-[#D1D5DB]"}`,children:_&&e.jsx(Ge,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-[#1A1A1A] text-sm",children:I.username}),e.jsx("div",{className:"text-xs text-[#6B6B6B]",children:I.email}),I.nickname&&e.jsxs("div",{className:"text-xs text-[#FF8C42]",children:['"',I.nickname,'"']})]})]},I.id)})}):e.jsx("div",{className:"p-4 text-center text-[#6B6B6B]",children:g?"No customers found matching your search.":"No customers available."})})]}),p&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),e.jsxs("div",{className:"text-blue-700",children:["Assigning vouchers and sending emails... (",B,"/",m.length,")"]})]})}),e.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-[#F5F5F5]",children:[e.jsx(xt,{type:"button",variant:"outline",onClick:a,disabled:p,className:"flex-1 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white",children:"Cancel"}),e.jsx(xt,{type:"button",onClick:$,disabled:m.length===0||p,className:"flex-1 bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white hover:shadow-lg flex items-center justify-center",children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Assigning..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gr,{className:"w-4 h-4 mr-2"}),"Assign & Send to ",m.length," User",m.length!==1?"s":""]})})]})]})}):null},p5=({vouchers:c=[],onRefresh:a})=>{const[o,l]=F.useState(""),[x,u]=F.useState("all"),[h,m]=F.useState("created_at"),[f,g]=F.useState(null),[y,E]=F.useState(null),v=C=>C.redeemed?{status:"redeemed",label:"Redeemed",icon:Ge,bg:"bg-green-50",text:"text-green-700",border:"border-green-200",iconColor:"text-green-500"}:C.isExpired?{status:"expired",label:"Expired",icon:Ie,bg:"bg-red-50",text:"text-red-700",border:"border-red-200",iconColor:"text-red-500"}:{status:"active",label:"Active",icon:St,bg:"bg-orange-50",text:"text-orange-700",border:"border-orange-200",iconColor:"text-orange-500"},p=c.filter(C=>{const U=C.code.toLowerCase().includes(o.toLowerCase()),M=x==="all"||v(C).status===x;return U&&M}).sort((C,U)=>h==="value"?parseFloat(U.value)-parseFloat(C.value):h==="expires_at"?new Date(C.expires_at)-new Date(U.expires_at):new Date(U.created_at)-new Date(C.created_at)),A={total:c.length,active:c.filter(C=>!C.redeemed&&!C.isExpired).length,redeemed:c.filter(C=>C.redeemed).length,expired:c.filter(C=>C.isExpired&&!C.redeemed).length,totalValue:c.reduce((C,U)=>C+parseFloat(U.value),0)},B=({voucher:C})=>{const U=F.useRef(null),M=JSON.stringify({voucherId:C.id,code:C.code,type:"voucher",brand:"TPX Barbershop"});return F.useEffect(()=>{U.current&&kt.toCanvas(U.current,M,{width:40,margin:1,color:{dark:"#36454F",light:"#ffffff"},errorCorrectionLevel:"M"},S=>{S&&console.error("Mini QR error:",S)})},[M]),e.jsx("canvas",{ref:U,className:"rounded"})},D=({voucher:C,onClose:U})=>{const M=F.useRef(null),S=JSON.stringify({voucherId:C.id,code:C.code,value:C.value,expires_at:C.expires_at,user:C.user,redeemed:!!C.redeemed,type:"voucher",brand:"TPX Barbershop"});F.useEffect(()=>{M.current&&kt.toCanvas(M.current,S,{width:220,margin:2,color:{dark:"#1F2937",light:"#ffffff"},errorCorrectionLevel:"H"},R=>{R&&console.error("QR generation error:",R)})},[S]);const N=async()=>{try{const R=await kt.toDataURL(S,{width:600,margin:2,color:{dark:"#111827",light:"#ffffff"},errorCorrectionLevel:"H"}),T=document.createElement("a");T.href=R,T.download=`voucher-${C.code}.png`,T.click()}catch(R){console.error("Failed to download QR:",R)}},L=async()=>{try{const R=await kt.toDataURL(S,{width:600,margin:2,color:{dark:"#111827",light:"#ffffff"},errorCorrectionLevel:"H"}),T=window.open("","_blank");if(!T)return;T.document.write(`
          <html>
            <head>
              <title>Voucher ${C.code} - QR</title>
              <style>
                body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; text-align: center; padding: 24px; }
                .code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; font-weight: 700; color: #F68B24; }
              </style>
            </head>
            <body>
              <h2>Voucher <span class="code">${C.code}</span></h2>
              <img src="${R}" alt="Voucher QR" style="width: 320px; height: 320px;" />
              <p>Present this QR at the counter to redeem.</p>
              <script>window.onload = () => { window.print(); window.onafterprint = () => window.close(); };<\/script>
            </body>
          </html>
        `),T.document.close()}catch(R){console.error("Failed to print QR:",R)}},k=async()=>{try{await navigator.clipboard.writeText(C.code)}catch(R){console.error("Failed to copy code:",R)}},V=v(C);return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl border border-gray-200",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mx-auto bg-gradient-to-br from-orange-400 to-amber-500 shadow-sm",children:e.jsx(ft,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-gray-900",children:"Voucher QR Code"}),e.jsx("p",{className:"text-sm font-mono font-bold text-orange-600",children:C.code}),e.jsx("p",{className:"text-sm text-gray-500",children:"Scan this code to validate or redeem"})]}),e.jsx("div",{className:"p-4 rounded-xl bg-orange-50 border border-orange-100",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("canvas",{ref:M,className:"rounded-lg"})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-left",children:[e.jsxs("div",{className:"p-3 rounded-xl bg-gray-50",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Value"}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:C.formattedValue||`₱${parseFloat(C.value).toFixed(2)}`})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-gray-50",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Expires"}),e.jsx("div",{className:`text-sm font-bold ${C.isExpired?"text-red-600":"text-gray-900"}`,children:new Date(C.expires_at).toLocaleDateString()})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-gray-50",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"User"}),e.jsxs("div",{className:"text-sm font-bold text-gray-900",children:["User ",C.user]})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Status"}),e.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${V.bg} ${V.border} border ${V.text}`,children:[e.jsx(V.icon,{className:`h-3 w-3 mr-1 ${V.iconColor}`}),V.label]})]}),e.jsxs("button",{onClick:k,className:"ml-2 inline-flex items-center px-2.5 py-1 border border-gray-200 text-xs font-medium rounded bg-white hover:bg-gray-50 text-gray-700",children:[e.jsx(m1,{className:"h-3 w-3 mr-1"})," Copy"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx("button",{onClick:U,className:"px-4 py-2 rounded-xl text-gray-700 border border-gray-200 hover:bg-gray-50",children:"Close"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:N,className:"inline-flex items-center px-3 py-2 rounded-xl text-white bg-orange-500 hover:bg-orange-600",children:[e.jsx(rf,{className:"h-4 w-4 mr-1"})," Download"]}),e.jsxs("button",{onClick:L,className:"inline-flex items-center px-3 py-2 rounded-xl text-orange-700 bg-orange-50 hover:bg-orange-100 border border-orange-200",children:[e.jsx($1,{className:"h-4 w-4 mr-1"})," Print"]})]})]})]})})})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.total})]}),e.jsx(it,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:A.active})]}),e.jsx(St,{className:"h-8 w-8 text-orange-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Redeemed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:A.redeemed})]}),e.jsx(Ge,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Expired"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:A.expired})]}),e.jsx(Ie,{className:"h-8 w-8 text-red-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₱",A.totalValue.toFixed(0)]})]}),e.jsx(xs,{className:"h-8 w-8 text-blue-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search voucher code...",value:o,onChange:C=>l(C.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yr,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:x,onChange:C=>u(C.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"redeemed",children:"Redeemed"}),e.jsx("option",{value:"expired",children:"Expired"})]})]}),e.jsxs("select",{value:h,onChange:C=>m(C.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"created_at",children:"Sort by Date"}),e.jsx("option",{value:"value",children:"Sort by Value"}),e.jsx("option",{value:"expires_at",children:"Sort by Expiry"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(Oa,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[e.jsx(It,{className:"h-4 w-4"}),e.jsx("span",{children:"New Voucher"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(C=>{const U=v(C),M=U.icon;return e.jsxs("div",{className:`bg-white rounded-lg border-2 ${U.border} shadow-sm hover:shadow-md transition-shadow p-4`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-orange-50 border-2 border-orange-200 flex items-center justify-center w-12 h-12",children:e.jsx(B,{voucher:C})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-mono text-sm font-bold text-gray-900",children:C.code}),e.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",C.id]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full ${U.bg} ${U.border} border`,children:[e.jsx(M,{className:`h-3 w-3 ${U.iconColor}`}),e.jsx("span",{className:`text-xs font-medium ${U.text}`,children:U.label})]}),e.jsxs("button",{onClick:()=>E(C),className:"inline-flex items-center px-2.5 py-1 border border-orange-300 text-xs font-medium rounded text-orange-700 bg-orange-50 hover:bg-orange-100",title:"Send via Email",children:[e.jsx(gr,{className:"h-3 w-3 mr-1"})," Send"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Value"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:C.formattedValue})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Points Required"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:C.points_required})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"User"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["User ",C.user]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Created"}),e.jsx("span",{className:"text-sm text-gray-600",children:new Date(C.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Expires"}),e.jsx("span",{className:`text-sm ${C.isExpired?"text-red-600":"text-gray-600"}`,children:new Date(C.expires_at).toLocaleDateString()})]})]}),!C.redeemed&&!C.isExpired&&e.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200 flex space-x-2",children:[e.jsxs("button",{onClick:()=>g(C),className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium flex items-center justify-center",children:[e.jsx(ft,{className:"h-4 w-4 mr-2"})," View QR"]}),e.jsxs("button",{onClick:()=>E(C),className:"flex-1 px-3 py-2 bg-gradient-to-r from-orange-500 to-amber-500 text-white rounded-lg hover:from-orange-600 hover:to-amber-600 transition-colors text-sm font-semibold flex items-center justify-center",children:[e.jsx(gr,{className:"h-4 w-4 mr-2"})," Send Email"]})]})]},C.id)})}),p.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(it,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No vouchers found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o||x!=="all"?"Try adjusting your search or filter criteria.":"Get started by creating a new voucher."})]}),f&&e.jsx(D,{voucher:f,onClose:()=>g(null)}),y&&e.jsx(E5,{voucher:y,isOpen:!!y,onClose:()=>E(null)})]})};class b5{async getAllBookings(){try{const a=await he.get("/bookings/");return a&&Array.isArray(a.results)?a.results.map(o=>this.transformBookingData(o)):Array.isArray(a)?a.map(o=>this.transformBookingData(o)):a&&typeof a=="object"&&a.count!==void 0&&!Array.isArray(a.results)?[]:[]}catch(a){throw console.error("BookingsService: Error fetching bookings:",a),a}}async getBooking(a){try{const o=await he.get(`/bookings/${a}/`);return this.transformBookingData(o)}catch(o){throw console.error("Error fetching booking:",o),o}}async createBooking(a){try{const o={service:a.service||a.service_id,date:a.date,time:a.time};(a.barber||a.barber_id)&&(o.barber=a.barber||a.barber_id);const l=await he.post("/bookings/",o);return this.transformBookingData(l)}catch(o){throw console.error("Error creating booking:",o),o}}async updateBooking(a,o){try{const l={service:o.service||o.service_id,date:o.date,time:o.time};o.barber||o.barber_id?l.barber=o.barber||o.barber_id:l.barber=null;const x=await he.put(`/bookings/${a}/`,l);return this.transformBookingData(x)}catch(l){throw console.error("Error updating booking:",l),l}}async patchBooking(a,o){try{const l=await he.patch(`/bookings/${a}/`,o);return this.transformBookingData(l)}catch(l){throw console.error("Error patching booking:",l),l}}async deleteBooking(a){try{return await he.delete(`/bookings/${a}/`),!0}catch(o){throw console.error("Error deleting booking:",o),o}}async updateBookingStatus(a,o){return await this.patchBooking(a,{status:o})}async getTodayBookings(){const a=new Date().toISOString().split("T")[0];return(await this.getAllBookings()).filter(l=>l.date===a)}async getUpcomingBookings(a=7){const o=await this.getAllBookings(),l=new Date,x=new Date(l.getTime()+a*24*60*60*1e3);return o.filter(u=>{const h=new Date(u.date);return h>=l&&h<=x})}transformBookingData(a){if(!a)return null;try{return{id:a.id,booking_code:a.booking_code||`BK${String(a.id).padStart(6,"0")}`,service:a.service,service_id:a.service,barber:a.barber??null,barber_id:a.barber??null,barber_name:a.barber_name||"Unassigned",date:a.date,time:this.normalizeTime(a.time),status:a.status||"pending",created_at:a.created_at,formattedDate:this.formatDate(a.date),formattedTime:this.formatTime(a.time),formattedStatus:this.formatStatus(a.status||"pending")}}catch(o){return console.error("BookingsService: Error transforming booking:",o,"Original booking:",a),{id:a.id,booking_code:a.booking_code||"N/A",service:a.service,barber:a.barber??null,barber_name:a.barber_name||"Unassigned",date:a.date,time:a.time,status:a.status||"pending",created_at:a.created_at}}}normalizeTime(a){return a?typeof a=="string"&&(a.includes("T")||a.includes("Z"))?new Date(a).toTimeString().substring(0,8):typeof a=="string"&&a.includes(".")?a.split(".")[0]:a:"N/A"}formatDate(a){return a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}formatTime(a){if(!a)return"N/A";const o=this.normalizeTime(a);return o.includes(":")?o.split(":").slice(0,2).join(":"):o}formatStatus(a){return{pending:{label:"Pending",color:"orange"},confirmed:{label:"Confirmed",color:"green"},cancelled:{label:"Cancelled",color:"red"}}[a]||{label:a||"Unknown",color:"gray"}}}const Hn=new b5;class y5{async getAllServices(){return console.log("🚨 ServicesService: getAllServices() called - THIS SHOULD NOT HAPPEN FOR BOOKINGS TAB!"),console.trace("ServicesService: Call stack trace"),await he.get("/services/")}async getService(a){return await he.get(`/services/${a}/`)}async createService(a){return await he.post("/services/",a)}async updateService(a,o){return await he.put(`/services/${a}/`,o)}async patchService(a,o){return await he.patch(`/services/${a}/`,o)}async deleteService(a){return await he.delete(`/services/${a}/`)}formatPrice(a){return`₱${parseFloat(a).toFixed(2)}`}formatDuration(a){if(a>=60){const o=Math.floor(a/60),l=a%60;return l>0?`${o}h ${l}m`:`${o}h`}return`${a}m`}}const Er=new y5;class v5{async getAllVouchers(){return await he.get("/vouchers/")}async getVoucher(a){return await he.get(`/vouchers/${a}/`)}async createVoucher(a){return await he.post("/vouchers/",a)}async updateVoucher(a,o){return await he.put(`/vouchers/${a}/`,o)}async patchVoucher(a,o){return await he.patch(`/vouchers/${a}/`,o)}async deleteVoucher(a){return await he.delete(`/vouchers/${a}/`)}async redeemVoucher(a,o){return await he.post("/vouchers/redeem/",{code:a,total_amount:o})}generateVoucherCode(a=8){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let l="";for(let x=0;x<a;x++)l+=o.charAt(Math.floor(Math.random()*o.length));return l}isExpired(a){return new Date(a)<new Date}formatValue(a){return`₱${parseFloat(a).toFixed(2)}`}getActiveVouchers(){return this.getAllVouchers().then(a=>a.filter(o=>!o.redeemed&&!this.isExpired(o.expires_at)))}getExpiredVouchers(){return this.getAllVouchers().then(a=>a.filter(o=>this.isExpired(o.expires_at)))}getRedeemedVouchers(){return this.getAllVouchers().then(a=>a.filter(o=>o.redeemed))}}const Vn=new v5;class C5{async getAllBarbers(){try{return(await he.get("/barbers/")).map(o=>this.transformBarberFromAPI(o))}catch(a){throw console.error("Error fetching barbers:",a),a}}async getBarber(a){try{const o=await he.get(`/barbers/${a}/`);return this.transformBarberFromAPI(o)}catch(o){throw console.error("Error fetching barber:",o),o}}async createBarber(a){try{const o=this.validateBarberData(a);if(o.length>0)throw new Error(o.join(", "));const l=this.transformBarberToAPI(a);console.log("Creating barber with data:",l);const x=await he.post("/barbers/",l);return this.transformBarberFromAPI(x)}catch(o){if(console.error("Error creating barber:",o),o.response?.data){const l=o.response.data;if(typeof l=="object"&&!Array.isArray(l)){const x=Object.entries(l).map(([u,h])=>`${u}: ${Array.isArray(h)?h.join(", "):h}`).join("; ");throw new Error(x)}}throw new Error(o.message||"Failed to create barber")}}async updateBarber(a,o){try{const l=this.validateBarberData(o);if(l.length>0)throw new Error(l.join(", "));const x=this.transformBarberToAPI(o);console.log("Updating barber with data:",x);const u=await he.put(`/barbers/${a}/`,x);return this.transformBarberFromAPI(u)}catch(l){if(console.error("Error updating barber:",l),l.response?.data){const x=l.response.data;if(typeof x=="object"&&!Array.isArray(x)){const u=Object.entries(x).map(([h,m])=>`${h}: ${Array.isArray(m)?m.join(", "):m}`).join("; ");throw new Error(u)}}throw new Error(l.message||"Failed to update barber")}}async patchBarber(a,o){try{const l=this.transformBarberToAPI(o,!0);console.log("Patching barber with data:",l);const x=await he.patch(`/barbers/${a}/`,l);return this.transformBarberFromAPI(x)}catch(l){if(console.error("Error updating barber:",l),l.response?.data){const x=l.response.data;if(typeof x=="object"&&!Array.isArray(x)){const u=Object.entries(x).map(([h,m])=>`${h}: ${Array.isArray(m)?m.join(", "):m}`).join("; ");throw new Error(u)}}throw new Error(l.message||"Failed to update barber")}}async deleteBarber(a){try{return await he.delete(`/barbers/${a}/`),!0}catch(o){throw console.error("Error deleting barber:",o),o}}async getActiveBarbers(){try{return(await this.getAllBarbers()).filter(o=>o.is_active)}catch(a){throw console.error("Error fetching active barbers:",a),a}}transformBarberFromAPI(a){return{id:a.id,user:a.user,full_name:a.full_name,name:a.full_name,is_active:a.is_active,services:a.services||[],email:`${a.full_name.toLowerCase().replace(/\s+/g,".")}@tpxbooking.com`,phone:"+639123456789",specialties:this.mapServicesToSpecialties(a.services),experience:"5 years",rating:4.5,totalBookings:0,avatar:this.generateAvatar(a.full_name),status:a.is_active?"active":"inactive",schedule:this.getDefaultSchedule(),joinedDate:new Date().toISOString().split("T")[0],monthlyRevenue:0,bio:"Professional barber with expertise in various styling techniques."}}transformBarberToAPI(a,o=!1){const l={};return(!o||a.user!==void 0)&&(l.user=a.user),(!o||a.full_name!==void 0)&&(l.full_name=a.full_name||a.name),(!o||a.is_active!==void 0)&&(l.is_active=a.is_active!==void 0?a.is_active:a.status==="active"),(!o||a.services!==void 0)&&(l.services=a.services||[]),l}mapServicesToSpecialties(a){const o={1:"Hair Cut",2:"Beard Styling",3:"Hot Towel Shave",4:"Hair Coloring",5:"Fade Cuts"};return a.map(l=>o[l]||"General Styling")}generateAvatar(a){return`https://ui-avatars.com/api/?name=${encodeURIComponent(a)}&background=F68B24&color=fff&size=150`}getDefaultSchedule(){return{monday:{start:"09:00",end:"17:00",available:!0},tuesday:{start:"09:00",end:"17:00",available:!0},wednesday:{start:"09:00",end:"17:00",available:!0},thursday:{start:"09:00",end:"17:00",available:!0},friday:{start:"09:00",end:"18:00",available:!0},saturday:{start:"08:00",end:"16:00",available:!0},sunday:{start:"",end:"",available:!1}}}getStatusConfig(a){const o={active:{label:"Active",color:"green",bg:"bg-green-50",text:"text-green-700",border:"border-green-200"},on_leave:{label:"On Leave",color:"yellow",bg:"bg-yellow-50",text:"text-yellow-700",border:"border-yellow-200"},inactive:{label:"Inactive",color:"red",bg:"bg-red-50",text:"text-red-700",border:"border-red-200"}};return o[a]||o.inactive}formatRevenue(a){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(a)}getWorkingDays(a){return["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].filter(l=>a[l]?.available).length}getTotalWorkingHours(a){return["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].reduce((l,x)=>{if(a[x]?.available&&a[x]?.start&&a[x]?.end){const u=new Date(`1970-01-01T${a[x].start}:00`),m=(new Date(`1970-01-01T${a[x].end}:00`)-u)/(1e3*60*60);return l+m}return l},0)}validateBarberData(a){const o=[];return a.user||o.push("User is required"),(!a.full_name||a.full_name.trim().length===0)&&o.push("Full name is required"),o}}const $n=new C5;class B5{async getDashboardOverview(){try{const[a,o,l,x,u,h]=await Promise.allSettled([he.get("/services/"),he.get("/barbers/"),he.get("/clients/"),he.get("/vouchers/"),he.get("/sales/"),he.get("/points/")]),m=Array.isArray(a.value)?a.value:[],f=Array.isArray(o.value)?o.value:[],g=Array.isArray(l.value)?l.value:[],y=Array.isArray(x.value)?x.value:[],E=Array.isArray(u.value)?u.value:[],v=Array.isArray(h.value)?h.value:[];a.status==="rejected"&&console.warn("Services API failed:",a.reason),o.status==="rejected"&&console.warn("Barbers API failed:",o.reason),l.status==="rejected"&&console.warn("Clients API failed:",l.reason),x.status==="rejected"&&console.warn("Vouchers API failed:",x.reason),u.status==="rejected"&&console.warn("Sales API failed:",u.reason),h.status==="rejected"&&console.warn("Points API failed:",h.reason);const p=this.calculateOverviewStats({services:m,barbers:f,clients:g,vouchers:y,sales:E,points:v}),A=this.generateRecentActivity({sales:E,vouchers:y,clients:g});return{stats:p,recentActivity:A,totals:{services:m.length,barbers:f.length,clients:g.length,vouchers:y.length,sales:E.length,totalPoints:this.calculateTotalPoints(v)}}}catch(a){return console.error("Error fetching dashboard overview:",a),this.getFallbackOverviewData()}}getFallbackOverviewData(){return{stats:[{label:"Today's Revenue",value:"₱0.00",change:"0%",trend:"neutral",icon:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z",subtitle:"Data unavailable"},{label:"Total Services",value:"0",change:"0%",trend:"neutral",icon:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",subtitle:"Data unavailable"},{label:"Active Barbers",value:"0",change:"0%",trend:"neutral",icon:"M16 11c1.66 0 3-1.34 3-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3z",subtitle:"Data unavailable"},{label:"Active Vouchers",value:"0",change:"0%",trend:"neutral",icon:"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z",subtitle:"Data unavailable"},{label:"Total Clients",value:"0",change:"0%",trend:"neutral",icon:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z",subtitle:"Data unavailable"},{label:"Loyalty Points",value:"0",change:"0%",trend:"neutral",icon:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z",subtitle:"Data unavailable"}],recentActivity:[{id:"fallback-1",type:"info",message:"Unable to load recent activity - please check your connection",time:"N/A",status:"error",icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}],totals:{services:0,barbers:0,clients:0,vouchers:0,sales:0,totalPoints:0}}}safeParseDate(a){if(!a)return null;const o=new Date(a);return isNaN(o.getTime())?null:o}safeDateToString(a){const o=this.safeParseDate(a);return o?o.toISOString().split("T")[0]:null}calculateOverviewStats({services:a,barbers:o,clients:l,vouchers:x,sales:u,points:h}){const m=new Date().toISOString().split("T")[0],g=u.filter(S=>this.safeDateToString(S.sale_date)===m).reduce((S,N)=>S+parseFloat(N.discounted_amount||N.total_amount||0),0),y=u.reduce((S,N)=>S+parseFloat(N.discounted_amount||N.total_amount||0),0),E=new Date,v=x.filter(S=>{const N=this.safeParseDate(S.expires_at);return!S.redeemed&&N&&N>E}),p=o.filter(S=>S.is_active),A=h.reduce((S,N)=>S+(N.total_points||0),0),B=new Date;B.setDate(B.getDate()-7);const U=u.filter(S=>{const N=this.safeParseDate(S.sale_date);return N&&N>=B}).reduce((S,N)=>S+parseFloat(N.discounted_amount||N.total_amount||0),0)>0?"+12%":"0%",M=l.length>0?"+8%":"0%";return[{label:"Today's Revenue",value:this.formatCurrency(g),change:U,trend:g>0?"up":"neutral",icon:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",subtitle:`Total: ${this.formatCurrency(y)}`},{label:"Total Services",value:a.length.toString(),change:"+2%",trend:"up",icon:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",subtitle:"Available services"},{label:"Active Barbers",value:p.length.toString(),change:"0%",trend:"neutral",icon:"M16 11c1.66 0 3-1.34 3-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3z",subtitle:`${o.length} total barbers`},{label:"Active Vouchers",value:v.length.toString(),change:x.length>v.length?"-15%":"+5%",trend:x.length>v.length?"down":"up",icon:"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z",subtitle:`${x.length} total vouchers`},{label:"Total Clients",value:l.length.toString(),change:M,trend:l.length>0?"up":"neutral",icon:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z",subtitle:"Registered customers"},{label:"Loyalty Points",value:this.formatNumber(A),change:"+25%",trend:"up",icon:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z",subtitle:"Points distributed"}]}generateRecentActivity({sales:a,vouchers:o,clients:l}){const x=[];return a.filter(m=>this.safeParseDate(m.sale_date)).sort((m,f)=>{const g=this.safeParseDate(m.sale_date);return this.safeParseDate(f.sale_date)-g}).slice(0,3).forEach(m=>{x.push({id:`sale-${m.id}`,type:"sale",message:`Sale completed: ${this.formatCurrency(m.discounted_amount||m.total_amount)}`,time:this.formatTimeAgo(m.sale_date),status:"completed",icon:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"})}),o.filter(m=>m.redeemed&&this.safeParseDate(m.created_at)).sort((m,f)=>{const g=this.safeParseDate(m.created_at);return this.safeParseDate(f.created_at)-g}).slice(0,2).forEach(m=>{x.push({id:`voucher-${m.id}`,type:"voucher",message:`Voucher ${m.code} redeemed (${this.formatCurrency(m.value)})`,time:this.formatTimeAgo(m.created_at),status:"completed",icon:"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"})}),l.length>0&&l.slice(-2).forEach(f=>{x.push({id:`client-${f.id}`,type:"customer",message:`New client registered: ${f.nickname||f.username}`,time:"Recently",status:"new",icon:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z"})}),x.length===0&&x.push({id:"placeholder-1",type:"info",message:"No recent activity available",time:"N/A",status:"info",icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),x.slice(0,6)}calculateTotalPoints(a){return a.reduce((o,l)=>o+(l.total_points||0),0)}formatCurrency(a){return`₱${parseFloat(a||0).toLocaleString("en-PH",{minimumFractionDigits:2})}`}formatNumber(a){return parseFloat(a||0).toLocaleString("en-PH")}formatTimeAgo(a){if(!a)return"Unknown";const o=this.safeParseDate(a);if(!o)return"Unknown";const x=Math.floor((new Date-o)/(1e3*60));if(x<1)return"Just now";if(x<60)return`${x}m ago`;const u=Math.floor(x/60);if(u<24)return`${u}h ago`;const h=Math.floor(u/24);return h<7?`${h}d ago`:o.toLocaleDateString("en-PH")}async getQuickStats(){try{const a=await this.getDashboardOverview();return{todayRevenue:a.stats[0].value,totalServices:a.totals.services,totalClients:a.totals.clients,activeVouchers:a.stats[3].value}}catch(a){return console.error("Error fetching quick stats:",a),{todayRevenue:"₱0.00",totalServices:0,totalClients:0,activeVouchers:0}}}}const A5=new B5,F5=({services:c=[],onRefresh:a})=>{const[o,l]=F.useState(""),[x,u]=F.useState("name"),[h,m]=F.useState(!1),[f,g]=F.useState(null),[y,E]=F.useState({name:"",description:"",duration_minutes:30,price:""}),[v,p]=F.useState(!1),[A,B]=F.useState(""),D=c.filter(R=>R.name.toLowerCase().includes(o.toLowerCase())||R.description.toLowerCase().includes(o.toLowerCase())).sort((R,T)=>x==="name"?R.name.localeCompare(T.name):x==="price"?parseFloat(T.price)-parseFloat(R.price):x==="duration"?T.duration_minutes-R.duration_minutes:R.id-T.id),C={total:c.length,totalRevenue:c.reduce((R,T)=>R+parseFloat(T.price),0),avgPrice:c.length?c.reduce((R,T)=>R+parseFloat(T.price),0)/c.length:0,avgDuration:c.length?c.reduce((R,T)=>R+T.duration_minutes,0)/c.length:0},U=()=>{E({name:"",description:"",duration_minutes:30,price:""}),B("")},M=()=>{U(),m(!0),g(null)},S=R=>{E({name:R.name,description:R.description,duration_minutes:R.duration_minutes,price:R.price}),g(R),m(!1),B("")},N=()=>{m(!1),g(null),U()},L=async()=>{if(!y.name.trim()||!y.price){B("Name and price are required");return}p(!0),B("");try{const R={...y,price:parseFloat(y.price).toFixed(2),duration_minutes:parseInt(y.duration_minutes)};f?await Er.updateService(f.id,R):await Er.createService(R),N(),a()}catch(R){B(R.message||"Failed to save service")}finally{p(!1)}},k=async R=>{if(confirm(`Are you sure you want to delete "${R.name}"?`)){p(!0);try{await Er.deleteService(R.id),a()}catch(T){B(T.message||"Failed to delete service")}finally{p(!1)}}},V=()=>e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f?"Edit Service":"Create New Service"}),e.jsx("button",{onClick:N,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(vr,{className:"h-5 w-5"})})]}),A&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:A})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Name"}),e.jsx("input",{type:"text",value:y.name,onChange:R=>E(T=>({...T,name:R.target.value})),placeholder:"Enter service name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (₱)"}),e.jsx("input",{type:"number",value:y.price,onChange:R=>E(T=>({...T,price:R.target.value})),placeholder:"0.00",step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),e.jsx("input",{type:"number",value:y.duration_minutes,onChange:R=>E(T=>({...T,duration_minutes:R.target.value})),placeholder:"30",min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("input",{type:"text",value:y.description,onChange:R=>E(T=>({...T,description:R.target.value})),placeholder:"Enter service description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:N,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:L,disabled:v,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(Hr,{className:"h-4 w-4"}),e.jsx("span",{children:v?"Saving...":"Save Service"})]})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Services"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.total})]}),e.jsx(Us,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg. Price"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["₱",C.avgPrice.toFixed(0)]})]}),e.jsx(xs,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg. Duration"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[Math.round(C.avgDuration),"m"]})]}),e.jsx(St,{className:"h-8 w-8 text-orange-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["₱",C.totalRevenue.toFixed(0)]})]}),e.jsx(xs,{className:"h-8 w-8 text-blue-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search services...",value:o,onChange:R=>l(R.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("select",{value:x,onChange:R=>u(R.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"price",children:"Sort by Price"}),e.jsx("option",{value:"duration",children:"Sort by Duration"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(Oa,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{onClick:M,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[e.jsx(It,{className:"h-4 w-4"}),e.jsx("span",{children:"New Service"})]})]})]})}),(h||f)&&e.jsx(V,{}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(R=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-orange-50 rounded-lg",children:e.jsx(Us,{className:"h-5 w-5 text-orange-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:R.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",R.id]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>S(R),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(Vr,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>k(R),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(pr,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600",children:R.description}),e.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xs,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Price"})]}),e.jsx("span",{className:"text-lg font-bold text-green-600",children:R.formattedPrice})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(St,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Duration"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:R.formattedDuration})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>S(R),className:"w-full px-3 py-2 bg-orange-50 text-orange-700 rounded-lg hover:bg-orange-100 transition-colors text-sm font-medium",children:"Edit Service"})})]},R.id))}),D.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Us,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No services found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o?"Try adjusting your search criteria.":"Get started by creating your first service."}),!o&&e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:M,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:[e.jsx(It,{className:"-ml-1 mr-2 h-4 w-4"}),"New Service"]})})]})]})},j5=({bookings:c=[],onRefresh:a})=>{const[o,l]=F.useState(""),[x,u]=F.useState("all"),[h,m]=F.useState("date"),[f,g]=F.useState(!1),[y,E]=F.useState(null),[v,p]=F.useState([]),[A,B]=F.useState([]),[D,C]=F.useState(null),[U,M]=F.useState({service:"",barber:"",date:"",time:""}),[S,N]=F.useState(!1),[L,k]=F.useState("");F.useEffect(()=>{V(),R()},[]);const V=async()=>{try{const Q=await Er.getAllServices();p(Q)}catch(Q){console.error("Failed to load services:",Q),k("Failed to load services. Please refresh the page.")}},R=async()=>{try{const Q=await $n.getAllBarbers();B(Q.filter(de=>de.is_active))}catch(Q){console.error("Failed to load barbers:",Q),k("Failed to load barbers. Please refresh the page.")}},T=Q=>{switch(Q){case"booked":return{label:"Booked",icon:Ge,bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200",iconColor:"text-blue-500"};case"confirmed":return{label:"Confirmed",icon:Ge,bg:"bg-green-50",text:"text-green-700",border:"border-green-200",iconColor:"text-green-500"};case"cancelled":return{label:"Cancelled",icon:Ie,bg:"bg-red-50",text:"text-red-700",border:"border-red-200",iconColor:"text-red-500"};default:return{label:"Pending",icon:Je,bg:"bg-orange-50",text:"text-orange-700",border:"border-orange-200",iconColor:"text-orange-500"}}},z=c.filter(Q=>{const me=(v.find(ae=>ae.id===Q.service)?.name||"").toLowerCase().includes(o.toLowerCase())||(Q.barber_name||"").toLowerCase().includes(o.toLowerCase())||(Q.booking_code||"").toLowerCase().includes(o.toLowerCase()),be=x==="all"||Q.status===x;return me&&be}).sort((Q,de)=>{if(h==="date"){const me=new Date(Q.date+" "+Q.time);return new Date(de.date+" "+de.time)-me}if(h==="status")return Q.status.localeCompare(de.status);if(h==="service"){const me=v.find(ae=>ae.id===Q.service)?.name||"",be=v.find(ae=>ae.id===de.service)?.name||"";return me.localeCompare(be)}return Q.id-de.id}),$={total:c.length,pending:c.filter(Q=>Q.status==="pending").length,booked:c.filter(Q=>Q.status==="booked").length,confirmed:c.filter(Q=>Q.status==="confirmed").length,cancelled:c.filter(Q=>Q.status==="cancelled").length,today:c.filter(Q=>{const de=new Date(Q.date).toDateString(),me=new Date().toDateString();return de===me}).length},I=()=>{M({service:"",barber:"",date:"",time:""}),k("")},_=()=>{g(!0)},H=async Q=>{console.log("New booking created:",Q),a()},j=Q=>{M({service:Q.service,barber:Q.barber||"",date:Q.date,time:Q.time&&Q.time!=="N/A"?Q.time.slice(0,5):""}),E(Q),setIsCreating(!1),k("")},P=()=>{E(null),I()},J=async()=>{if(!U.service||!U.date||!U.time){k("Service, date, and time are required");return}N(!0),k("");try{const Q={service:parseInt(U.service),date:U.date,time:U.time};U.barber&&(Q.barber=parseInt(U.barber)),y?await Hn.updateBooking(y.id,Q):await Hn.createBooking(Q),P(),a()}catch(Q){console.error("Error saving booking:",Q),k(Q.message||"Failed to save booking")}finally{N(!1)}},ce=async Q=>{if(confirm(`Are you sure you want to delete booking #${Q.booking_code||Q.id}?`)){N(!0);try{await Hn.deleteBooking(Q.id),a()}catch(de){console.error("Error deleting booking:",de),k(de.message||"Failed to delete booking")}finally{N(!1)}}},O=async(Q,de)=>{N(!0);try{await Hn.patchBooking(Q.id,{status:de}),a()}catch(me){console.error("Error updating booking status:",me),k(me.message||"Failed to update booking status")}finally{N(!1)}},Z=Q=>Q?new Date(Q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",ie=Q=>{if(!Q||Q==="N/A")return"N/A";let de=Q;Q.includes(".")&&(de=Q.split(".")[0]),de.split(":").length>2&&(de=de.split(":").slice(0,2).join(":"));try{return new Date(`1970-01-01T${de}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch{return Q}},xe=({booking:Q,onClose:de})=>{const me=F.useRef(null),be=JSON.stringify({bookingId:Q.id,bookingCode:Q.booking_code,service:v.find(ae=>ae.id===Q.service)?.name,barber:Q.barber_name,date:Q.date,time:Q.time,status:Q.status,barbershop:"TPX Barbershop"});return F.useEffect(()=>{me.current&&kt.toCanvas(me.current,be,{width:200,margin:2,color:{dark:"#36454F",light:"#ffffff"},errorCorrectionLevel:"H"},ae=>{ae&&console.error("QR Code generation error:",ae)})},[be]),e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl border",style:{borderColor:"#E0E0E0"},children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mx-auto",style:{backgroundColor:"#F68B24"},children:e.jsx(ft,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-1",style:{color:"#36454F"},children:"Booking QR Code"}),e.jsxs("p",{className:"text-sm font-mono font-bold text-orange-600",children:["#",Q.booking_code]}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Scan this code for booking verification"})]}),e.jsx("div",{className:"p-4 rounded-xl",style:{backgroundColor:"#F4F0E6"},children:e.jsx("div",{className:"flex justify-center",children:e.jsx("canvas",{ref:me,className:"rounded-lg"})})}),e.jsxs("div",{className:"text-left space-y-2 p-4 rounded-xl",style:{backgroundColor:"#F9F9F9"},children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:"#8B8B8B"},children:"Service:"}),e.jsx("span",{className:"text-sm font-bold",style:{color:"#36454F"},children:v.find(ae=>ae.id===Q.service)?.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:"#8B8B8B"},children:"Date & Time:"}),e.jsxs("span",{className:"text-sm font-bold",style:{color:"#36454F"},children:[Z(Q.date)," at ",ie(Q.time)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:"#8B8B8B"},children:"Barber:"}),e.jsx("span",{className:"text-sm font-bold",style:{color:"#36454F"},children:Q.barber_name||"Not assigned"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:"#8B8B8B"},children:"Status:"}),e.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${T(Q.status).bg} ${T(Q.status).text}`,children:T(Q.status).label})]})]}),e.jsx("button",{onClick:de,className:"w-full py-2 px-4 rounded-xl font-medium text-white transition-colors",style:{backgroundColor:"#F68B24"},children:"Close"})]})})})},G=({booking:Q})=>{const de=F.useRef(null),me=JSON.stringify({bookingId:Q.id,bookingCode:Q.booking_code,barbershop:"TPX Barbershop"});return F.useEffect(()=>{de.current&&kt.toCanvas(de.current,me,{width:40,margin:1,color:{dark:"#36454F",light:"#ffffff"},errorCorrectionLevel:"M"},be=>{be&&console.error("Mini QR Code generation error:",be)})},[me]),e.jsx("canvas",{ref:de,className:"rounded"})},ue=()=>e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Booking"}),e.jsx("button",{onClick:P,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:e.jsx(vr,{className:"h-5 w-5"})})]}),L&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:L})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service *"}),e.jsxs("select",{value:U.service,onChange:Q=>M(de=>({...de,service:Q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select a service"}),v.map(Q=>e.jsxs("option",{value:Q.id,children:[Q.name," - ₱",parseFloat(Q.price).toFixed(2)," (",Q.duration_minutes,"min)"]},Q.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Barber (Optional)"}),e.jsxs("select",{value:U.barber,onChange:Q=>M(de=>({...de,barber:Q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Any available barber"}),A.map(Q=>e.jsx("option",{value:Q.id,children:Q.full_name},Q.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),e.jsx("input",{type:"date",value:U.date,onChange:Q=>M(de=>({...de,date:Q.target.value})),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time *"}),e.jsx("input",{type:"time",value:U.time,onChange:Q=>M(de=>({...de,time:Q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:P,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:J,disabled:S,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(Hr,{className:"h-4 w-4"}),e.jsx("span",{children:S?"Saving...":"Save Booking"})]})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$.total})]}),e.jsx(Re,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Today"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:$.today})]}),e.jsx(St,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:$.pending})]}),e.jsx(Je,{className:"h-8 w-8 text-orange-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Booked"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:$.booked})]}),e.jsx(Ge,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Confirmed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:$.confirmed})]}),e.jsx(Ge,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cancelled"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:$.cancelled})]}),e.jsx(Ie,{className:"h-8 w-8 text-red-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search bookings...",value:o,onChange:Q=>l(Q.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yr,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:x,onChange:Q=>u(Q.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"booked",children:"Booked"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("select",{value:h,onChange:Q=>m(Q.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"date",children:"Sort by Date"}),e.jsx("option",{value:"status",children:"Sort by Status"}),e.jsx("option",{value:"service",children:"Sort by Service"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(Oa,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{onClick:_,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[e.jsx(It,{className:"h-4 w-4"}),e.jsx("span",{children:"New Booking"})]})]})]})}),y&&e.jsx(ue,{}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Barber"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z.map(Q=>{const de=T(Q.status),me=de.icon,be=v.find(ae=>ae.id===Q.service);return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-lg bg-orange-50 border-2 border-orange-200 flex items-center justify-center p-1",children:e.jsx(G,{booking:Q})})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-mono font-bold text-gray-900",children:["#",Q.booking_code||Q.id]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",Q.id]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:be?.name||"Unknown Service"}),e.jsxs("div",{className:"text-sm text-gray-500",children:[be?.duration_minutes,"min"]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:Z(Q.date)}),e.jsx("div",{className:"text-sm text-gray-500",children:ie(Q.time)})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:Q.barber_name||"Not assigned"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${de.bg} ${de.text}`,children:[e.jsx(me,{className:`-ml-0.5 mr-1.5 h-3 w-3 ${de.iconColor}`}),de.label]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-bold text-green-600",children:["₱",be?parseFloat(be.price).toFixed(2):"0.00"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsxs("button",{onClick:()=>C(Q),className:"inline-flex items-center px-2.5 py-1.5 border border-orange-300 text-xs font-medium rounded text-orange-700 bg-orange-50 hover:bg-orange-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",title:"View QR Code",children:[e.jsx(ft,{className:"h-3 w-3 mr-1"}),"QR"]}),Q.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>O(Q,"booked"),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:S,children:"Book"}),e.jsx("button",{onClick:()=>O(Q,"cancelled"),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",disabled:S,children:"Cancel"})]}),Q.status==="booked"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>O(Q,"confirmed"),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-green-700 bg-green-100 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",disabled:S,children:"Confirm"}),e.jsx("button",{onClick:()=>O(Q,"cancelled"),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",disabled:S,children:"Cancel"})]}),e.jsx("button",{onClick:()=>j(Q),className:"text-indigo-600 hover:text-indigo-900",disabled:S,children:e.jsx(Vr,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ce(Q),className:"text-red-600 hover:text-red-900",disabled:S,children:e.jsx(pr,{className:"h-4 w-4"})})]})})]},Q.id)})})]})}),z.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Re,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No bookings found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o||x!=="all"?"Try adjusting your search or filter criteria.":"Get started by creating a new booking."}),!o&&x==="all"&&e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:_,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:[e.jsx(It,{className:"-ml-1 mr-2 h-4 w-4"}),"New Booking"]})})]})]}),e.jsx(xf,{isOpen:f,onClose:()=>g(!1),onSubmit:H}),D&&e.jsx(xe,{booking:D,onClose:()=>C(null)})]})},w5=({barbers:c=[],onRefresh:a})=>{const[o,l]=F.useState(""),[x,u]=F.useState("all"),[h,m]=F.useState("name"),[f,g]=F.useState(null),[y,E]=F.useState(!1),[v,p]=F.useState(null),[A,B]=F.useState(null),[D,C]=F.useState({full_name:"",is_active:!0,services:[]}),[U,M]=F.useState(!1),[S,N]=F.useState(""),[L,k]=F.useState([]),[V,R]=F.useState(!1);F.useEffect(()=>{(async()=>{if(y||v){R(!0);try{const ue=await Er.getAllServices();k(ue)}catch(ue){console.error("Error loading services:",ue),N("Failed to load services")}finally{R(!1)}}})()},[y,v]);const T=G=>{switch(G){case"active":return{label:"Active",icon:Bx,bg:"bg-green-50",text:"text-green-700",border:"border-green-200",iconColor:"text-green-500"};case"on_leave":return{label:"On Leave",icon:St,bg:"bg-yellow-50",text:"text-yellow-700",border:"border-yellow-200",iconColor:"text-yellow-500"};default:return{label:"Inactive",icon:p6,bg:"bg-red-50",text:"text-red-700",border:"border-red-200",iconColor:"text-red-500"}}},z=c.filter(G=>{const ue=G.name.toLowerCase().includes(o.toLowerCase())||G.email.toLowerCase().includes(o.toLowerCase())||G.specialties.some(de=>de.toLowerCase().includes(o.toLowerCase())),Q=x==="all"||G.status===x;return ue&&Q}).sort((G,ue)=>h==="name"?G.name.localeCompare(ue.name):h==="rating"?parseFloat(ue.rating)-parseFloat(G.rating):h==="revenue"?ue.monthlyRevenue-G.monthlyRevenue:h==="bookings"?ue.totalBookings-G.totalBookings:G.id-ue.id),$={total:c.length,active:c.filter(G=>G.status==="active").length,onLeave:c.filter(G=>G.status==="on_leave").length,totalRevenue:c.reduce((G,ue)=>G+ue.monthlyRevenue,0),avgRating:c.length?c.reduce((G,ue)=>G+ue.rating,0)/c.length:0},I=G=>Object.values(G).filter(ue=>ue.available).length,_=G=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(G),H=()=>{C({full_name:"",is_active:!0,services:[]}),N("")},j=()=>{H(),E(!0),p(null)},P=G=>{C({full_name:G.full_name||G.name,is_active:G.is_active!==void 0?G.is_active:G.status==="active",services:G.services||[]}),p(G),E(!1),N("")},J=()=>{E(!1),p(null),H()},ce=async()=>{if(!D.full_name.trim()){N("Full name is required");return}M(!0),N("");try{const G={user:1,full_name:D.full_name.trim(),is_active:D.is_active,services:D.services};v?await $n.updateBarber(v.id,G):await $n.createBarber(G),J(),a()}catch(G){N(G.message||"Failed to save barber")}finally{M(!1)}},O=async G=>{M(!0);try{await $n.deleteBarber(G.id),B(null),a()}catch(ue){N(ue.message||"Failed to delete barber")}finally{M(!1)}},Z=()=>e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v?"Edit Barber":"Create New Barber"}),e.jsx("button",{onClick:J,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(vr,{className:"h-5 w-5"})})]}),S&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:S})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:D.full_name,onChange:G=>C(ue=>({...ue,full_name:G.target.value})),placeholder:"Enter barber's full name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Services"}),e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-300 rounded-lg p-2",children:V?e.jsx("p",{className:"text-sm text-gray-500 p-2",children:"Loading services..."}):L.length>0?L.map(G=>e.jsxs("label",{className:"flex items-center py-1",children:[e.jsx("input",{type:"checkbox",checked:D.services.includes(G.id),onChange:ue=>{const Q=G.id;C(de=>({...de,services:ue.target.checked?[...de.services,Q]:de.services.filter(me=>me!==Q)}))},className:"h-4 w-4 text-orange-600 focus:ring-orange-500 rounded"}),e.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:[G.name," - ₱",parseFloat(G.price).toFixed(2)]})]},G.id)):e.jsx("p",{className:"text-sm text-gray-500 p-2",children:"No services available"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"is_active",checked:D.is_active===!0,onChange:()=>C(G=>({...G,is_active:!0})),className:"h-4 w-4 text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"is_active",checked:D.is_active===!1,onChange:()=>C(G=>({...G,is_active:!1})),className:"h-4 w-4 text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:J,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:ce,disabled:U,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(Hr,{className:"h-4 w-4"}),e.jsx("span",{children:U?"Saving...":"Save Barber"})]})]})]}),ie=({barber:G,onClose:ue})=>{if(!G)return null;const Q=I(G.schedule),de=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-auto",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:G.avatar,alt:G.name,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:G.name}),e.jsxs("p",{className:"text-gray-600",children:[G.experience," Experience"]}),e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[e.jsx(bs,{className:"h-4 w-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:G.rating}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",G.totalBookings," bookings)"]})]})]})]}),e.jsx("button",{onClick:ue,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gr,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:G.email})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(jo,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:G.phone})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Specialties"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:G.specialties.map((me,be)=>e.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm",children:me},be))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"About"}),e.jsx("p",{className:"text-sm text-gray-600",children:G.bio})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Performance"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Revenue"}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:_(G.monthlyRevenue)})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Bookings"}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:G.totalBookings})]}),e.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Working Days"}),e.jsxs("p",{className:"text-lg font-bold text-purple-600",children:[Q,"/week"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Work Schedule"}),e.jsx("div",{className:"space-y-2",children:de.map(me=>{const be=G.schedule[me];return e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm capitalize font-medium",children:me}),be.available?e.jsxs("span",{className:"text-sm text-green-600 font-medium",children:[be.start," - ",be.end]}):e.jsx("span",{className:"text-sm text-red-500",children:"Off"})]},me)})})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:ue,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),e.jsx("button",{onClick:()=>{ue(),P(G)},className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Edit Barber"})]})]})})})},xe=({barber:G,onClose:ue,onConfirm:Q})=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(pr,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Barber"}),e.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Are you sure you want to delete ",e.jsx("strong",{children:G.name}),"? This will permanently remove the barber from the system."]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:ue,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Q,disabled:U,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:U?"Deleting...":"Delete"})]})]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$.total})]}),e.jsx($e,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:$.active})]}),e.jsx(Bx,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"On Leave"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:$.onLeave})]}),e.jsx(St,{className:"h-8 w-8 text-yellow-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Rating"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:$.avgRating.toFixed(1)})]}),e.jsx(bs,{className:"h-8 w-8 text-purple-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_($.totalRevenue)})]}),e.jsx(xs,{className:"h-8 w-8 text-blue-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search barbers...",value:o,onChange:G=>l(G.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yr,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:x,onChange:G=>u(G.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"on_leave",children:"On Leave"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("select",{value:h,onChange:G=>m(G.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"rating",children:"Sort by Rating"}),e.jsx("option",{value:"revenue",children:"Sort by Revenue"}),e.jsx("option",{value:"bookings",children:"Sort by Bookings"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(Oa,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{onClick:j,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[e.jsx(It,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Barber"})]})]})]})}),(y||v)&&e.jsx(Z,{}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.map(G=>{const ue=T(G.status),Q=ue.icon,de=I(G.schedule);return e.jsxs("div",{className:`bg-white rounded-lg border-2 ${ue.border} shadow-sm hover:shadow-md transition-shadow p-4`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`p-2 rounded-lg ${ue.bg}`,children:e.jsx(Us,{className:"h-4 w-4 text-orange-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm text-gray-900",children:G.name}),e.jsx("p",{className:"text-xs text-gray-500",children:G.experience})]})]}),e.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full ${ue.bg} ${ue.border} border`,children:[e.jsx(Q,{className:`h-3 w-3 ${ue.iconColor}`}),e.jsx("span",{className:`text-xs font-medium ${ue.text}`,children:ue.label})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Rating"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(bs,{className:"h-3 w-3 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:G.rating})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Bookings"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:G.totalBookings})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Working Days"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[de,"/week"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Monthly Revenue"}),e.jsx("span",{className:"text-sm font-bold text-green-600",children:_(G.monthlyRevenue)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("span",{className:"text-sm text-gray-600 truncate max-w-32",title:G.email,children:G.email})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Specialties"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[G.specialties.length," skills"]})]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>g(G),className:"flex-1 px-3 py-2 bg-orange-50 text-orange-700 rounded-lg hover:bg-orange-100 transition-colors text-sm font-medium",children:"View Details"}),e.jsx("button",{onClick:()=>P(G),className:"p-2 rounded-lg border border-gray-200 text-gray-700 hover:bg-gray-50",title:"Edit",children:e.jsx(Vr,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>B(G),className:"p-2 rounded-lg border border-red-200 text-red-600 hover:bg-red-50",title:"Delete",children:e.jsx(pr,{className:"h-4 w-4"})})]})})]},G.id)})}),z.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Us,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No barbers found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o||x!=="all"?"Try adjusting your search or filter criteria.":"Get started by creating a new barber profile."})]}),f&&e.jsx(ie,{barber:f,onClose:()=>g(null)}),A&&e.jsx(xe,{barber:A,onClose:()=>B(null),onConfirm:()=>O(A)})]})},D5=({customers:c=[],onRefresh:a})=>{const[o,l]=F.useState(""),[x,u]=F.useState("all"),[h,m]=F.useState("name"),f=E=>{switch(E.status||"active"){case"active":return{status:"active",label:"Active",bg:"bg-green-50",text:"text-green-700",border:"border-green-200",iconColor:"text-green-500"};case"new":return{status:"new",label:"New",bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200",iconColor:"text-blue-500"};default:return{status:"inactive",label:"Inactive",bg:"bg-red-50",text:"text-red-700",border:"border-red-200",iconColor:"text-red-500"}}},g=c.filter(E=>{const v=(E.name||E.username||"").toLowerCase().includes(o.toLowerCase())||(E.email||"").toLowerCase().includes(o.toLowerCase())||(E.phone||E.mobile_number||"").includes(o),p=x==="all"||f(E).status===x;return v&&p}).sort((E,v)=>h==="name"?(E.name||E.username||"").localeCompare(v.name||v.username||""):h==="email"?(E.email||"").localeCompare(v.email||""):h==="joined"?new Date(v.joinedDate||0)-new Date(E.joinedDate||0):h==="bookings"?(v.totalBookings||0)-(E.totalBookings||0):E.id-v.id),y={total:c.length,active:c.filter(E=>(E.status||"active")==="active").length,new:c.filter(E=>(E.status||"active")==="new").length,inactive:c.filter(E=>(E.status||"active")==="inactive").length,totalSpent:c.reduce((E,v)=>E+(v.totalSpent||0),0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.total})]}),e.jsx($e,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:y.active})]}),e.jsx($e,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"New"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:y.new})]}),e.jsx($e,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Inactive"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:y.inactive})]}),e.jsx($e,{className:"h-8 w-8 text-red-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Spent"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₱",y.totalSpent.toFixed(0)]})]}),e.jsx(Re,{className:"h-8 w-8 text-blue-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search customers...",value:o,onChange:E=>l(E.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yr,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:x,onChange:E=>u(E.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("select",{value:h,onChange:E=>m(E.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"email",children:"Sort by Email"}),e.jsx("option",{value:"joined",children:"Sort by Joined Date"}),e.jsx("option",{value:"bookings",children:"Sort by Bookings"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(Oa,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[e.jsx(It,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Customer"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-b border-orange-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{children:"Customer"})]})}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gr,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{children:"Contact"})]})}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Re,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{children:"Birthday"})]})}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:g.map((E,v)=>{const p=f(E);return e.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${v%2===0?"bg-white":"bg-gray-25"}`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full ${p.bg} flex items-center justify-center`,children:e.jsx($e,{className:"h-5 w-5 text-orange-500"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:E.name||E.username}),e.jsxs("div",{className:"text-sm text-gray-500",children:["@",E.username,E.nickname&&e.jsx("span",{className:"ml-2 text-xs bg-gray-100 px-2 py-0.5 rounded-full",children:E.nickname})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",E.id]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gr,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900 truncate max-w-48",title:E.email,children:E.email||"No email"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(jo,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:E.phone||E.mobile_number||"No phone"})]})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900",children:E.formattedBirthday||E.birthday||"Not provided"}),e.jsxs("div",{className:"text-xs text-gray-500 capitalize",children:["Role: ",E.role||"client"]})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:`inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-medium ${p.bg} ${p.text} ${p.border} border`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${p.iconColor.replace("text-","bg-")}`}),p.label]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsxs("button",{className:"inline-flex items-center px-3 py-1.5 bg-orange-50 text-orange-700 rounded-lg hover:bg-orange-100 transition-colors text-xs font-medium",children:[e.jsx($e,{className:"h-3 w-3 mr-1"}),"View"]}),e.jsxs("button",{className:"inline-flex items-center px-3 py-1.5 bg-gray-50 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors text-xs font-medium",children:[e.jsx(gr,{className:"h-3 w-3 mr-1"}),"Contact"]})]})})]},E.id)})})]})})}),g.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx($e,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No customers found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o||x!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding a new customer."})]})]})},N5=({onRefresh:c})=>{const[a,o]=F.useState("week"),[l,x]=F.useState("revenue"),[u,h]=F.useState(!1),m={revenue:{current:125430,previous:98750,change:27,trend:"up",chartData:[{period:"Mon",value:15200},{period:"Tue",value:18900},{period:"Wed",value:22100},{period:"Thu",value:19800},{period:"Fri",value:25400},{period:"Sat",value:28900},{period:"Sun",value:15130}]},customers:{current:342,previous:298,change:14.8,trend:"up",chartData:[{period:"Mon",value:45},{period:"Tue",value:52},{period:"Wed",value:48},{period:"Thu",value:55},{period:"Fri",value:62},{period:"Sat",value:58},{period:"Sun",value:22}]},bookings:{current:156,previous:142,change:9.9,trend:"up",chartData:[{period:"Mon",value:22},{period:"Tue",value:25},{period:"Wed",value:28},{period:"Thu",value:24},{period:"Fri",value:30},{period:"Sat",value:18},{period:"Sun",value:9}]},vouchers:{current:89,previous:76,change:17.1,trend:"up",chartData:[{period:"Mon",value:12},{period:"Tue",value:15},{period:"Wed",value:18},{period:"Thu",value:14},{period:"Fri",value:16},{period:"Sat",value:10},{period:"Sun",value:4}]}},f=[{id:"revenue",label:"Revenue",icon:xs,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},{id:"customers",label:"Customers",icon:qr,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{id:"bookings",label:"Bookings",icon:Re,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200"},{id:"vouchers",label:"Vouchers",icon:it,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}],g=[{id:"day",label:"Today"},{id:"week",label:"This Week"},{id:"month",label:"This Month"},{id:"quarter",label:"This Quarter"},{id:"year",label:"This Year"}],y=A=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(A),E=A=>new Intl.NumberFormat("en-US").format(A),v=m[l],p=Math.max(...v.chartData.map(A=>A.value));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900",children:"Reports & Analytics"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track your business performance and insights"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(Dt,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[e.jsx(rf,{className:"h-4 w-4"}),e.jsx("span",{children:"Export"})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yr,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Period:"})]}),e.jsx("select",{value:a,onChange:A=>o(A.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:g.map(A=>e.jsx("option",{value:A.id,children:A.label},A.id))})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:f.map(A=>{const B=A.icon,D=m[A.id],C=l===A.id;return e.jsxs("button",{onClick:()=>x(A.id),className:`p-6 rounded-lg border-2 transition-all duration-200 text-left ${C?`${A.bgColor} ${A.borderColor} shadow-lg transform scale-105`:"bg-white border-gray-200 hover:border-gray-300 hover:shadow-md"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${C?"bg-white/80":A.bgColor}`,children:e.jsx(B,{className:`h-6 w-6 ${A.color}`})}),D.trend==="up"?e.jsx(Ma,{className:"h-4 w-4 text-green-500"}):e.jsx(zx,{className:"h-4 w-4 text-red-500"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:A.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.id==="revenue"?y(D.current):E(D.current)}),e.jsxs("p",{className:`text-xs font-medium ${D.trend==="up"?"text-green-600":"text-red-600"}`,children:[D.trend==="up"?"+":"-",D.change,"% from last ",a]})]})]},A.id)})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[f.find(A=>A.id===l)?.label," Trend"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Performance over the selected period"})]})}),e.jsx("div",{className:"space-y-4",children:v.chartData.map((A,B)=>{const D=A.value/p*100;return e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-gray-600",children:A.period}),e.jsxs("div",{className:"flex-1 bg-gray-200 rounded-full h-6 relative overflow-hidden",children:[e.jsx("div",{className:"h-full bg-gradient-to-r from-orange-400 to-orange-500 rounded-full transition-all duration-1000 ease-out",style:{width:`${D}%`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-end pr-3",children:e.jsx("span",{className:"text-xs font-medium text-gray-700",children:l==="revenue"?y(A.value):E(A.value)})})]})]},B)})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(Lx,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Average Daily"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l==="revenue"?y(Math.round(v.current/7)):E(Math.round(v.current/7))}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Per day this ",a]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:e.jsx(Ma,{className:"h-5 w-5 text-green-600"})}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Best Day"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(()=>{const A=v.chartData.reduce((B,D)=>D.value>B.value?D:B);return l==="revenue"?y(A.value):E(A.value)})()}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.chartData.reduce((A,B)=>B.value>A.value?B:A).period})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(Ma,{className:"h-5 w-5 text-purple-600"})}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Growth Rate"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["+",v.change,"%"]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Compared to last ",a]})]})]})]})},k5=({onRefresh:c})=>{const[a,o]=F.useState([]),[l,x]=F.useState(!1),[u,h]=F.useState(""),[m,f]=F.useState("all"),[g,y]=F.useState(!1),[E,v]=F.useState(null),[p,A]=F.useState({title:"",description:"",date:"",time:"",location:"",maxAttendees:"",price:"",category:"workshop",status:"upcoming"}),[B,D]=F.useState({}),[C,U]=F.useState(!1),M=[{id:1,title:"Beard Styling Workshop",description:"Learn professional beard styling techniques from our master barbers",date:"2024-02-15",time:"14:00",location:"Main Shop Floor",maxAttendees:12,currentAttendees:8,price:500,category:"workshop",status:"upcoming",createdAt:"2024-01-10"},{id:2,title:"Grand Opening Celebration",description:"Join us for our grand opening with special discounts and live music",date:"2024-02-20",time:"10:00",location:"Entire Shop",maxAttendees:50,currentAttendees:23,price:0,category:"celebration",status:"upcoming",createdAt:"2024-01-05"},{id:3,title:"Classic Shave Masterclass",description:"Traditional straight razor shaving techniques and safety",date:"2024-01-25",time:"16:00",location:"Training Room",maxAttendees:8,currentAttendees:8,price:750,category:"workshop",status:"completed",createdAt:"2024-01-01"}];F.useEffect(()=>{S()},[]);const S=async()=>{x(!0);try{await new Promise(_=>setTimeout(_,1e3)),o(M)}catch(_){console.error("Error loading events:",_)}finally{x(!1)}},N=()=>{const _={};if(p.title.trim()||(_.title="Event title is required"),p.description.trim()||(_.description="Description is required"),p.date||(_.date="Date is required"),p.time||(_.time="Time is required"),p.location.trim()||(_.location="Location is required"),(!p.maxAttendees||p.maxAttendees<1)&&(_.maxAttendees="Valid max attendees required"),p.price<0&&(_.price="Price cannot be negative"),p.date){const H=new Date(p.date),j=new Date;j.setHours(0,0,0,0),H<j&&(_.date="Event date cannot be in the past")}return D(_),Object.keys(_).length===0},L=async _=>{if(_.preventDefault(),!!N()){U(!0);try{if(await new Promise(H=>setTimeout(H,1500)),E)o(H=>H.map(j=>j.id===E.id?{...j,...p,id:E.id}:j));else{const H={...p,id:Date.now(),currentAttendees:0,createdAt:new Date().toISOString().split("T")[0]};o(j=>[H,...j])}R()}catch(H){console.error("Error saving event:",H)}finally{U(!1)}}},k=_=>{A({title:_.title,description:_.description,date:_.date,time:_.time,location:_.location,maxAttendees:_.maxAttendees.toString(),price:_.price.toString(),category:_.category,status:_.status}),v(_),y(!0)},V=async _=>{if(confirm("Are you sure you want to delete this event?")){x(!0);try{await new Promise(H=>setTimeout(H,500)),o(H=>H.filter(j=>j.id!==_))}catch(H){console.error("Error deleting event:",H)}finally{x(!1)}}},R=()=>{y(!1),v(null),A({title:"",description:"",date:"",time:"",location:"",maxAttendees:"",price:"",category:"workshop",status:"upcoming"}),D({})},T=_=>{switch(_){case"upcoming":return{label:"Upcoming",bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200"};case"ongoing":return{label:"Ongoing",bg:"bg-green-50",text:"text-green-700",border:"border-green-200"};case"completed":return{label:"Completed",bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200"};case"cancelled":return{label:"Cancelled",bg:"bg-red-50",text:"text-red-700",border:"border-red-200"};default:return{label:"Unknown",bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200"}}},z=_=>{switch(_){case"workshop":return"🎓";case"celebration":return"🎉";case"training":return"📚";case"promotion":return"🏷️";default:return"📅"}},$=a.filter(_=>{const H=_.title.toLowerCase().includes(u.toLowerCase())||_.description.toLowerCase().includes(u.toLowerCase()),j=m==="all"||_.status===m;return H&&j}),I={total:a.length,upcoming:a.filter(_=>_.status==="upcoming").length,completed:a.filter(_=>_.status==="completed").length,totalAttendees:a.reduce((_,H)=>_+H.currentAttendees,0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900",children:"Events Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Organize and manage barbershop events and workshops"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>{S(),c?.()},className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(Dt,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[e.jsx(It,{className:"h-4 w-4"}),e.jsx("span",{children:"New Event"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Events"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.total})]}),e.jsx(Re,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Upcoming"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I.upcoming})]}),e.jsx(St,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:I.completed})]}),e.jsx(Re,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Attendees"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:I.totalAttendees})]}),e.jsx(qr,{className:"h-8 w-8 text-purple-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search events...",value:u,onChange:_=>h(_.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yr,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:m,onChange:_=>f(_.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"upcoming",children:"Upcoming"}),e.jsx("option",{value:"ongoing",children:"Ongoing"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})})}),l?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(_=>e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-3"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"})]})},_))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map(_=>{const H=T(_.status),j=_.currentAttendees/_.maxAttendees*100;return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-2xl",children:z(_.category)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:_.title}),e.jsx("p",{className:"text-sm text-gray-500 capitalize",children:_.category})]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${H.bg} ${H.text} ${H.border}`,children:H.label})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:_.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),new Date(_.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(St,{className:"h-4 w-4 mr-2"}),new Date(`1970-01-01T${_.time}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ux,{className:"h-4 w-4 mr-2"}),_.location]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(qr,{className:"h-4 w-4 mr-2"}),_.currentAttendees,"/",_.maxAttendees," attendees"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[e.jsx("span",{children:"Attendance"}),e.jsxs("span",{children:[Math.round(j),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(j,100)}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-lg font-bold text-orange-600",children:_.price===0?"Free":`₱${_.price.toLocaleString()}`}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>k(_),className:"p-2 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Edit Event",children:e.jsx(Vr,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>V(_.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Event",children:e.jsx(pr,{className:"h-4 w-4"})})]})]})]},_.id)})}),$.length===0&&!l&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Re,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No events found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u||m!=="all"?"Try adjusting your search or filter criteria.":"Get started by creating your first event."}),!u&&m==="all"&&e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>y(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:[e.jsx(It,{className:"-ml-1 mr-2 h-4 w-4"}),"New Event"]})})]}),e.jsx(vs,{isOpen:g,onClose:R,title:E?"Edit Event":"Create New Event",size:"lg",children:e.jsxs("form",{onSubmit:L,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title *"}),e.jsx("input",{type:"text",value:p.title,onChange:_=>A(H=>({...H,title:_.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${B.title?"border-red-300":"border-gray-300"}`,placeholder:"Enter event title"}),B.title&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),B.title]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{value:p.description,onChange:_=>A(H=>({...H,description:_.target.value})),rows:3,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${B.description?"border-red-300":"border-gray-300"}`,placeholder:"Describe the event"}),B.description&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),B.description]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),e.jsx("input",{type:"date",value:p.date,onChange:_=>A(H=>({...H,date:_.target.value})),min:new Date().toISOString().split("T")[0],className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${B.date?"border-red-300":"border-gray-300"}`}),B.date&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),B.date]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time *"}),e.jsx("input",{type:"time",value:p.time,onChange:_=>A(H=>({...H,time:_.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${B.time?"border-red-300":"border-gray-300"}`}),B.time&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),B.time]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),e.jsx("input",{type:"text",value:p.location,onChange:_=>A(H=>({...H,location:_.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${B.location?"border-red-300":"border-gray-300"}`,placeholder:"Event location"}),B.location&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),B.location]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Attendees *"}),e.jsx("input",{type:"number",value:p.maxAttendees,onChange:_=>A(H=>({...H,maxAttendees:_.target.value})),min:"1",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${B.maxAttendees?"border-red-300":"border-gray-300"}`,placeholder:"Maximum attendees"}),B.maxAttendees&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),B.maxAttendees]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (₱)"}),e.jsx("input",{type:"number",value:p.price,onChange:_=>A(H=>({...H,price:_.target.value})),min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${B.price?"border-red-300":"border-gray-300"}`,placeholder:"0.00 (Free event)"}),B.price&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),B.price]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:p.category,onChange:_=>A(H=>({...H,category:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"workshop",children:"Workshop"}),e.jsx("option",{value:"celebration",children:"Celebration"}),e.jsx("option",{value:"training",children:"Training"}),e.jsx("option",{value:"promotion",children:"Promotion"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx(xt,{type:"button",variant:"outline",onClick:R,disabled:C,children:"Cancel"}),e.jsx(xt,{type:"submit",disabled:C,className:"bg-orange-500 hover:bg-orange-600",children:C?e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}),E?"Updating...":"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Hr,{className:"w-4 h-4 mr-2"}),E?"Update Event":"Create Event"]})})]})]})})]})},S5=({onRefresh:c})=>{const[a,o]=F.useState([]),[l,x]=F.useState(!1),[u,h]=F.useState(""),[m,f]=F.useState("all"),[g,y]=F.useState("all"),[E,v]=F.useState(!1),[p,A]=F.useState(null),[B,D]=F.useState({name:"",description:"",price:"",cost:"",category:"hair-care",brand:"",sku:"",stock:"",minStock:"",imageUrl:"",status:"active"}),[C,U]=F.useState({}),[M,S]=F.useState(!1),N=[{id:1,name:"Premium Hair Pomade",description:"High-hold, medium-shine pomade for classic styling",price:450,cost:200,category:"hair-care",brand:"TPX Professional",sku:"TPX-POM-001",stock:25,minStock:10,imageUrl:"/api/placeholder/300/300",status:"active",soldThisMonth:15,createdAt:"2024-01-15"},{id:2,name:"Beard Oil - Sandalwood",description:"Nourishing beard oil with sandalwood scent",price:350,cost:150,category:"beard-care",brand:"TPX Professional",sku:"TPX-BO-002",stock:8,minStock:15,imageUrl:"/api/placeholder/300/300",status:"active",soldThisMonth:22,createdAt:"2024-01-10"},{id:3,name:"Professional Scissors",description:"High-quality stainless steel cutting scissors",price:2500,cost:1200,category:"tools",brand:"Jaguar",sku:"JAG-SC-003",stock:5,minStock:3,imageUrl:"/api/placeholder/300/300",status:"active",soldThisMonth:2,createdAt:"2024-01-05"},{id:4,name:"Aftershave Balm",description:"Soothing aftershave balm with aloe vera",price:280,cost:120,category:"shaving",brand:"TPX Professional",sku:"TPX-AB-004",stock:0,minStock:12,imageUrl:"/api/placeholder/300/300",status:"out-of-stock",soldThisMonth:18,createdAt:"2024-01-01"},{id:5,name:"Hair Wax - Strong Hold",description:"Matte finish hair wax for textured styles",price:380,cost:180,category:"hair-care",brand:"TPX Professional",sku:"TPX-WAX-005",stock:32,minStock:8,imageUrl:"/api/placeholder/300/300",status:"active",soldThisMonth:28,createdAt:"2023-12-20"}];F.useEffect(()=>{L()},[]);const L=async()=>{x(!0);try{await new Promise(j=>setTimeout(j,1e3)),o(N)}catch(j){console.error("Error loading products:",j)}finally{x(!1)}},k=()=>{const j={};return B.name.trim()||(j.name="Product name is required"),B.description.trim()||(j.description="Description is required"),(!B.price||B.price<=0)&&(j.price="Valid price is required"),(!B.cost||B.cost<0)&&(j.cost="Valid cost is required"),B.brand.trim()||(j.brand="Brand is required"),B.sku.trim()||(j.sku="SKU is required"),(!B.stock||B.stock<0)&&(j.stock="Valid stock quantity is required"),(!B.minStock||B.minStock<0)&&(j.minStock="Valid minimum stock is required"),B.price&&B.cost&&parseFloat(B.price)<=parseFloat(B.cost)&&(j.price="Price must be higher than cost"),a.find(J=>J.sku.toLowerCase()===B.sku.toLowerCase()&&(!p||J.id!==p.id))&&(j.sku="SKU already exists"),U(j),Object.keys(j).length===0},V=async j=>{if(j.preventDefault(),!!k()){S(!0);try{await new Promise(J=>setTimeout(J,1500));const P={...B,price:parseFloat(B.price),cost:parseFloat(B.cost),stock:parseInt(B.stock),minStock:parseInt(B.minStock)};if(p)o(J=>J.map(ce=>ce.id===p.id?{...ce,...P,id:p.id}:ce));else{const J={...P,id:Date.now(),soldThisMonth:0,createdAt:new Date().toISOString().split("T")[0]};o(ce=>[J,...ce])}z()}catch(P){console.error("Error saving product:",P)}finally{S(!1)}}},R=j=>{D({name:j.name,description:j.description,price:j.price.toString(),cost:j.cost.toString(),category:j.category,brand:j.brand,sku:j.sku,stock:j.stock.toString(),minStock:j.minStock.toString(),imageUrl:j.imageUrl||"",status:j.status}),A(j),v(!0)},T=async j=>{if(confirm("Are you sure you want to delete this product?")){x(!0);try{await new Promise(P=>setTimeout(P,500)),o(P=>P.filter(J=>J.id!==j))}catch(P){console.error("Error deleting product:",P)}finally{x(!1)}}},z=()=>{v(!1),A(null),D({name:"",description:"",price:"",cost:"",category:"hair-care",brand:"",sku:"",stock:"",minStock:"",imageUrl:"",status:"active"}),U({})},$=j=>j.stock===0?{label:"Out of Stock",bg:"bg-red-50",text:"text-red-700",border:"border-red-200"}:j.stock<=j.minStock?{label:"Low Stock",bg:"bg-yellow-50",text:"text-yellow-700",border:"border-yellow-200"}:{label:"In Stock",bg:"bg-green-50",text:"text-green-700",border:"border-green-200"},I=j=>{switch(j){case"hair-care":return"💇";case"beard-care":return"🧔";case"shaving":return"🪒";case"tools":return"✂️";case"accessories":return"🎒";default:return"📦"}},_=a.filter(j=>{const P=j.name.toLowerCase().includes(u.toLowerCase())||j.brand.toLowerCase().includes(u.toLowerCase())||j.sku.toLowerCase().includes(u.toLowerCase()),J=m==="all"||j.category===m,ce=g==="all"||g==="in-stock"&&j.stock>j.minStock||g==="low-stock"&&j.stock>0&&j.stock<=j.minStock||g==="out-of-stock"&&j.stock===0;return P&&J&&ce}),H={total:a.length,inStock:a.filter(j=>j.stock>j.minStock).length,lowStock:a.filter(j=>j.stock>0&&j.stock<=j.minStock).length,outOfStock:a.filter(j=>j.stock===0).length,totalValue:a.reduce((j,P)=>j+P.price*P.stock,0),totalSold:a.reduce((j,P)=>j+P.soldThisMonth,0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900",children:"Products & Inventory"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your barbershop products and track inventory"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>{L(),c?.()},className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(Dt,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[e.jsx(It,{className:"h-4 w-4"}),e.jsx("span",{children:"New Product"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Products"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:H.total})]}),e.jsx(Cx,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"In Stock"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:H.inStock})]}),e.jsx(Ma,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Low Stock"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:H.lowStock})]}),e.jsx(Je,{className:"h-8 w-8 text-yellow-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Out of Stock"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:H.outOfStock})]}),e.jsx(zx,{className:"h-8 w-8 text-red-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Inventory Value"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["₱",H.totalValue.toLocaleString()]})]}),e.jsx(xs,{className:"h-8 w-8 text-purple-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Sold This Month"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:H.totalSold})]}),e.jsx(e6,{className:"h-8 w-8 text-orange-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products...",value:u,onChange:j=>h(j.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yr,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:m,onChange:j=>f(j.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"hair-care",children:"Hair Care"}),e.jsx("option",{value:"beard-care",children:"Beard Care"}),e.jsx("option",{value:"shaving",children:"Shaving"}),e.jsx("option",{value:"tools",children:"Tools"}),e.jsx("option",{value:"accessories",children:"Accessories"})]})]}),e.jsxs("select",{value:g,onChange:j=>y(j.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Stock Levels"}),e.jsx("option",{value:"in-stock",children:"In Stock"}),e.jsx("option",{value:"low-stock",children:"Low Stock"}),e.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})]})})}),l?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[1,2,3,4,5,6,7,8].map(j=>e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"})]})},j))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:_.map(j=>{const P=$(j),J=((j.price-j.cost)/j.price*100).toFixed(1);return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow overflow-hidden",children:[e.jsxs("div",{className:"h-48 bg-gray-100 flex items-center justify-center relative",children:[j.imageUrl?e.jsx("img",{src:j.imageUrl,alt:j.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"text-6xl",children:I(j.category)}),e.jsx("span",{className:`absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-medium border ${P.bg} ${P.text} ${P.border}`,children:P.label})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:j.name}),e.jsx("p",{className:"text-xs text-gray-500",children:j.brand})]})}),e.jsx("p",{className:"text-gray-600 text-xs mb-3 line-clamp-2",children:j.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"SKU:"}),e.jsx("span",{className:"font-mono text-gray-700",children:j.sku})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Stock:"}),e.jsxs("span",{className:`font-semibold ${j.stock===0?"text-red-600":j.stock<=j.minStock?"text-yellow-600":"text-green-600"}`,children:[j.stock," units"]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Sold:"}),e.jsxs("span",{className:"text-gray-700",children:[j.soldThisMonth," this month"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[e.jsx("span",{children:"Stock Level"}),e.jsxs("span",{children:[Math.round(j.stock/(j.minStock*2)*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${j.stock===0?"bg-red-500":j.stock<=j.minStock?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(j.stock/(j.minStock*2)*100,100)}%`}})})]}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-bold text-orange-600",children:["₱",j.price.toLocaleString()]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Cost: ₱",j.cost.toLocaleString()]}),e.jsxs("div",{className:"text-xs text-green-600",children:["+",J,"% margin"]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:j.category.replace("-"," ")}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>R(j),className:"p-2 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Edit Product",children:e.jsx(Vr,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>T(j.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Product",children:e.jsx(pr,{className:"h-4 w-4"})})]})]})]})]},j.id)})}),_.length===0&&!l&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Cx,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No products found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u||m!=="all"||g!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding your first product."}),!u&&m==="all"&&g==="all"&&e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:[e.jsx(It,{className:"-ml-1 mr-2 h-4 w-4"}),"New Product"]})})]}),e.jsx(vs,{isOpen:E,onClose:z,title:p?"Edit Product":"Add New Product",size:"lg",children:e.jsxs("form",{onSubmit:V,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),e.jsx("input",{type:"text",value:B.name,onChange:j=>D(P=>({...P,name:j.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${C.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter product name"}),C.name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),C.name]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{value:B.description,onChange:j=>D(P=>({...P,description:j.target.value})),rows:3,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${C.description?"border-red-300":"border-gray-300"}`,placeholder:"Describe the product"}),C.description&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),C.description]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selling Price (₱) *"}),e.jsx("input",{type:"number",value:B.price,onChange:j=>D(P=>({...P,price:j.target.value})),min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${C.price?"border-red-300":"border-gray-300"}`,placeholder:"0.00"}),C.price&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),C.price]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cost Price (₱) *"}),e.jsx("input",{type:"number",value:B.cost,onChange:j=>D(P=>({...P,cost:j.target.value})),min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${C.cost?"border-red-300":"border-gray-300"}`,placeholder:"0.00"}),C.cost&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),C.cost]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:B.category,onChange:j=>D(P=>({...P,category:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"hair-care",children:"Hair Care"}),e.jsx("option",{value:"beard-care",children:"Beard Care"}),e.jsx("option",{value:"shaving",children:"Shaving"}),e.jsx("option",{value:"tools",children:"Tools"}),e.jsx("option",{value:"accessories",children:"Accessories"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand *"}),e.jsx("input",{type:"text",value:B.brand,onChange:j=>D(P=>({...P,brand:j.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${C.brand?"border-red-300":"border-gray-300"}`,placeholder:"Product brand"}),C.brand&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),C.brand]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU *"}),e.jsx("input",{type:"text",value:B.sku,onChange:j=>D(P=>({...P,sku:j.target.value.toUpperCase()})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent font-mono ${C.sku?"border-red-300":"border-gray-300"}`,placeholder:"PROD-001"}),C.sku&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),C.sku]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Stock *"}),e.jsx("input",{type:"number",value:B.stock,onChange:j=>D(P=>({...P,stock:j.target.value})),min:"0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${C.stock?"border-red-300":"border-gray-300"}`,placeholder:"0"}),C.stock&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),C.stock]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Stock *"}),e.jsx("input",{type:"number",value:B.minStock,onChange:j=>D(P=>({...P,minStock:j.target.value})),min:"0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${C.minStock?"border-red-300":"border-gray-300"}`,placeholder:"0"}),C.minStock&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),C.minStock]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),e.jsx("input",{type:"url",value:B.imageUrl,onChange:j=>D(P=>({...P,imageUrl:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"})]})]}),B.price&&B.cost&&parseFloat(B.price)>parseFloat(B.cost)&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Lx,{className:"h-5 w-5 text-green-600"}),e.jsxs("span",{className:"text-sm font-medium text-green-800",children:["Profit Margin: ",((parseFloat(B.price)-parseFloat(B.cost))/parseFloat(B.price)*100).toFixed(1),"%"]})]}),e.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Profit per unit: ₱",(parseFloat(B.price)-parseFloat(B.cost)).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx(xt,{type:"button",variant:"outline",onClick:z,disabled:M,children:"Cancel"}),e.jsx(xt,{type:"submit",disabled:M,className:"bg-orange-500 hover:bg-orange-600",children:M?e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}),p?"Updating...":"Adding..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Hr,{className:"w-4 h-4 mr-2"}),p?"Update Product":"Add Product"]})})]})]})})]})};class _5{async getNotifications(){try{console.log("NotificationService: Fetching notifications from /notifications/");const a=await he.get("/notifications/");if(console.log("NotificationService: Raw API response:",a),!a)return console.warn("NotificationService: API returned null/undefined data"),[];const o=this.transformNotifications(a);return console.log("NotificationService: Transformed notifications:",o),o}catch(a){throw console.error("NotificationService: Error fetching notifications:",{message:a.message,status:a.status,data:a.data,stack:a.stack}),new Error(a.message||"Failed to load notifications")}}async markAsRead(a){return console.log(`NotificationService: Mark as read not supported by backend API (notification ${a})`),!1}async markAsUnread(a){return console.log(`NotificationService: Mark as unread not supported by backend API (notification ${a})`),!1}async deleteNotification(a){return console.log(`NotificationService: Delete not supported by backend API (notification ${a})`),!1}async markAllAsRead(){return console.log("NotificationService: Mark all as read not supported by backend API"),!1}async getUnreadCount(){try{return(await this.getNotifications()).filter(o=>o.status==="unread").length}catch(a){return console.error("NotificationService: Error getting unread count:",a),0}}transformNotifications(a){return Array.isArray(a)?a.map(o=>({id:o.id,title:o.title,message:o.message,created_at:o.created_at,read:o.read,type:this.inferTypeFromTitle(o.title),status:o.read?"read":"unread",priority:this.inferPriorityFromTitle(o.title),timestamp:o.created_at,actionUrl:null})):(console.warn("NotificationService: Expected array of notifications, got:",typeof a),[])}inferTypeFromTitle(a){if(!a)return"system";const o=a.toLowerCase();return o.includes("booking")||o.includes("appointment")?"booking":o.includes("voucher")||o.includes("payment")?"payment":o.includes("stock")||o.includes("inventory")?"inventory":o.includes("event")||o.includes("workshop")?"event":"system"}inferPriorityFromTitle(a){if(!a)return"low";const o=a.toLowerCase();return o.includes("urgent")||o.includes("critical")||o.includes("emergency")?"high":o.includes("low stock")||o.includes("cancelled")||o.includes("important")?"medium":"low"}async createNotification(a){try{const o=await he.post("/notifications/",a);return this.transformNotifications([o])[0]}catch(o){throw console.error("NotificationService: Error creating notification:",o),new Error("Failed to create notification")}}}const M5=new _5,R5=({onRefresh:c})=>{const[a,o]=F.useState([]),[l,x]=F.useState(!1),[u,h]=F.useState(null),[m,f]=F.useState(""),[g,y]=F.useState("all"),[E,v]=F.useState("all"),[p,A]=F.useState([]);F.useEffect(()=>{B();const T=setInterval(()=>{B()},3e4);return()=>{clearInterval(T)}},[]);const B=async()=>{x(!0),h(null);try{console.log("NotificationsManagement: Starting to load notifications...");const T=await M5.getNotifications();console.log("NotificationsManagement: Received notifications:",T),Array.isArray(T)?(o(T),console.log("NotificationsManagement: Successfully set notifications")):(console.warn("NotificationsManagement: Received non-array notifications:",T),o([]))}catch(T){console.error("NotificationsManagement: Error loading notifications:",{message:T.message,status:T.status,data:T.data,isNetwork:T.isNetwork,original:T.original});let z="Failed to load notifications";T.isNetwork?z="Network error: Unable to connect to the server. Please check your internet connection.":T.status===401?z="Authentication error: Please log in again.":T.status===403?z="Access denied: You do not have permission to view notifications.":T.message&&(z=T.message),h(z)}finally{x(!1)}},D=T=>{switch(T){case"booking":return Re;case"inventory":return d6;case"event":return _a;case"payment":return Ge;case"system":return vx;default:return _a}},C=(T,z)=>{if(z==="high")return{bg:"bg-red-50",border:"border-red-200",icon:"text-red-600",text:"text-red-900"};switch(T){case"booking":return{bg:"bg-blue-50",border:"border-blue-200",icon:"text-blue-600",text:"text-blue-900"};case"inventory":return{bg:"bg-yellow-50",border:"border-yellow-200",icon:"text-yellow-600",text:"text-yellow-900"};case"event":return{bg:"bg-purple-50",border:"border-purple-200",icon:"text-purple-600",text:"text-purple-900"};case"payment":return{bg:"bg-green-50",border:"border-green-200",icon:"text-green-600",text:"text-green-900"};case"system":return{bg:"bg-gray-50",border:"border-gray-200",icon:"text-gray-600",text:"text-gray-900"};default:return{bg:"bg-gray-50",border:"border-gray-200",icon:"text-gray-600",text:"text-gray-900"}}},U=T=>{const z=new Date(T),$=new Date,I=Math.floor(($-z)/(1e3*60*60));return I<1?`${Math.floor(($-z)/6e4)} minutes ago`:I<24?`${I} hours ago`:`${Math.floor(I/24)} days ago`},M=async T=>{try{o(z=>z.map($=>T.includes($.id)?{...$,read:!0}:$)),console.log(`Marked ${T.length} notification(s) as read (UI only - backend doesn't support this yet)`)}catch(z){console.error("Error marking notifications as read:",z),h("Failed to mark notifications as read")}},S=async T=>{try{o(z=>z.map($=>T.includes($.id)?{...$,read:!1}:$)),console.log(`Marked ${T.length} notification(s) as unread (UI only - backend doesn't support this yet)`)}catch(z){console.error("Error marking notifications as unread:",z),h("Failed to mark notifications as unread")}},N=async T=>{if(confirm(`Are you sure you want to delete ${T.length} notification(s)?`))try{o(z=>z.filter($=>!T.includes($.id))),A([]),console.log(`Deleted ${T.length} notification(s)`)}catch(z){console.error("Error deleting notifications:",z),h("Failed to delete notifications")}},L=T=>{A(z=>z.includes(T)?z.filter($=>$!==T):[...z,T])},k=()=>{p.length===V.length?A([]):A(V.map(T=>T.id))},V=a.filter(T=>{const z=T.title.toLowerCase().includes(m.toLowerCase())||T.message.toLowerCase().includes(m.toLowerCase()),$=g==="all"||T.type===g,I=E==="all"||E==="read"&&T.read||E==="unread"&&!T.read;return z&&$&&I}),R={total:a.length,unread:a.filter(T=>!T.read).length,high:a.filter(T=>T.priority==="high").length,today:a.filter(T=>{const z=new Date().toDateString();return new Date(T.created_at).toDateString()===z}).length};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900",children:"Notifications"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Stay updated with important alerts and messages"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:()=>{B(),c?.()},disabled:l,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Dt,{className:`h-4 w-4 ${l?"animate-spin":""}`}),e.jsx("span",{children:l?"Loading...":"Refresh"})]})})]}),u&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:u})]}),e.jsx("button",{onClick:()=>h(null),className:"ml-auto text-red-600 hover:text-red-800",children:e.jsx(vr,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R.total})]}),e.jsx(_a,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Unread"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:R.unread})]}),e.jsx(J2,{className:"h-8 w-8 text-orange-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"High Priority"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:R.high})]}),e.jsx(Je,{className:"h-8 w-8 text-red-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Today"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:R.today})]}),e.jsx(Re,{className:"h-8 w-8 text-green-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search notifications...",value:m,onChange:T=>f(T.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yr,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:g,onChange:T=>y(T.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"booking",children:"Bookings"}),e.jsx("option",{value:"inventory",children:"Inventory"}),e.jsx("option",{value:"event",children:"Events"}),e.jsx("option",{value:"payment",children:"Payments"}),e.jsx("option",{value:"system",children:"System"})]})]}),e.jsxs("select",{value:E,onChange:T=>v(T.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"unread",children:"Unread"}),e.jsx("option",{value:"read",children:"Read"})]})]}),p.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[p.length," selected"]}),e.jsxs("button",{onClick:()=>M(p),className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[e.jsx(Co,{className:"h-3 w-3"}),e.jsx("span",{children:"Mark Read"})]}),e.jsxs("button",{onClick:()=>S(p),className:"flex items-center space-x-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(Jm,{className:"h-3 w-3"}),e.jsx("span",{children:"Mark Unread"})]}),e.jsxs("button",{onClick:()=>N(p),className:"flex items-center space-x-1 px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm",children:[e.jsx(pr,{className:"h-3 w-3"}),e.jsx("span",{children:"Delete"})]})]})]})}),l?e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(T=>e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})]})})},T))}):e.jsxs("div",{className:"space-y-4",children:[V.length>0&&e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-4 py-2 rounded-lg",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:p.length===V.length,onChange:k,className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Select All"})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[V.length," notification(s)"]})]}),V.map(T=>{const z=D(T.type),$=C(T.type,T.priority),I=p.includes(T.id);return e.jsx("div",{className:`bg-white rounded-lg border shadow-sm hover:shadow-md transition-shadow p-6 ${T.read?"border-gray-200":"border-l-4 border-l-orange-500"} ${I?"ring-2 ring-orange-500 ring-opacity-50":""}`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("label",{className:"flex items-center mt-1",children:e.jsx("input",{type:"checkbox",checked:I,onChange:()=>L(T.id),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${$.bg} ${$.border} border`,children:e.jsx(z,{className:`w-5 h-5 ${$.icon}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:`text-base font-semibold ${$.text}`,children:T.title}),!T.read&&e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),T.priority==="high"&&e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full",children:"High Priority"})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:T.message}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[e.jsx("span",{children:U(T.created_at)}),e.jsx("span",{className:"capitalize",children:T.type})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[T.read?e.jsx("button",{onClick:()=>S([T.id]),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Mark as unread (UI only)",children:e.jsx(Jm,{className:"h-4 w-4"})}):e.jsx("button",{onClick:()=>M([T.id]),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Mark as read (UI only)",children:e.jsx(Co,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>N([T.id]),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete notification",children:e.jsx(pr,{className:"h-4 w-4"})})]})]}),T.actionUrl&&e.jsx("div",{className:"mt-3",children:e.jsx("button",{className:"text-orange-600 hover:text-orange-700 text-sm font-medium",children:"View Details →"})})]})]})},T.id)})]}),V.length===0&&!l&&!u&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_a,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No notifications found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:m||g!=="all"||E!=="all"?"Try adjusting your search or filter criteria.":"You're all caught up! No new notifications."}),a.length===0&&e.jsx("button",{onClick:B,className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:"Refresh Notifications"})]}),u&&!l&&a.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Je,{className:"mx-auto h-12 w-12 text-red-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Failed to load notifications"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"There was an error loading your notifications. Please try again."}),e.jsx("button",{onClick:B,className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:"Try Again"})]})]})};class T5{async getAllClients(){try{return(await he.get("/clients/")).map(o=>this.transformClientData(o))}catch(a){throw console.error("Error fetching clients:",a),a}}async getClient(a){try{const o=await he.get(`/clients/${a}/`);return this.transformClientData(o)}catch(o){throw console.error("Error fetching client:",o),o}}transformClientData(a){return{id:a.id,username:a.username,nickname:a.nickname,name:a.nickname||a.username,email:a.email,mobile_number:a.mobile_number,phone:a.mobile_number,birthday:a.birthday,role:a.role,formattedBirthday:this.formatDate(a.birthday),joinedDate:new Date().toISOString().split("T")[0],avatar:this.generateAvatar(a.nickname||a.username),totalBookings:0,totalSpent:0,loyaltyPoints:0,status:"active"}}generateAvatar(a){return`https://ui-avatars.com/api/?name=${encodeURIComponent(a||"Client")}&background=3B82F6&color=fff&size=150`}formatDate(a){return a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}formatPhone(a){return a?a.startsWith("09")&&a.length===11?`${a.slice(0,4)} ${a.slice(4,7)} ${a.slice(7)}`:a:"N/A"}getStatusConfig(a){const o={active:{label:"Active",color:"green",bg:"bg-green-50",text:"text-green-700",border:"border-green-200",iconColor:"text-green-500"},inactive:{label:"Inactive",color:"red",bg:"bg-red-50",text:"text-red-700",border:"border-red-200",iconColor:"text-red-500"}};return o[a]||o.active}filterClients(a,o){if(!o)return a;const l=o.toLowerCase();return a.filter(x=>x.username.toLowerCase().includes(l)||x.nickname&&x.nickname.toLowerCase().includes(l)||x.email.toLowerCase().includes(l)||x.mobile_number.includes(l))}sortClients(a,o){return[...a].sort((l,x)=>{switch(o){case"name":return l.name.localeCompare(x.name);case"email":return l.email.localeCompare(x.email);case"joined":return new Date(x.joinedDate)-new Date(l.joinedDate);case"bookings":return x.totalBookings-l.totalBookings;default:return l.id-x.id}})}}const P5=new T5;function L5(){const{isAuthenticated:c,user:a,loading:o}=Vs(),[l,x]=F.useState("overview"),[u,h]=F.useState({overview:null,customers:null,bookings:null,services:null,vouchers:null,barbers:null,reports:null,events:null,products:null,notifications:null}),[m,f]=F.useState({overview:!1,customers:!1,bookings:!1,services:!1,vouchers:!1,barbers:!1,reports:!1,events:!1,products:!1,notifications:!1}),[g,y]=F.useState({overview:null,customers:null,bookings:null,services:null,vouchers:null,barbers:null,reports:null,events:null,products:null,notifications:null});F.useEffect(()=>{l==="overview"&&B()},[]),F.useEffect(()=>{A(l)},[l]);const E=(P,J)=>{f(ce=>({...ce,[P]:J}))},v=(P,J)=>{y(ce=>({...ce,[P]:J}))},p=(P,J)=>{h(ce=>({...ce,[P]:J}))},A=async P=>{if(console.log("loadTabData called with tab:",P),console.log("Current data state:",u),console.log("Does data[tab] exist?",!!u[P]),console.log("data[tab] value:",u[P]),u[P]&&P!=="overview"){console.log("Data already exists for tab:",P,", skipping reload");return}switch(console.log("Loading data for tab:",P),P){case"overview":console.log("Calling loadOverviewData()"),await B();break;case"vouchers":console.log("Calling loadVouchersData()"),await D();break;case"services":console.log("Calling loadServicesData()"),await C();break;case"bookings":console.log("Calling loadBookingsData()"),await U();break;case"customers":console.log("Calling loadCustomersData()"),await M();break;case"barbers":console.log("Calling loadBarbersData()"),await S();break;case"reports":console.log("Calling loadReportsData()"),await N();break;case"events":console.log("Calling loadEventsData()"),await L();break;case"products":console.log("Calling loadProductsData()"),await k();break;case"notifications":console.log("Calling loadNotificationsData()"),await V();break;default:console.log("Unknown tab:",P)}},B=async()=>{try{E("overview",!0),v("overview",null),console.log("Loading comprehensive overview data from APIs...");const P=await A5.getDashboardOverview();console.log("Overview data loaded successfully:",P),p("overview",{stats:P.stats,recentActivity:P.recentActivity,totals:P.totals})}catch(P){console.error("Error loading overview data:",P),v("overview",`Failed to load overview data: ${P.message}`)}finally{E("overview",!1)}},D=async()=>{try{E("vouchers",!0),v("vouchers",null);const P=await Vn.getAllVouchers();p("vouchers",P.map(J=>({...J,formattedValue:Vn.formatValue(J.value),isExpired:Vn.isExpired(J.expires_at)})))}catch{v("vouchers","Failed to load vouchers data")}finally{E("vouchers",!1)}},C=async()=>{console.log("🚨 loadServicesData called - THIS SHOULD NOT HAPPEN FOR BOOKINGS TAB!"),console.trace("loadServicesData: Call stack trace");try{E("services",!0),v("services",null);const P=await Er.getAllServices();p("services",P.map(J=>({...J,formattedPrice:Er.formatPrice(J.price),formattedDuration:Er.formatDuration(J.duration_minutes)})))}catch{v("services","Failed to load services data")}finally{E("services",!1)}},U=async()=>{console.log("loadBookingsData called - about to fetch bookings");try{E("bookings",!0),v("bookings",null),console.log("Calling bookingsService.getAllBookings()");const P=await Hn.getAllBookings();console.log("Bookings fetched successfully:",P),p("bookings",P)}catch(P){console.error("Bookings error:",P),P.message.includes("database schema")?v("bookings","Bookings API temporarily unavailable (database schema needs update)"):v("bookings",P.message||"Failed to load bookings data")}finally{E("bookings",!1)}},M=async()=>{console.log("loadCustomersData called - fetching clients");try{E("customers",!0),v("customers",null),console.log("Calling clientsService.getAllClients()");const P=await P5.getAllClients();console.log("Clients fetched successfully:",P),p("customers",P)}catch(P){console.error("Customers error:",P),v("customers",P.message||"Failed to load customers data")}finally{E("customers",!1)}},S=async()=>{try{E("barbers",!0),v("barbers",null);const P=await $n.getAllBarbers();p("barbers",P)}catch{v("barbers","Failed to load barbers data")}finally{E("barbers",!1)}},N=async()=>{try{E("reports",!0),v("reports",null),p("reports",{revenue:{current:125430,previous:98750,change:27,trend:"up"},customers:{current:342,previous:298,change:14.8,trend:"up"},bookings:{current:156,previous:142,change:9.9,trend:"up"},vouchers:{current:89,previous:76,change:17.1,trend:"up"}})}catch{v("reports","Failed to load reports data")}finally{E("reports",!1)}},L=async()=>{try{E("events",!0),v("events",null),p("events",[{id:1,title:"Beard Styling Workshop",date:"2024-02-15",time:"14:00",attendees:8,maxAttendees:12,status:"upcoming"},{id:2,title:"Grand Opening Celebration",date:"2024-02-20",time:"10:00",attendees:25,maxAttendees:50,status:"upcoming"},{id:3,title:"Hair Care Seminar",date:"2024-02-10",time:"16:00",attendees:15,maxAttendees:20,status:"completed"}])}catch{v("events","Failed to load events data")}finally{E("events",!1)}},k=async()=>{try{E("products",!0),v("products",null),p("products",[{id:1,name:"Hair Pomade",category:"Hair Care",price:"₱450",stock:25,sales:15},{id:2,name:"Beard Oil",category:"Beard Care",price:"₱350",stock:18,sales:12},{id:3,name:"Hair Wax",category:"Hair Care",price:"₱380",stock:30,sales:20}])}catch{v("products","Failed to load products data")}finally{E("products",!1)}},V=async()=>{try{E("notifications",!0),v("notifications",null),p("notifications",[{id:1,title:"New Booking",message:"John Doe booked a haircut for tomorrow",type:"booking",read:!1,createdAt:"2024-01-15T10:30:00Z"},{id:2,title:"Payment Received",message:"Payment of ₱500 received from Jane Smith",type:"payment",read:!0,createdAt:"2024-01-15T09:15:00Z"},{id:3,title:"Staff Schedule",message:"Reminder: Staff meeting at 3 PM today",type:"reminder",read:!1,createdAt:"2024-01-15T08:00:00Z"}])}catch{v("notifications","Failed to load notifications data")}finally{E("notifications",!1)}},R=[{id:"overview",label:"Overview",icon:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586l-2 2V5H5v14h7v2H4a1 1 0 01-1-1V4z"},{id:"customers",label:"Customers",icon:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},{id:"bookings",label:"Bookings",icon:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"},{id:"services",label:"Services",icon:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"},{id:"vouchers",label:"Vouchers",icon:"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"},{id:"barbers",label:"Barbers",icon:"M16 11c1.66 0 3-1.34 3-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 3-1.34 3-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5C18 14.17 13.33 13 11 13zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h4v-2.5c0-2.33-4.67-3.5-7-3.5z"},{id:"reports",label:"Reports",icon:"M3 3v18h18v-2H5V3H3zm4 14h2v-6H7v6zm4 0h2V9h-2v8zm4 0h2v-4h-2v4z"},{id:"events",label:"Events",icon:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"},{id:"products",label:"Products",icon:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"},{id:"notifications",label:"Notifications",icon:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}],T=async P=>{try{return console.log("New customer added:",P),u.overview&&await B(),u.customers&&await M(),{success:!0,data:P}}catch(J){return console.error("Error handling new customer:",J),{success:!1,error:J.message}}},z=async P=>{try{return console.log("New booking created:",P),u.overview&&await B(),u.bookings&&await U(),{success:!0,data:P}}catch(J){return console.error("Error handling new booking:",J),{success:!1,error:J.message}}},$=async P=>{try{const J=await Vn.createVoucher(P);return console.log("New voucher created:",J),await D(),{success:!0,data:J}}catch(J){return console.error("Error creating voucher:",J),{success:!1,error:J.message}}},I=async(P,J)=>{try{const ce=await Vn.redeemVoucher(P,J);return console.log("Voucher redeemed:",ce),await D(),{success:!0,data:ce}}catch(ce){return console.error("Error redeeming voucher:",ce),{success:!1,error:ce.message}}},_=async P=>{try{return console.log("Booking scanned:",P),u.bookings&&await U(),{success:!0,data:P}}catch(J){return console.error("Error processing booking check-in:",J),{success:!1,error:J.message}}},H=()=>{localStorage.removeItem("userToken"),sessionStorage.clear(),console.log("User logged out - redirecting to login..."),window.location.href="/auth/login"},j=()=>{const P=m[l],J=g[l],ce=u[l];return P?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-[#FF8C42]"}),e.jsxs("div",{className:"ml-4 text-[#6B6B6B] text-lg",children:["Loading ",l," data..."]})]}),l==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(O=>e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-[#F5F5F5]",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-3"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})},O))}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-[#F5F5F5]",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(O=>e.jsxs("div",{className:"animate-pulse flex items-center space-x-4",children:[e.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})]},O))})]})]}),(l==="customers"||l==="vouchers"||l==="bookings"||l==="services"||l==="barbers"||l==="reports")&&e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-[#F5F5F5]",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded w-32"})]}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(O=>e.jsxs("div",{className:"flex items-center space-x-4 py-3 border-b border-gray-100",children:[e.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})]})]},O))})]})})]}):J?e.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-red-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("h3",{className:"text-lg font-semibold text-[#1A1A1A] mb-2",children:["Failed to Load ",l.charAt(0).toUpperCase()+l.slice(1)]}),e.jsx("p",{className:"text-[#6B6B6B] mb-6 max-w-md mx-auto",children:J}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("button",{onClick:()=>A(l),className:"px-6 py-2 bg-[#FF8C42] text-white rounded-xl hover:bg-[#FF7A2B] transition-colors",children:"Try Again"}),e.jsx("button",{onClick:()=>x("overview"),className:"px-6 py-2 border-2 border-[#F5F5F5] text-[#6B6B6B] rounded-xl hover:border-[#FF8C42] hover:text-[#FF8C42] transition-colors",children:"Go to Overview"})]})]})}):ce?l==="overview"?e.jsxs("div",{className:"space-y-8",children:[e.jsx(t5,{stats:ce.stats}),e.jsx(s5,{activities:ce.recentActivity})]}):l==="vouchers"?e.jsx(p5,{vouchers:ce,onRefresh:D}):l==="services"?e.jsx(F5,{services:ce,onRefresh:C}):l==="bookings"?e.jsx(j5,{bookings:ce,onRefresh:U}):l==="barbers"?e.jsx(w5,{barbers:ce,onRefresh:S}):l==="customers"?e.jsx(D5,{customers:ce,onRefresh:M}):l==="reports"?e.jsx(N5,{onRefresh:N}):l==="events"?e.jsx(k5,{onRefresh:L}):l==="products"?e.jsx(S5,{onRefresh:k}):l==="notifications"?e.jsx(R5,{onRefresh:V}):e.jsx(a5,{activeTab:l,data:ce,onCreateBooking:z,onCreateVoucher:$,onVoucherScanned:I,onRefresh:()=>A(l)}):null};return console.log("Staff Dashboard - Auth State:",{authLoading:o,isAuthenticated:c,user:a,userIsStaff:a?.is_staff}),o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#F5F5F5] to-white flex items-center justify-center",children:e.jsx("div",{className:"text-gray-500",children:"Loading authentication..."})}):!c||!a?.is_staff?(console.log("Redirecting to login - Not authenticated or not staff:",{isAuthenticated:c,isStaff:a?.is_staff}),window.location.href="/auth/login",null):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#F5F5F5] to-white",children:[e.jsx(F6,{onLogout:H}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"space-y-12",children:[e.jsx(e5,{onAddCustomer:T,onCreateBooking:z,onCreateVoucher:$,onVoucherScanned:I,onBookingScanned:_}),e.jsx(r5,{tabs:R,activeTab:l,onTabChange:x}),e.jsx("div",{className:"bg-white rounded-3xl shadow-2xl border-2 border-[#F5F5F5] p-10 backdrop-blur-sm",children:j()})]})})]})}class O5{constructor(){this.pendingRequests=new Map}async getUserBookings(){try{const a=Ve.getUserId();if(!a)throw new Error("User not authenticated");const o=`user-bookings-${a}`,l=Le.get(o);if(l)return l;if(this.pendingRequests.has(o))return this.pendingRequests.get(o);const x=this._fetchUserBookings(a,o);return this.pendingRequests.set(o,x),x}catch(a){throw console.error("Error fetching user bookings:",a),new Error("Failed to load your bookings. Please try again.")}}async _fetchUserBookings(a,o){try{const l=await he.get("/bookings/my/",{timeout:3e4}),u=(Array.isArray(l)?l:[]).map(h=>this.transformBookingData(h));return Le.set(o,u),this.pendingRequests.delete(o),u}catch(l){throw this.pendingRequests.delete(o),l}}async getServices(){try{const a="services",o=yt.get(a);if(o)return o;if(this.pendingRequests.has(a))return this.pendingRequests.get(a);const l=this._fetchServices(a);return this.pendingRequests.set(a,l),l}catch(a){throw console.error("Error fetching services:",a),new Error("Failed to load services. Please try again.")}}async _fetchServices(a){try{const o=await he.get("/services/",{timeout:3e4}),x=(Array.isArray(o)?o:[]).map(u=>this.transformServiceData(u));return yt.set(a,x),this.pendingRequests.delete(a),x}catch(o){throw this.pendingRequests.delete(a),o}}async getBarbers(){try{const a="active-barbers",o=yt.get(a);if(o)return o;if(this.pendingRequests.has(a))return this.pendingRequests.get(a);const l=this._fetchBarbers(a);return this.pendingRequests.set(a,l),l}catch(a){throw console.error("Error fetching barbers:",a),new Error("Failed to load barbers. Please try again.")}}async _fetchBarbers(a){try{const o=await he.get("/barbers/",{timeout:3e4}),x=(Array.isArray(o)?o:[]).filter(u=>u.is_active).map(u=>this.transformBarberData(u));return yt.set(a,x),this.pendingRequests.delete(a),x}catch(o){throw this.pendingRequests.delete(a),o}}async getBarbersByService(a){try{const o=`barbers-service-${a}`,l=yt.get(o);if(l)return l;const u=(await this.getBarbers()).filter(h=>h.services&&h.services.includes(a));return yt.set(o,u),u}catch(o){throw console.error("Error fetching barbers for service:",o),new Error("Failed to load barbers for this service. Please try again.")}}async getBookingData(){try{const[a,o]=await Promise.allSettled([this.getServices(),this.getBarbers()]);return{services:a.status==="fulfilled"?a.value:[],barbers:o.status==="fulfilled"?o.value:[],servicesError:a.status==="rejected"?a.reason:null,barbersError:o.status==="rejected"?o.reason:null}}catch(a){return console.error("Error fetching booking data:",a),{services:[],barbers:[],servicesError:a,barbersError:a}}}async createBooking(a){let l=0,x=null;const u=this.validateBookingData(a);if(u.length>0)return{success:!1,error:u.join(", ")};const h=this.transformBookingToAPI(a);for(;l<3;){l++;try{const m=await he.post("/bookings/",h,{timeout:45e3}),f=Ve.getUserId();return f&&Le.delete(`user-bookings-${f}`),{success:!0,data:this.transformBookingData(m)}}catch(m){if(x=m,!(m?.code==="ECONNABORTED"||m?.code==="NETWORK_ERROR"||m?.status>=500)||l>=3){if(m.response?.data){const g=m.response.data;if(typeof g=="object"&&!Array.isArray(g))return g.non_field_errors&&Array.isArray(g.non_field_errors)?{success:!1,error:g.non_field_errors.join(". ")}:{success:!1,error:Object.entries(g).map(([E,v])=>{const p=Array.isArray(v)?v:[v];return E==="non_field_errors"?p.join(". "):`${E}: ${p.join(", ")}`}).join("; ")}}return{success:!1,error:m?.message||"Failed to create booking"}}await new Promise(g=>setTimeout(g,1e3*Math.pow(2,l-1)))}}return{success:!1,error:x?.message||"Booking creation failed after multiple attempts"}}async updateBooking(a,o){try{const l=this.transformBookingToAPI(o,!0),x=await he.patch(`/bookings/${a}/`,l,{timeout:3e4}),u=Ve.getUserId();return u&&Le.delete(`user-bookings-${u}`),{success:!0,data:this.transformBookingData(x)}}catch(l){if(console.error("Error updating booking:",l),l.response?.data){const x=l.response.data;if(typeof x=="object"&&!Array.isArray(x))return{success:!1,error:Object.entries(x).map(([h,m])=>`${h}: ${Array.isArray(m)?m.join(", "):m}`).join("; ")}}return{success:!1,error:l?.message||"Failed to update booking"}}}async cancelBooking(a){try{await he.delete(`/bookings/${a}/`,{timeout:3e4});const o=Ve.getUserId();return o&&Le.delete(`user-bookings-${o}`),{success:!0}}catch(o){if(console.error("Error cancelling booking:",o),o?.status===404)return{success:!1,error:"Booking not found. It may have already been cancelled or does not exist."};if(o?.status===403)return{success:!1,error:"You do not have permission to cancel this booking."};if(o?.status===400)return{success:!1,error:"This booking cannot be cancelled. It may already be completed or cancelled."};if(o.response?.data){const l=o.response.data;if(typeof l=="object"&&!Array.isArray(l))return{success:!1,error:Object.entries(l).map(([u,h])=>`${u}: ${Array.isArray(h)?h.join(", "):h}`).join("; ")}}return{success:!1,error:o?.message||"Failed to cancel booking. Please try again."}}}getStatusConfig(a){switch(a){case"confirmed":return{label:"Confirmed",color:"text-green-600",bgColor:"bg-green-100",borderColor:"border-green-200"};case"cancelled":return{label:"Cancelled",color:"text-red-600",bgColor:"bg-red-100",borderColor:"border-red-200"};case"booked":return{label:"Booked",color:"text-blue-600",bgColor:"bg-blue-100",borderColor:"border-blue-200"};case"pending":return{label:"Pending",color:"text-yellow-600",bgColor:"bg-yellow-100",borderColor:"border-yellow-200"};default:return{label:"Booked",color:"text-blue-600",bgColor:"bg-blue-100",borderColor:"border-blue-200"}}}formatBookingDate(a){return new Date(a).toLocaleDateString("en-PH")}formatBookingTime(a){return new Date(`2000-01-01T${a}`).toLocaleTimeString("en-PH",{hour:"numeric",minute:"2-digit",hour12:!0})}transformBookingData(a){const o=a.status||"booked";return{id:a.id,booking_code:a.booking_code,service:a.service,service_name:a.service_name||"Unknown Service",barber:a.barber,barber_name:a.barber_name||"Any Barber",date:a.date,time:a.time,status:o,created_at:a.created_at,updated_at:a.updated_at,displayDate:this.formatBookingDate(a.date),displayTime:this.formatBookingTime(a.time),statusConfig:this.getStatusConfig(o),isPast:new Date(a.date)<new Date,canCancel:o==="booked"||o==="pending"||o==="confirmed",canReschedule:o==="booked"||o==="pending"||o==="confirmed"}}transformServiceData(a){return{id:a.id,name:a.name,description:a.description||"",price:a.price,duration:a.duration,is_active:a.is_active,displayPrice:this.formatPrice(a.price),displayDuration:this.formatDuration(a.duration),category:a.category||"General"}}transformBarberData(a){return{id:a.id,user:a.user,full_name:a.full_name,name:a.full_name,is_active:a.is_active,services:a.services||[],avatar:this.generateAvatar(a.full_name),specialties:this.mapServicesToSpecialties(a.services),rating:4.5,experience:"5+ years"}}transformBookingToAPI(a,o=!1){const l={};return(a.service||a.service_id)&&(l.service=a.service||a.service_id),(a.barber||a.barber_id)&&(l.barber=a.barber||a.barber_id),a.date&&(l.date=a.date),a.time&&(l.time=a.time),a.status&&(l.status=a.status),l}validateBookingData(a){const o=[];if(!a.service&&!a.service_id&&o.push("Service is required"),!a.date)o.push("Date is required");else{const l=new Date(a.date),x=new Date;x.setHours(0,0,0,0),l<x&&o.push("Booking date cannot be in the past")}return a.time||o.push("Time is required"),o}formatPrice(a){return`₱${parseFloat(a).toFixed(2)}`}formatDuration(a){if(a>=60){const o=Math.floor(a/60),l=a%60;return l>0?`${o}h ${l}m`:`${o}h`}return`${a}m`}generateAvatar(a){return a.split(" ").map(o=>o.charAt(0)).join("").toUpperCase().slice(0,2),`https://ui-avatars.com/api/?name=${encodeURIComponent(a)}&background=random&color=fff&size=40&format=svg&bold=true`}mapServicesToSpecialties(a){const o={1:"Hair Cut",2:"Beard Styling",3:"Hot Towel Shave",4:"Hair Coloring",5:"Fade Cuts"};return a.map(l=>o[l]||"General Styling")}clearUserCache(a=null){const o=a||Ve.getUserId();o&&Le.delete(`user-bookings-${o}`)}clearAllCache(){yt.clear(),Le.clear(),this.pendingRequests.clear()}}const Xt=new O5,U5=({onBack:c})=>{const{user:a,isAuthenticated:o}=Vs(),[l,x]=F.useState([]),[u,h]=F.useState([]),[m,f]=F.useState(null),[g,y]=F.useState(new Date().toISOString().split("T")[0]),[E,v]=F.useState(null),[p,A]=F.useState(null),[B,D]=F.useState(1),[C,U]=F.useState(!0),[M,S]=F.useState(!1),[N,L]=F.useState(null),[k,V]=F.useState(null),[R,T]=F.useState(!0),[z,$]=F.useState(!1),[I,_]=F.useState(null),H=F.useRef(null);F.useEffect(()=>{o&&a&&j()},[o,a]),F.useEffect(()=>{B===4&&T(!0)},[B]),F.useEffect(()=>{if(B===4&&k?.id){console.log("Step 4 reached with booking ID:",k.id,"booking code:",k.booking_code);const ae=(ct=0)=>{if(H.current){console.log("Canvas found, generating QR code");const at=JSON.stringify({bookingId:k.id,bookingCode:k.booking_code||`BK-${k.id}`,service:m?.name,time:k.time,barber:p?.full_name||p?.name||"Any Barber",date:k.date,barbershop:"TPX Barbershop"});kt.toCanvas(H.current,at,{width:192,margin:2,color:{dark:"#36454F",light:"#ffffff"},errorCorrectionLevel:"H"},Qe=>{Qe?console.error("QR Code generation error:",Qe):console.log("QR Code generated successfully"),T(!1)})}else ct<5?(console.log(`Canvas ref not available, retrying... (${ct+1}/5)`),setTimeout(()=>ae(ct+1),200)):(console.error("Canvas ref still not available after 5 retries"),T(!1))},Ae=setTimeout(()=>ae(),100);return()=>clearTimeout(Ae)}},[B,k?.id,k?.booking_code,m,p]);const j=async()=>{try{U(!0),L(null);const[ae,Ae]=await Promise.all([Xt.getServices(),Xt.getBarbers()]);x(ae),h(Ae)}catch(ae){console.error("Error loading booking data:",ae),L("Failed to load services and barbers")}finally{U(!1)}},J=(()=>{const ae=[];for(let at=9;at<18;at++)for(let Qe=0;Qe<60;Qe+=30){const tt=`${at.toString().padStart(2,"0")}:${Qe.toString().padStart(2,"0")}`,_t=new Date(`2000-01-01T${tt}`).toLocaleTimeString("en-PH",{hour:"numeric",minute:"2-digit",hour12:!0}),dt=Math.random()>.3;ae.push({time:tt,displayTime:_t,available:dt})}return ae})(),ce=()=>{if(!m)return u;const ae=u.filter(Ae=>Ae.services&&Array.isArray(Ae.services)&&Ae.services.includes(m.id));return console.log(`Found ${ae.length} barbers for service ${m.name} (ID: ${m.id})`),ae},O=ae=>{const Ae=ae?.toLowerCase()||"";return Ae.includes("haircut")||Ae.includes("cut")?"💇‍♂️":Ae.includes("beard")?"🧔":Ae.includes("shave")?"🪒":Ae.includes("wash")?"🧴":Ae.includes("package")||Ae.includes("complete")?"⭐":"✂️"},Z=async(ae="pay_later",Ae=null)=>{if(!m||!g||!E){alert("Please fill in all booking details");return}try{S(!0);const ct=E.includes(":")?`${E}:00`:E,at={service:m.id,barber:p?.id||null,date:g,time:ct,payment_type:ae,payment_method:Ae};console.log("Creating booking with data:",at);const Qe=await Xt.createBooking(at);if(Qe.success)V(Qe.data),D(4),ae==="pay_now"&&setTimeout(()=>{alert(`Payment via ${Ae?.toUpperCase()} will be processed. (Demo mode - no actual payment)`)},1e3);else{const tt=Qe.error||"Failed to create booking";tt.includes("does not offer the service")?alert("⚠️ The selected barber doesn't provide this service. Please choose a different barber or service."):alert(`❌ ${tt}`)}}catch(ct){console.error("Error creating booking:",ct),alert("Failed to create booking. Please try again.")}finally{S(!1)}},ie=ae=>{f(ae),A(null),D(2)},xe=ae=>{A(ae)},G=async(ae="pay_later",Ae=null)=>{await Z(ae,Ae)},ue=()=>e.jsx("div",{className:"flex justify-center mb-4 px-4 py-2",children:e.jsx("div",{className:"flex items-center space-x-3",children:[1,2,3].map(ae=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${B>=ae?"text-white shadow-md":"text-gray-500"}`,style:{backgroundColor:B>=ae?"#F68B24":"#E0E0E0"},children:B>ae?"✓":ae}),ae<3&&e.jsx("div",{className:"w-8 h-0.5 mx-1 rounded transition-all duration-300",style:{backgroundColor:B>ae?"#F68B24":"#E0E0E0"}})]},ae))})}),Q=()=>C?e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#F68B24",opacity:.1},children:e.jsx(Re,{className:"w-8 h-8",style:{color:"#F68B24"}})}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Loading services..."})]}):N?e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#dc3545",opacity:.1},children:e.jsx(Ie,{className:"w-8 h-8 text-red-500"})}),e.jsx("p",{className:"text-sm text-red-600 mb-4",children:N}),e.jsx("button",{onClick:j,className:"px-4 py-2 bg-orange-500 text-white rounded-lg font-medium hover:bg-orange-600 transition-colors",children:"Try Again"})]}):e.jsxs("div",{className:"space-y-3 px-4",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("h2",{className:"text-xl font-bold mb-1",style:{color:"#36454F"},children:"Choose Your Service"}),e.jsx("p",{className:"text-sm font-medium",style:{color:"#8B8B8B"},children:"Select from our premium grooming services"})]}),e.jsx("div",{className:"space-y-2",children:l.map(ae=>e.jsx("button",{onClick:()=>ie(ae),className:"w-full bg-white rounded-xl p-4 border hover:shadow-md transition-all duration-200 text-left group",style:{borderColor:"#E0E0E0"},onMouseEnter:Ae=>Ae.target.style.borderColor="#F68B24",onMouseLeave:Ae=>Ae.target.style.borderColor="#E0E0E0",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-2xl",children:O(ae.name)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h3",{className:"text-base font-bold transition-colors duration-200 truncate",style:{color:"#36454F"},children:ae.name}),e.jsxs("div",{className:"text-right ml-2",children:[e.jsxs("div",{className:"text-lg font-bold",style:{color:"#F68B24"},children:["₱",parseFloat(ae.price||0).toLocaleString()]}),e.jsx("div",{className:"text-xs font-medium",style:{color:"#8B8B8B"},children:ae.duration_minutes?`${ae.duration_minutes} min`:"Duration varies"})]})]}),e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold",style:{backgroundColor:"#F68B24",color:"white"},children:"Service"})}),e.jsx("p",{className:"text-xs font-medium leading-relaxed",style:{color:"#8B8B8B"},children:ae.description||"Professional grooming service"})]})]})},ae.id))})]}),de=()=>e.jsxs("div",{className:"space-y-3 px-4",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("h2",{className:"text-xl font-bold mb-1",style:{color:"#36454F"},children:"Select Time & Barber"}),e.jsx("p",{className:"text-sm font-medium",style:{color:"#8B8B8B"},children:"Choose your preferred time and barber"})]}),e.jsx("div",{className:"bg-white rounded-xl p-3 border shadow-sm",style:{borderColor:"#E0E0E0"},children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-xl",children:m?.image}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-bold",style:{color:"#36454F"},children:m?.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsxs("span",{className:"font-bold",style:{color:"#F68B24"},children:["₱",m?.price.toLocaleString()]}),e.jsx("span",{className:"font-medium",style:{color:"#8B8B8B"},children:m?.duration})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border shadow-sm",style:{borderColor:"#E0E0E0"},children:[e.jsx("h3",{className:"text-base font-bold mb-3",style:{color:"#36454F"},children:"Available Times - Today"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:J.slice(0,9).map(ae=>e.jsx("button",{onClick:()=>ae.available&&v(ae.time),disabled:!ae.available,className:"p-2 rounded-lg font-semibold text-center transition-all duration-200 border text-sm",style:{backgroundColor:ae.available?E===ae.time?"#F68B24":"#F5F5F5":"#F0F0F0",color:ae.available?E===ae.time?"white":"#36454F":"#CCCCCC",borderColor:ae.available&&E===ae.time?"#F68B24":"transparent",cursor:ae.available?"pointer":"not-allowed"},children:ae.time},ae.time))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border shadow-sm",style:{borderColor:"#E0E0E0"},children:[e.jsx("h3",{className:"text-base font-bold mb-3",style:{color:"#36454F"},children:"Choose Your Barber"}),e.jsx("div",{className:"space-y-2",children:ce().length>0?ce().map(ae=>e.jsx("button",{onClick:()=>xe(ae),className:"w-full p-3 rounded-lg border transition-all duration-200 text-left hover:shadow-md",style:{borderColor:p?.id===ae.id?"#F68B24":"#E0E0E0",backgroundColor:p?.id===ae.id?"rgba(246, 139, 36, 0.1)":"white",borderWidth:"2px"},onMouseEnter:Ae=>{p?.id!==ae.id&&(Ae.target.style.borderColor="#F68B24",Ae.target.style.backgroundColor="rgba(246, 139, 36, 0.05)")},onMouseLeave:Ae=>{p?.id!==ae.id&&(Ae.target.style.borderColor="#E0E0E0",Ae.target.style.backgroundColor="white")},children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-xl",children:"👨‍💼"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-sm",style:{color:"#36454F"},children:ae.full_name||ae.name||"Professional Barber"}),e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Professional Barber"}),e.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[e.jsx("div",{className:"flex text-yellow-400 text-xs",children:"★★★★★"}),e.jsx("span",{className:"text-xs",style:{color:"#8B8B8B"},children:"5.0"})]})]}),p?.id===ae.id&&e.jsx("div",{className:"text-orange-500",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})},ae.id)):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"text-4xl mb-2",children:"⚠️"}),e.jsxs("p",{className:"text-sm font-medium",style:{color:"#F68B24"},children:['No barbers available for "',m?.name,'"']}),e.jsx("p",{className:"text-xs mt-1",style:{color:"#8B8B8B"},children:"This service may not be offered by our current staff"}),e.jsx("button",{onClick:()=>D(1),className:"mt-3 px-4 py-2 bg-orange-500 text-white text-xs font-medium rounded-lg hover:bg-orange-600 transition-colors",children:"Choose Different Service"})]})})]}),E&&p&&e.jsx("button",{onClick:()=>D(3),className:"w-full py-3 text-white font-bold rounded-xl transition-all duration-200 shadow-lg",style:{backgroundColor:"#F68B24"},onMouseEnter:ae=>ae.target.style.backgroundColor="#E67E22",onMouseLeave:ae=>ae.target.style.backgroundColor="#F68B24",children:"Continue to Confirmation"})]}),me=()=>e.jsxs("div",{className:"space-y-3 px-4",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("h2",{className:"text-xl font-bold mb-1",style:{color:"#36454F"},children:"Confirm Your Booking"}),e.jsx("p",{className:"text-sm font-medium",style:{color:"#8B8B8B"},children:"Please review your appointment details"})]}),e.jsx("div",{className:"bg-white rounded-xl p-4 border shadow-lg",style:{borderColor:"#E0E0E0"},children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center border-b pb-3",style:{borderColor:"#E0E0E0"},children:[e.jsx("div",{className:"text-2xl mb-2",children:m?.image}),e.jsx("h3",{className:"text-lg font-bold mb-1",style:{color:"#36454F"},children:m?.name}),e.jsxs("div",{className:"flex justify-center items-center space-x-3",children:[e.jsxs("span",{className:"font-bold text-base",style:{color:"#F68B24"},children:["₱",m?.price.toLocaleString()]}),e.jsx("span",{className:"font-medium text-sm",style:{color:"#8B8B8B"},children:m?.duration})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Re,{className:"w-4 h-4",style:{color:"#F68B24"}}),e.jsx("span",{className:"font-semibold text-sm",style:{color:"#36454F"},children:"Date & Time"})]}),e.jsxs("span",{className:"font-bold text-sm",style:{color:"#36454F"},children:["Today, ",E]})]}),e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"w-4 h-4",style:{color:"#F68B24"}}),e.jsx("span",{className:"font-semibold text-sm",style:{color:"#36454F"},children:"Your Barber"})]}),e.jsx("span",{className:"font-bold text-sm",style:{color:"#36454F"},children:p?.full_name||p?.name||"Any Barber"})]})]}),e.jsxs("div",{className:"border-t pt-3",style:{borderColor:"#E0E0E0"},children:[e.jsx("h4",{className:"text-sm font-bold mb-3",style:{color:"#36454F"},children:"Complete Your Booking"}),z?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("h5",{className:"text-sm font-bold mb-2",style:{color:"#36454F"},children:"Select Payment Method"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>_("gcash"),className:`w-full p-3 rounded-lg border-2 transition-all duration-200 flex items-center space-x-3 ${I==="gcash"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"G"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-bold text-sm",style:{color:"#36454F"},children:"GCash"}),e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Digital wallet payment"})]})]},"gcash"),e.jsxs("button",{onClick:()=>_("maya"),className:`w-full p-3 rounded-lg border-2 transition-all duration-200 flex items-center space-x-3 ${I==="maya"?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"M"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-bold text-sm",style:{color:"#36454F"},children:"Maya"}),e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Digital wallet payment"})]})]},"maya"),e.jsxs("button",{onClick:()=>_("card"),className:`w-full p-3 rounded-lg border-2 transition-all duration-200 flex items-center space-x-3 ${I==="card"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[e.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"💳"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-bold text-sm",style:{color:"#36454F"},children:"Credit/Debit Card"}),e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Visa, Mastercard, etc."})]})]},"card")]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{$(!1),_(null)},className:"flex-1 py-2 px-3 border font-bold rounded-lg transition-all duration-200 text-sm",style:{borderColor:"#E0E0E0",color:"#8B8B8B"},onMouseEnter:ae=>{ae.target.style.backgroundColor="#F5F5F5",ae.target.style.color="#36454F"},onMouseLeave:ae=>{ae.target.style.backgroundColor="transparent",ae.target.style.color="#8B8B8B"},children:"Back"}),e.jsx("button",{onClick:()=>G("pay_now",I),disabled:!I||M,className:`flex-1 py-2 px-3 text-white font-bold rounded-lg transition-all duration-200 shadow-lg text-sm ${!I||M?"opacity-75 cursor-not-allowed":""}`,style:{backgroundColor:!I||M?"#CCCCCC":"#22C55E"},onMouseEnter:ae=>!I||M||(ae.target.style.backgroundColor="#16A34A"),onMouseLeave:ae=>!I||M||(ae.target.style.backgroundColor="#22C55E"),children:M?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),e.jsx("span",{children:"Processing..."})]}):"Confirm & Pay"})]})]}):e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>$(!0),disabled:M,className:`py-3 px-4 bg-green-500 text-white font-bold rounded-lg transition-all duration-200 text-sm flex items-center justify-center space-x-2 ${M?"opacity-75 cursor-not-allowed":""}`,onMouseEnter:ae=>!M&&(ae.target.style.backgroundColor="#16A34A"),onMouseLeave:ae=>!M&&(ae.target.style.backgroundColor="#22C55E"),children:[e.jsx("span",{children:"💳"}),e.jsx("span",{children:"Pay Now"})]}),e.jsx("button",{onClick:()=>G("pay_later"),disabled:M,className:`py-3 px-4 border-2 font-bold rounded-lg transition-all duration-200 text-sm flex items-center justify-center space-x-2 ${M?"opacity-75 cursor-not-allowed":""}`,style:{borderColor:"#F68B24",color:M?"#CCCCCC":"#F68B24"},onMouseEnter:ae=>!M&&(ae.target.style.backgroundColor="#F68B24",ae.target.style.color="white"),onMouseLeave:ae=>!M&&(ae.target.style.backgroundColor="transparent",ae.target.style.color="#F68B24"),children:M?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full"}),e.jsx("span",{children:"Booking..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"🏪"}),e.jsx("span",{children:"Pay Later"})]})})]}),!z&&e.jsx("p",{className:"text-xs text-center mb-3",style:{color:"#8B8B8B"},children:"Choose your preferred payment option to complete booking"})]}),!z&&e.jsx("div",{className:"pt-2",children:e.jsx("button",{onClick:()=>D(2),className:"w-full py-2 px-3 border font-bold rounded-lg transition-all duration-200 text-sm",style:{borderColor:"#E0E0E0",color:"#8B8B8B"},onMouseEnter:ae=>{ae.target.style.backgroundColor="#F5F5F5",ae.target.style.color="#36454F"},onMouseLeave:ae=>{ae.target.style.backgroundColor="transparent",ae.target.style.color="#8B8B8B"},children:"← Go Back to Edit Details"})})]})})]}),be=()=>e.jsxs("div",{className:"space-y-6 px-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 shadow-xl",style:{backgroundColor:"#F68B24"},children:e.jsx(Ge,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-2xl font-black mb-2",style:{color:"#36454F"},children:"Booking Confirmed!"}),e.jsx("p",{className:"font-medium",style:{color:"#8B8B8B"},children:"Your appointment has been successfully booked"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 border-2 shadow-lg text-center",style:{borderColor:"#E0E0E0"},children:[e.jsx("h3",{className:"text-lg font-black mb-4",style:{color:"#36454F"},children:"Your Booking QR Code"}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-4 bg-white rounded-2xl border-2 shadow-sm",style:{borderColor:"#E0E0E0"},children:e.jsxs("div",{className:"relative w-48 h-48",children:[R&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white z-10",children:e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-3 border-orange-500 border-t-transparent rounded-full mx-auto"}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Generating QR Code..."})]})}),e.jsx("canvas",{ref:H,className:"rounded-xl w-full h-full",style:{display:R?"none":"block"}})]})})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("p",{className:"text-lg font-black",style:{color:"#36454F"},children:["Booking ID: ",k?.booking_code||"Loading..."]}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Show this QR code when you arrive"})]})]}),e.jsx("div",{className:"rounded-2xl p-6 border",style:{backgroundColor:"rgba(246, 139, 36, 0.05)",borderColor:"rgba(246, 139, 36, 0.2)"},children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:"Service:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:m?.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:"Date & Time:"}),e.jsxs("span",{className:"font-bold",style:{color:"#36454F"},children:[k?.date?new Date(k.date).toLocaleDateString():"Today",", ",k?.time||E]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:"Barber:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:p?.full_name||p?.name||"Any Barber"})]}),e.jsxs("div",{className:"flex justify-between border-t pt-3",style:{borderColor:"rgba(246, 139, 36, 0.2)"},children:[e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:"Total:"}),e.jsxs("span",{className:"font-black text-lg",style:{color:"#F68B24"},children:["₱",m?.price.toLocaleString()]})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:c,className:"w-full py-4 text-white font-bold rounded-2xl transition-all duration-200 shadow-lg",style:{backgroundColor:"#F68B24"},onMouseEnter:ae=>ae.target.style.backgroundColor="#E67E22",onMouseLeave:ae=>ae.target.style.backgroundColor="#F68B24",children:"Back to Home"}),e.jsx("button",{onClick:()=>{c&&c("bookings")},className:"w-full py-3 border-2 font-bold rounded-2xl transition-all duration-200",style:{borderColor:"#F68B24",color:"#F68B24"},onMouseEnter:ae=>{ae.target.style.backgroundColor="#F68B24",ae.target.style.color="white"},onMouseLeave:ae=>{ae.target.style.backgroundColor="transparent",ae.target.style.color="#F68B24"},children:"View My Bookings"})]})]});return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsx("div",{style:{backgroundColor:"#36454F"},className:"sticky top-0 z-40 shadow-lg",children:e.jsx("div",{className:"max-w-md mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-3 py-2 text-white font-semibold rounded-xl hover:bg-white/10 transition-all duration-200",style:{color:"#F4F0E6"},children:[e.jsx(Fo,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Back"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold",style:{color:"#F4F0E6"},children:"Book Service"}),e.jsxs("p",{className:"text-xs",style:{color:"#F68B24"},children:["Step ",B," of 3"]})]})]})})}),ue(),e.jsxs("div",{className:"pb-8",children:[B===1&&Q(),B===2&&de(),B===3&&me(),B===4&&be()]})]})};var po={exports:{}},z5=po.exports,_h;function V5(){return _h||(_h=1,function(c,a){(function(l,x){c.exports=x()})(typeof self<"u"?self:z5,function(){return function(o){var l={};function x(u){if(l[u])return l[u].exports;var h=l[u]={i:u,l:!1,exports:{}};return o[u].call(h.exports,h,h.exports,x),h.l=!0,h.exports}return x.m=o,x.c=l,x.d=function(u,h,m){x.o(u,h)||Object.defineProperty(u,h,{configurable:!1,enumerable:!0,get:m})},x.n=function(u){var h=u&&u.__esModule?function(){return u.default}:function(){return u};return x.d(h,"a",h),h},x.o=function(u,h){return Object.prototype.hasOwnProperty.call(u,h)},x.p="",x(x.s=3)}([function(o,l,x){Object.defineProperty(l,"__esModule",{value:!0});var u=function(){function h(m,f){this.width=f,this.height=m.length/f,this.data=m}return h.createEmpty=function(m,f){return new h(new Uint8ClampedArray(m*f),m)},h.prototype.get=function(m,f){return m<0||m>=this.width||f<0||f>=this.height?!1:!!this.data[f*this.width+m]},h.prototype.set=function(m,f,g){this.data[f*this.width+m]=g?1:0},h.prototype.setRegion=function(m,f,g,y,E){for(var v=f;v<f+y;v++)for(var p=m;p<m+g;p++)this.set(p,v,!!E)},h}();l.BitMatrix=u},function(o,l,x){Object.defineProperty(l,"__esModule",{value:!0});var u=x(2);function h(f,g){return f^g}l.addOrSubtractGF=h;var m=function(){function f(g,y,E){this.primitive=g,this.size=y,this.generatorBase=E,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var v=1,p=0;p<this.size;p++)this.expTable[p]=v,v=v*2,v>=this.size&&(v=(v^this.primitive)&this.size-1);for(var p=0;p<this.size-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new u.default(this,Uint8ClampedArray.from([0])),this.one=new u.default(this,Uint8ClampedArray.from([1]))}return f.prototype.multiply=function(g,y){return g===0||y===0?0:this.expTable[(this.logTable[g]+this.logTable[y])%(this.size-1)]},f.prototype.inverse=function(g){if(g===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[g]-1]},f.prototype.buildMonomial=function(g,y){if(g<0)throw new Error("Invalid monomial degree less than 0");if(y===0)return this.zero;var E=new Uint8ClampedArray(g+1);return E[0]=y,new u.default(this,E)},f.prototype.log=function(g){if(g===0)throw new Error("Can't take log(0)");return this.logTable[g]},f.prototype.exp=function(g){return this.expTable[g]},f}();l.default=m},function(o,l,x){Object.defineProperty(l,"__esModule",{value:!0});var u=x(1),h=function(){function m(f,g){if(g.length===0)throw new Error("No coefficients.");this.field=f;var y=g.length;if(y>1&&g[0]===0){for(var E=1;E<y&&g[E]===0;)E++;if(E===y)this.coefficients=f.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(y-E);for(var v=0;v<this.coefficients.length;v++)this.coefficients[v]=g[E+v]}}else this.coefficients=g}return m.prototype.degree=function(){return this.coefficients.length-1},m.prototype.isZero=function(){return this.coefficients[0]===0},m.prototype.getCoefficient=function(f){return this.coefficients[this.coefficients.length-1-f]},m.prototype.addOrSubtract=function(f){var g;if(this.isZero())return f;if(f.isZero())return this;var y=this.coefficients,E=f.coefficients;y.length>E.length&&(g=[E,y],y=g[0],E=g[1]);for(var v=new Uint8ClampedArray(E.length),p=E.length-y.length,A=0;A<p;A++)v[A]=E[A];for(var A=p;A<E.length;A++)v[A]=u.addOrSubtractGF(y[A-p],E[A]);return new m(this.field,v)},m.prototype.multiply=function(f){if(f===0)return this.field.zero;if(f===1)return this;for(var g=this.coefficients.length,y=new Uint8ClampedArray(g),E=0;E<g;E++)y[E]=this.field.multiply(this.coefficients[E],f);return new m(this.field,y)},m.prototype.multiplyPoly=function(f){if(this.isZero()||f.isZero())return this.field.zero;for(var g=this.coefficients,y=g.length,E=f.coefficients,v=E.length,p=new Uint8ClampedArray(y+v-1),A=0;A<y;A++)for(var B=g[A],D=0;D<v;D++)p[A+D]=u.addOrSubtractGF(p[A+D],this.field.multiply(B,E[D]));return new m(this.field,p)},m.prototype.multiplyByMonomial=function(f,g){if(f<0)throw new Error("Invalid degree less than 0");if(g===0)return this.field.zero;for(var y=this.coefficients.length,E=new Uint8ClampedArray(y+f),v=0;v<y;v++)E[v]=this.field.multiply(this.coefficients[v],g);return new m(this.field,E)},m.prototype.evaluateAt=function(f){var g=0;if(f===0)return this.getCoefficient(0);var y=this.coefficients.length;if(f===1)return this.coefficients.forEach(function(v){g=u.addOrSubtractGF(g,v)}),g;g=this.coefficients[0];for(var E=1;E<y;E++)g=u.addOrSubtractGF(this.field.multiply(f,g),this.coefficients[E]);return g},m}();l.default=h},function(o,l,x){Object.defineProperty(l,"__esModule",{value:!0});var u=x(4),h=x(5),m=x(11),f=x(12);function g(v){var p=f.locate(v);if(!p)return null;for(var A=0,B=p;A<B.length;A++){var D=B[A],C=m.extract(v,D),U=h.decode(C.matrix);if(U)return{binaryData:U.bytes,data:U.text,chunks:U.chunks,version:U.version,location:{topRightCorner:C.mappingFunction(D.dimension,0),topLeftCorner:C.mappingFunction(0,0),bottomRightCorner:C.mappingFunction(D.dimension,D.dimension),bottomLeftCorner:C.mappingFunction(0,D.dimension),topRightFinderPattern:D.topRight,topLeftFinderPattern:D.topLeft,bottomLeftFinderPattern:D.bottomLeft,bottomRightAlignmentPattern:D.alignmentPattern}}}return null}var y={inversionAttempts:"attemptBoth"};function E(v,p,A,B){B===void 0&&(B={});var D=y;Object.keys(D||{}).forEach(function(k){D[k]=B[k]||D[k]});var C=D.inversionAttempts==="attemptBoth"||D.inversionAttempts==="invertFirst",U=D.inversionAttempts==="onlyInvert"||D.inversionAttempts==="invertFirst",M=u.binarize(v,p,A,C),S=M.binarized,N=M.inverted,L=g(U?N:S);return!L&&(D.inversionAttempts==="attemptBoth"||D.inversionAttempts==="invertFirst")&&(L=g(U?S:N)),L}E.default=E,l.default=E},function(o,l,x){Object.defineProperty(l,"__esModule",{value:!0});var u=x(0),h=8,m=24;function f(E,v,p){return E<v?v:E>p?p:E}var g=function(){function E(v,p){this.width=v,this.data=new Uint8ClampedArray(v*p)}return E.prototype.get=function(v,p){return this.data[p*this.width+v]},E.prototype.set=function(v,p,A){this.data[p*this.width+v]=A},E}();function y(E,v,p,A){if(E.length!==v*p*4)throw new Error("Malformed data passed to binarizer.");for(var B=new g(v,p),D=0;D<v;D++)for(var C=0;C<p;C++){var U=E[(C*v+D)*4+0],M=E[(C*v+D)*4+1],S=E[(C*v+D)*4+2];B.set(D,C,.2126*U+.7152*M+.0722*S)}for(var N=Math.ceil(v/h),L=Math.ceil(p/h),k=new g(N,L),V=0;V<L;V++)for(var R=0;R<N;R++){for(var T=0,z=1/0,$=0,C=0;C<h;C++)for(var D=0;D<h;D++){var I=B.get(R*h+D,V*h+C);T+=I,z=Math.min(z,I),$=Math.max($,I)}var _=T/Math.pow(h,2);if($-z<=m&&(_=z/2,V>0&&R>0)){var H=(k.get(R,V-1)+2*k.get(R-1,V)+k.get(R-1,V-1))/4;z<H&&(_=H)}k.set(R,V,_)}var j=u.BitMatrix.createEmpty(v,p),P=null;A&&(P=u.BitMatrix.createEmpty(v,p));for(var V=0;V<L;V++)for(var R=0;R<N;R++){for(var J=f(R,2,N-3),ce=f(V,2,L-3),T=0,O=-2;O<=2;O++)for(var Z=-2;Z<=2;Z++)T+=k.get(J+O,ce+Z);for(var ie=T/25,O=0;O<h;O++)for(var Z=0;Z<h;Z++){var D=R*h+O,C=V*h+Z,xe=B.get(D,C);j.set(D,C,xe<=ie),A&&P.set(D,C,!(xe<=ie))}}return A?{binarized:j,inverted:P}:{binarized:j}}l.binarize=y},function(o,l,x){Object.defineProperty(l,"__esModule",{value:!0});var u=x(0),h=x(6),m=x(9),f=x(10);function g(S,N){for(var L=S^N,k=0;L;)k++,L&=L-1;return k}function y(S,N){return N<<1|S}var E=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],v=[function(S){return(S.y+S.x)%2===0},function(S){return S.y%2===0},function(S){return S.x%3===0},function(S){return(S.y+S.x)%3===0},function(S){return(Math.floor(S.y/2)+Math.floor(S.x/3))%2===0},function(S){return S.x*S.y%2+S.x*S.y%3===0},function(S){return(S.y*S.x%2+S.y*S.x%3)%2===0},function(S){return((S.y+S.x)%2+S.y*S.x%3)%2===0}];function p(S){var N=17+4*S.versionNumber,L=u.BitMatrix.createEmpty(N,N);L.setRegion(0,0,9,9,!0),L.setRegion(N-8,0,8,9,!0),L.setRegion(0,N-8,9,8,!0);for(var k=0,V=S.alignmentPatternCenters;k<V.length;k++)for(var R=V[k],T=0,z=S.alignmentPatternCenters;T<z.length;T++){var $=z[T];R===6&&$===6||R===6&&$===N-7||R===N-7&&$===6||L.setRegion(R-2,$-2,5,5,!0)}return L.setRegion(6,9,1,N-17,!0),L.setRegion(9,6,N-17,1,!0),S.versionNumber>6&&(L.setRegion(N-11,0,3,6,!0),L.setRegion(0,N-11,6,3,!0)),L}function A(S,N,L){for(var k=v[L.dataMask],V=S.height,R=p(N),T=[],z=0,$=0,I=!0,_=V-1;_>0;_-=2){_===6&&_--;for(var H=0;H<V;H++)for(var j=I?V-1-H:H,P=0;P<2;P++){var J=_-P;if(!R.get(J,j)){$++;var ce=S.get(J,j);k({y:j,x:J})&&(ce=!ce),z=y(ce,z),$===8&&(T.push(z),$=0,z=0)}}I=!I}return T}function B(S){var N=S.height,L=Math.floor((N-17)/4);if(L<=6)return f.VERSIONS[L-1];for(var k=0,V=5;V>=0;V--)for(var R=N-9;R>=N-11;R--)k=y(S.get(R,V),k);for(var T=0,R=5;R>=0;R--)for(var V=N-9;V>=N-11;V--)T=y(S.get(R,V),T);for(var z=1/0,$,I=0,_=f.VERSIONS;I<_.length;I++){var H=_[I];if(H.infoBits===k||H.infoBits===T)return H;var j=g(k,H.infoBits);j<z&&($=H,z=j),j=g(T,H.infoBits),j<z&&($=H,z=j)}if(z<=3)return $}function D(S){for(var N=0,L=0;L<=8;L++)L!==6&&(N=y(S.get(L,8),N));for(var k=7;k>=0;k--)k!==6&&(N=y(S.get(8,k),N));for(var V=S.height,R=0,k=V-1;k>=V-7;k--)R=y(S.get(8,k),R);for(var L=V-8;L<V;L++)R=y(S.get(L,8),R);for(var T=1/0,z=null,$=0,I=E;$<I.length;$++){var _=I[$],H=_.bits,j=_.formatInfo;if(H===N||H===R)return j;var P=g(N,H);P<T&&(z=j,T=P),N!==R&&(P=g(R,H),P<T&&(z=j,T=P))}return T<=3?z:null}function C(S,N,L){var k=N.errorCorrectionLevels[L],V=[],R=0;if(k.ecBlocks.forEach(function(ce){for(var O=0;O<ce.numBlocks;O++)V.push({numDataCodewords:ce.dataCodewordsPerBlock,codewords:[]}),R+=ce.dataCodewordsPerBlock+k.ecCodewordsPerBlock}),S.length<R)return null;S=S.slice(0,R);for(var T=k.ecBlocks[0].dataCodewordsPerBlock,z=0;z<T;z++)for(var $=0,I=V;$<I.length;$++){var _=I[$];_.codewords.push(S.shift())}if(k.ecBlocks.length>1)for(var H=k.ecBlocks[0].numBlocks,j=k.ecBlocks[1].numBlocks,z=0;z<j;z++)V[H+z].codewords.push(S.shift());for(;S.length>0;)for(var P=0,J=V;P<J.length;P++){var _=J[P];_.codewords.push(S.shift())}return V}function U(S){var N=B(S);if(!N)return null;var L=D(S);if(!L)return null;var k=A(S,N,L),V=C(k,N,L.errorCorrectionLevel);if(!V)return null;for(var R=V.reduce(function(P,J){return P+J.numDataCodewords},0),T=new Uint8ClampedArray(R),z=0,$=0,I=V;$<I.length;$++){var _=I[$],H=m.decode(_.codewords,_.codewords.length-_.numDataCodewords);if(!H)return null;for(var j=0;j<_.numDataCodewords;j++)T[z++]=H[j]}try{return h.decode(T,N.versionNumber)}catch{return null}}function M(S){if(S==null)return null;var N=U(S);if(N)return N;for(var L=0;L<S.width;L++)for(var k=L+1;k<S.height;k++)S.get(L,k)!==S.get(k,L)&&(S.set(L,k,!S.get(L,k)),S.set(k,L,!S.get(k,L)));return U(S)}l.decode=M},function(o,l,x){Object.defineProperty(l,"__esModule",{value:!0});var u=x(7),h=x(8),m;(function(B){B.Numeric="numeric",B.Alphanumeric="alphanumeric",B.Byte="byte",B.Kanji="kanji",B.ECI="eci"})(m=l.Mode||(l.Mode={}));var f;(function(B){B[B.Terminator=0]="Terminator",B[B.Numeric=1]="Numeric",B[B.Alphanumeric=2]="Alphanumeric",B[B.Byte=4]="Byte",B[B.Kanji=8]="Kanji",B[B.ECI=7]="ECI"})(f||(f={}));function g(B,D){for(var C=[],U="",M=[10,12,14][D],S=B.readBits(M);S>=3;){var N=B.readBits(10);if(N>=1e3)throw new Error("Invalid numeric value above 999");var L=Math.floor(N/100),k=Math.floor(N/10)%10,V=N%10;C.push(48+L,48+k,48+V),U+=L.toString()+k.toString()+V.toString(),S-=3}if(S===2){var N=B.readBits(7);if(N>=100)throw new Error("Invalid numeric value above 99");var L=Math.floor(N/10),k=N%10;C.push(48+L,48+k),U+=L.toString()+k.toString()}else if(S===1){var N=B.readBits(4);if(N>=10)throw new Error("Invalid numeric value above 9");C.push(48+N),U+=N.toString()}return{bytes:C,text:U}}var y=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function E(B,D){for(var C=[],U="",M=[9,11,13][D],S=B.readBits(M);S>=2;){var N=B.readBits(11),L=Math.floor(N/45),k=N%45;C.push(y[L].charCodeAt(0),y[k].charCodeAt(0)),U+=y[L]+y[k],S-=2}if(S===1){var L=B.readBits(6);C.push(y[L].charCodeAt(0)),U+=y[L]}return{bytes:C,text:U}}function v(B,D){for(var C=[],U="",M=[8,16,16][D],S=B.readBits(M),N=0;N<S;N++){var L=B.readBits(8);C.push(L)}try{U+=decodeURIComponent(C.map(function(k){return"%"+("0"+k.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:C,text:U}}function p(B,D){for(var C=[],U="",M=[8,10,12][D],S=B.readBits(M),N=0;N<S;N++){var L=B.readBits(13),k=Math.floor(L/192)<<8|L%192;k<7936?k+=33088:k+=49472,C.push(k>>8,k&255),U+=String.fromCharCode(h.shiftJISTable[k])}return{bytes:C,text:U}}function A(B,D){for(var C,U,M,S,N=new u.BitStream(B),L=D<=9?0:D<=26?1:2,k={text:"",bytes:[],chunks:[],version:D};N.available()>=4;){var V=N.readBits(4);if(V===f.Terminator)return k;if(V===f.ECI)N.readBits(1)===0?k.chunks.push({type:m.ECI,assignmentNumber:N.readBits(7)}):N.readBits(1)===0?k.chunks.push({type:m.ECI,assignmentNumber:N.readBits(14)}):N.readBits(1)===0?k.chunks.push({type:m.ECI,assignmentNumber:N.readBits(21)}):k.chunks.push({type:m.ECI,assignmentNumber:-1});else if(V===f.Numeric){var R=g(N,L);k.text+=R.text,(C=k.bytes).push.apply(C,R.bytes),k.chunks.push({type:m.Numeric,text:R.text})}else if(V===f.Alphanumeric){var T=E(N,L);k.text+=T.text,(U=k.bytes).push.apply(U,T.bytes),k.chunks.push({type:m.Alphanumeric,text:T.text})}else if(V===f.Byte){var z=v(N,L);k.text+=z.text,(M=k.bytes).push.apply(M,z.bytes),k.chunks.push({type:m.Byte,bytes:z.bytes,text:z.text})}else if(V===f.Kanji){var $=p(N,L);k.text+=$.text,(S=k.bytes).push.apply(S,$.bytes),k.chunks.push({type:m.Kanji,bytes:$.bytes,text:$.text})}}if(N.available()===0||N.readBits(N.available())===0)return k}l.decode=A},function(o,l,x){Object.defineProperty(l,"__esModule",{value:!0});var u=function(){function h(m){this.byteOffset=0,this.bitOffset=0,this.bytes=m}return h.prototype.readBits=function(m){if(m<1||m>32||m>this.available())throw new Error("Cannot read "+m.toString()+" bits");var f=0;if(this.bitOffset>0){var g=8-this.bitOffset,y=m<g?m:g,E=g-y,v=255>>8-y<<E;f=(this.bytes[this.byteOffset]&v)>>E,m-=y,this.bitOffset+=y,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(m>0){for(;m>=8;)f=f<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,m-=8;if(m>0){var E=8-m,v=255>>E<<E;f=f<<m|(this.bytes[this.byteOffset]&v)>>E,this.bitOffset+=m}}return f},h.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},h}();l.BitStream=u},function(o,l,x){Object.defineProperty(l,"__esModule",{value:!0}),l.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(o,l,x){Object.defineProperty(l,"__esModule",{value:!0});var u=x(1),h=x(2);function m(E,v,p,A){var B;v.degree()<p.degree()&&(B=[p,v],v=B[0],p=B[1]);for(var D=v,C=p,U=E.zero,M=E.one;C.degree()>=A/2;){var S=D,N=U;if(D=C,U=M,D.isZero())return null;C=S;for(var L=E.zero,k=D.getCoefficient(D.degree()),V=E.inverse(k);C.degree()>=D.degree()&&!C.isZero();){var R=C.degree()-D.degree(),T=E.multiply(C.getCoefficient(C.degree()),V);L=L.addOrSubtract(E.buildMonomial(R,T)),C=C.addOrSubtract(D.multiplyByMonomial(R,T))}if(M=L.multiplyPoly(U).addOrSubtract(N),C.degree()>=D.degree())return null}var z=M.getCoefficient(0);if(z===0)return null;var $=E.inverse(z);return[M.multiply($),C.multiply($)]}function f(E,v){var p=v.degree();if(p===1)return[v.getCoefficient(1)];for(var A=new Array(p),B=0,D=1;D<E.size&&B<p;D++)v.evaluateAt(D)===0&&(A[B]=E.inverse(D),B++);return B!==p?null:A}function g(E,v,p){for(var A=p.length,B=new Array(A),D=0;D<A;D++){for(var C=E.inverse(p[D]),U=1,M=0;M<A;M++)D!==M&&(U=E.multiply(U,u.addOrSubtractGF(1,E.multiply(p[M],C))));B[D]=E.multiply(v.evaluateAt(C),E.inverse(U)),E.generatorBase!==0&&(B[D]=E.multiply(B[D],C))}return B}function y(E,v){var p=new Uint8ClampedArray(E.length);p.set(E);for(var A=new u.default(285,256,0),B=new h.default(A,p),D=new Uint8ClampedArray(v),C=!1,U=0;U<v;U++){var M=B.evaluateAt(A.exp(U+A.generatorBase));D[D.length-1-U]=M,M!==0&&(C=!0)}if(!C)return p;var S=new h.default(A,D),N=m(A,A.buildMonomial(v,1),S,v);if(N===null)return null;var L=f(A,N[0]);if(L==null)return null;for(var k=g(A,N[1],L),V=0;V<L.length;V++){var R=p.length-1-A.log(L[V]);if(R<0)return null;p[R]=u.addOrSubtractGF(p[R],k[V])}return p}l.decode=y},function(o,l,x){Object.defineProperty(l,"__esModule",{value:!0}),l.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(o,l,x){Object.defineProperty(l,"__esModule",{value:!0});var u=x(0);function h(y,E,v,p){var A=y.x-E.x+v.x-p.x,B=y.y-E.y+v.y-p.y;if(A===0&&B===0)return{a11:E.x-y.x,a12:E.y-y.y,a13:0,a21:v.x-E.x,a22:v.y-E.y,a23:0,a31:y.x,a32:y.y,a33:1};var D=E.x-v.x,C=p.x-v.x,U=E.y-v.y,M=p.y-v.y,S=D*M-C*U,N=(A*M-C*B)/S,L=(D*B-A*U)/S;return{a11:E.x-y.x+N*E.x,a12:E.y-y.y+N*E.y,a13:N,a21:p.x-y.x+L*p.x,a22:p.y-y.y+L*p.y,a23:L,a31:y.x,a32:y.y,a33:1}}function m(y,E,v,p){var A=h(y,E,v,p);return{a11:A.a22*A.a33-A.a23*A.a32,a12:A.a13*A.a32-A.a12*A.a33,a13:A.a12*A.a23-A.a13*A.a22,a21:A.a23*A.a31-A.a21*A.a33,a22:A.a11*A.a33-A.a13*A.a31,a23:A.a13*A.a21-A.a11*A.a23,a31:A.a21*A.a32-A.a22*A.a31,a32:A.a12*A.a31-A.a11*A.a32,a33:A.a11*A.a22-A.a12*A.a21}}function f(y,E){return{a11:y.a11*E.a11+y.a21*E.a12+y.a31*E.a13,a12:y.a12*E.a11+y.a22*E.a12+y.a32*E.a13,a13:y.a13*E.a11+y.a23*E.a12+y.a33*E.a13,a21:y.a11*E.a21+y.a21*E.a22+y.a31*E.a23,a22:y.a12*E.a21+y.a22*E.a22+y.a32*E.a23,a23:y.a13*E.a21+y.a23*E.a22+y.a33*E.a23,a31:y.a11*E.a31+y.a21*E.a32+y.a31*E.a33,a32:y.a12*E.a31+y.a22*E.a32+y.a32*E.a33,a33:y.a13*E.a31+y.a23*E.a32+y.a33*E.a33}}function g(y,E){for(var v=m({x:3.5,y:3.5},{x:E.dimension-3.5,y:3.5},{x:E.dimension-6.5,y:E.dimension-6.5},{x:3.5,y:E.dimension-3.5}),p=h(E.topLeft,E.topRight,E.alignmentPattern,E.bottomLeft),A=f(p,v),B=u.BitMatrix.createEmpty(E.dimension,E.dimension),D=function(L,k){var V=A.a13*L+A.a23*k+A.a33;return{x:(A.a11*L+A.a21*k+A.a31)/V,y:(A.a12*L+A.a22*k+A.a32)/V}},C=0;C<E.dimension;C++)for(var U=0;U<E.dimension;U++){var M=U+.5,S=C+.5,N=D(M,S);B.set(U,C,y.get(Math.floor(N.x),Math.floor(N.y)))}return{matrix:B,mappingFunction:D}}l.extract=g},function(o,l,x){Object.defineProperty(l,"__esModule",{value:!0});var u=4,h=.5,m=1.5,f=function(M,S){return Math.sqrt(Math.pow(S.x-M.x,2)+Math.pow(S.y-M.y,2))};function g(M){return M.reduce(function(S,N){return S+N})}function y(M,S,N){var L,k,V,R,T=f(M,S),z=f(S,N),$=f(M,N),I,_,H;return z>=T&&z>=$?(L=[S,M,N],I=L[0],_=L[1],H=L[2]):$>=z&&$>=T?(k=[M,S,N],I=k[0],_=k[1],H=k[2]):(V=[M,N,S],I=V[0],_=V[1],H=V[2]),(H.x-_.x)*(I.y-_.y)-(H.y-_.y)*(I.x-_.x)<0&&(R=[H,I],I=R[0],H=R[1]),{bottomLeft:I,topLeft:_,topRight:H}}function E(M,S,N,L){var k=(g(p(M,N,L,5))/7+g(p(M,S,L,5))/7+g(p(N,M,L,5))/7+g(p(S,M,L,5))/7)/4;if(k<1)throw new Error("Invalid module size");var V=Math.round(f(M,S)/k),R=Math.round(f(M,N)/k),T=Math.floor((V+R)/2)+7;switch(T%4){case 0:T++;break;case 2:T--;break}return{dimension:T,moduleSize:k}}function v(M,S,N,L){var k=[{x:Math.floor(M.x),y:Math.floor(M.y)}],V=Math.abs(S.y-M.y)>Math.abs(S.x-M.x),R,T,z,$;V?(R=Math.floor(M.y),T=Math.floor(M.x),z=Math.floor(S.y),$=Math.floor(S.x)):(R=Math.floor(M.x),T=Math.floor(M.y),z=Math.floor(S.x),$=Math.floor(S.y));for(var I=Math.abs(z-R),_=Math.abs($-T),H=Math.floor(-I/2),j=R<z?1:-1,P=T<$?1:-1,J=!0,ce=R,O=T;ce!==z+j;ce+=j){var Z=V?O:ce,ie=V?ce:O;if(N.get(Z,ie)!==J&&(J=!J,k.push({x:Z,y:ie}),k.length===L+1))break;if(H+=_,H>0){if(O===$)break;O+=P,H-=I}}for(var xe=[],G=0;G<L;G++)k[G]&&k[G+1]?xe.push(f(k[G],k[G+1])):xe.push(0);return xe}function p(M,S,N,L){var k,V=S.y-M.y,R=S.x-M.x,T=v(M,S,N,Math.ceil(L/2)),z=v(M,{x:M.x-R,y:M.y-V},N,Math.ceil(L/2)),$=T.shift()+z.shift()-1;return(k=z.concat($)).concat.apply(k,T)}function A(M,S){var N=g(M)/g(S),L=0;return S.forEach(function(k,V){L+=Math.pow(M[V]-k*N,2)}),{averageSize:N,error:L}}function B(M,S,N){try{var L=p(M,{x:-1,y:M.y},N,S.length),k=p(M,{x:M.x,y:-1},N,S.length),V={x:Math.max(0,M.x-M.y)-1,y:Math.max(0,M.y-M.x)-1},R=p(M,V,N,S.length),T={x:Math.min(N.width,M.x+M.y)+1,y:Math.min(N.height,M.y+M.x)+1},z=p(M,T,N,S.length),$=A(L,S),I=A(k,S),_=A(R,S),H=A(z,S),j=Math.sqrt($.error*$.error+I.error*I.error+_.error*_.error+H.error*H.error),P=($.averageSize+I.averageSize+_.averageSize+H.averageSize)/4,J=(Math.pow($.averageSize-P,2)+Math.pow(I.averageSize-P,2)+Math.pow(_.averageSize-P,2)+Math.pow(H.averageSize-P,2))/P;return j+J}catch{return 1/0}}function D(M,S){for(var N=Math.round(S.x);M.get(N,Math.round(S.y));)N--;for(var L=Math.round(S.x);M.get(L,Math.round(S.y));)L++;for(var k=(N+L)/2,V=Math.round(S.y);M.get(Math.round(k),V);)V--;for(var R=Math.round(S.y);M.get(Math.round(k),R);)R++;var T=(V+R)/2;return{x:k,y:T}}function C(M){for(var S=[],N=[],L=[],k=[],V=function(Z){for(var ie=0,xe=!1,G=[0,0,0,0,0],ue=function(de){var me=M.get(de,Z);if(me===xe)ie++;else{G=[G[1],G[2],G[3],G[4],ie],ie=1,xe=me;var be=g(G)/7,ae=Math.abs(G[0]-be)<be&&Math.abs(G[1]-be)<be&&Math.abs(G[2]-3*be)<3*be&&Math.abs(G[3]-be)<be&&Math.abs(G[4]-be)<be&&!me,Ae=g(G.slice(-3))/3,ct=Math.abs(G[2]-Ae)<Ae&&Math.abs(G[3]-Ae)<Ae&&Math.abs(G[4]-Ae)<Ae&&me;if(ae){var at=de-G[3]-G[4],Qe=at-G[2],tt={startX:Qe,endX:at,y:Z},_t=N.filter(function(pe){return Qe>=pe.bottom.startX&&Qe<=pe.bottom.endX||at>=pe.bottom.startX&&Qe<=pe.bottom.endX||Qe<=pe.bottom.startX&&at>=pe.bottom.endX&&G[2]/(pe.bottom.endX-pe.bottom.startX)<m&&G[2]/(pe.bottom.endX-pe.bottom.startX)>h});_t.length>0?_t[0].bottom=tt:N.push({top:tt,bottom:tt})}if(ct){var dt=de-G[4],re=dt-G[3],tt={startX:re,y:Z,endX:dt},_t=k.filter(function(Ce){return re>=Ce.bottom.startX&&re<=Ce.bottom.endX||dt>=Ce.bottom.startX&&re<=Ce.bottom.endX||re<=Ce.bottom.startX&&dt>=Ce.bottom.endX&&G[2]/(Ce.bottom.endX-Ce.bottom.startX)<m&&G[2]/(Ce.bottom.endX-Ce.bottom.startX)>h});_t.length>0?_t[0].bottom=tt:k.push({top:tt,bottom:tt})}}},Q=-1;Q<=M.width;Q++)ue(Q);S.push.apply(S,N.filter(function(de){return de.bottom.y!==Z&&de.bottom.y-de.top.y>=2})),N=N.filter(function(de){return de.bottom.y===Z}),L.push.apply(L,k.filter(function(de){return de.bottom.y!==Z})),k=k.filter(function(de){return de.bottom.y===Z})},R=0;R<=M.height;R++)V(R);S.push.apply(S,N.filter(function(Z){return Z.bottom.y-Z.top.y>=2})),L.push.apply(L,k);var T=S.filter(function(Z){return Z.bottom.y-Z.top.y>=2}).map(function(Z){var ie=(Z.top.startX+Z.top.endX+Z.bottom.startX+Z.bottom.endX)/4,xe=(Z.top.y+Z.bottom.y+1)/2;if(M.get(Math.round(ie),Math.round(xe))){var G=[Z.top.endX-Z.top.startX,Z.bottom.endX-Z.bottom.startX,Z.bottom.y-Z.top.y+1],ue=g(G)/G.length,Q=B({x:Math.round(ie),y:Math.round(xe)},[1,1,3,1,1],M);return{score:Q,x:ie,y:xe,size:ue}}}).filter(function(Z){return!!Z}).sort(function(Z,ie){return Z.score-ie.score}).map(function(Z,ie,xe){if(ie>u)return null;var G=xe.filter(function(Q,de){return ie!==de}).map(function(Q){return{x:Q.x,y:Q.y,score:Q.score+Math.pow(Q.size-Z.size,2)/Z.size,size:Q.size}}).sort(function(Q,de){return Q.score-de.score});if(G.length<2)return null;var ue=Z.score+G[0].score+G[1].score;return{points:[Z].concat(G.slice(0,2)),score:ue}}).filter(function(Z){return!!Z}).sort(function(Z,ie){return Z.score-ie.score});if(T.length===0)return null;var z=y(T[0].points[0],T[0].points[1],T[0].points[2]),$=z.topRight,I=z.topLeft,_=z.bottomLeft,H=U(M,L,$,I,_),j=[];H&&j.push({alignmentPattern:{x:H.alignmentPattern.x,y:H.alignmentPattern.y},bottomLeft:{x:_.x,y:_.y},dimension:H.dimension,topLeft:{x:I.x,y:I.y},topRight:{x:$.x,y:$.y}});var P=D(M,$),J=D(M,I),ce=D(M,_),O=U(M,L,P,J,ce);return O&&j.push({alignmentPattern:{x:O.alignmentPattern.x,y:O.alignmentPattern.y},bottomLeft:{x:ce.x,y:ce.y},topLeft:{x:J.x,y:J.y},topRight:{x:P.x,y:P.y},dimension:O.dimension}),j.length===0?null:j}l.locate=C;function U(M,S,N,L,k){var V,R,T;try{V=E(L,N,k,M),R=V.dimension,T=V.moduleSize}catch{return null}var z={x:N.x-L.x+k.x,y:N.y-L.y+k.y},$=(f(L,k)+f(L,N))/2/T,I=1-3/$,_={x:L.x+I*(z.x-L.x),y:L.y+I*(z.y-L.y)},H=S.map(function(P){var J=(P.top.startX+P.top.endX+P.bottom.startX+P.bottom.endX)/4,ce=(P.top.y+P.bottom.y+1)/2;if(M.get(Math.floor(J),Math.floor(ce))){var O=[P.top.endX-P.top.startX,P.bottom.endX-P.bottom.startX,P.bottom.y-P.top.y+1];g(O)/O.length;var Z=B({x:Math.floor(J),y:Math.floor(ce)},[1,1,1],M),ie=Z+f({x:J,y:ce},_);return{x:J,y:ce,score:ie}}}).filter(function(P){return!!P}).sort(function(P,J){return P.score-J.score}),j=$>=15&&H.length?H[0]:_;return{alignmentPattern:j,dimension:R}}}]).default})}(po)),po.exports}var q5=V5();const H5=Ax(q5);class $5{constructor(){this.pendingRequests=new Map}async validateVoucherCode(a){try{const o=Ve.getUserId();if(!o)return{success:!1,error:"User not authenticated"};const l=this.validateVoucherInput(a);if(l.length>0)return{success:!1,error:l.join(", ")};const x=a.toUpperCase().trim(),u=`voucher-validation-${x}`,h=Le.get(u);if(h)return h;const f=(await this._getVouchersForValidation()).find(y=>y.code===x);if(!f){const y={success:!1,error:"Invalid voucher code"};return Le.set(u,y,10*1e3),y}const g=this.performVoucherValidation(f,o);return Le.set(u,g),g}catch(o){return console.error("Error validating voucher code:",o),{success:!1,error:"Failed to validate voucher. Please try again."}}}async _getVouchersForValidation(){const a="vouchers-for-validation",o=yt.get(a);if(o)return o;if(this.pendingRequests.has(a))return this.pendingRequests.get(a);const l=this._fetchVouchersForValidation(a);return this.pendingRequests.set(a,l),l}async _fetchVouchersForValidation(a){try{const o=await he.get("/vouchers/",{timeout:3e4}),l=Array.isArray(o)?o:o.results||[];return yt.set(a,l,120*1e3),this.pendingRequests.delete(a),l}catch(o){throw this.pendingRequests.delete(a),o}}performVoucherValidation(a,o){const l=new Date,x=new Date(a.expires_at);return a.redeemed?{success:!1,error:"This voucher has already been redeemed",errorType:"already_redeemed"}:x<l?{success:!1,error:"This voucher has expired",errorType:"expired",expiryDate:this.formatVoucherExpiry(a.expires_at)}:a.used_count>=a.max_uses?{success:!1,error:"This voucher has reached its usage limit",errorType:"usage_limit_reached"}:a.user_specific&&a.user!==o?{success:!1,error:"This voucher is not available for your account",errorType:"user_not_eligible"}:{success:!0,data:this.transformVoucherData(a),message:"Voucher is valid and ready to use"}}async redeemVoucher(a,o=null,l=null){let u=0,h=null;try{const m=Ve.getUserId(),f=Ve.getUserRole(),g=Ve.getIsStaff();if(!m)return{success:!1,error:"User not authenticated"};const y=await this.validateVoucherCode(a);if(!y.success)return y;const E=this.prepareRedemptionData(a,o,l);for(;u<2;){u++;try{const v=await he.post("/vouchers/redeem/",E,{timeout:3e4});return this.clearUserCache(m),this.clearVoucherCaches(),{success:!0,data:this.transformVoucherRedemptionData(v),message:"Voucher redeemed successfully"}}catch(v){if(h=v,!(v?.code==="ECONNABORTED"||v?.code==="NETWORK_ERROR"||v?.status>=500)||u>=2){if(v.response?.data){const A=v.response.data;if(typeof A=="object"&&!Array.isArray(A))return{success:!1,error:Object.entries(A).map(([D,C])=>`${D}: ${Array.isArray(C)?C.join(", "):C}`).join("; ")}}return{success:!1,error:v?.message||"Failed to redeem voucher"}}await new Promise(A=>setTimeout(A,1e3*Math.pow(2,u-1)))}}return{success:!1,error:h?.message||"Voucher redemption failed after multiple attempts"}}catch(m){return console.error("Error redeeming voucher:",m),{success:!1,error:"Failed to redeem voucher. Please try again."}}}async confirmVoucherRedemption(a){try{const o=Ve.getUserId();if(!o)return{success:!1,error:"User not authenticated"};const l={code:a.toUpperCase().trim()},x=await he.post("/vouchers/confirm-voucher-redeem/",l,{timeout:3e4});return this.clearUserCache(o),this.clearVoucherCaches(),{success:!0,data:{value:x.value,message:x.success||"Voucher redeemed successfully"},message:"Voucher redeemed successfully"}}catch(o){if(console.error("Error confirming voucher redemption:",o),o.response?.data){const l=o.response.data;if(typeof l=="string")return{success:!1,error:l};if(typeof l=="object"&&l.error)return{success:!1,error:l.error};if(typeof l=="object"&&!Array.isArray(l))return{success:!1,error:Object.entries(l).map(([u,h])=>`${u}: ${Array.isArray(h)?h.join(", "):h}`).join("; ")}}return{success:!1,error:o?.message||"Failed to confirm voucher redemption. Please try again."}}}prepareRedemptionData(a,o,l){const x={code:a.toUpperCase().trim()};if(o)x.username=o;else{const u=Ve.getUsername()||localStorage.getItem("username");u&&(x.username=u)}return l&&(x.value=l),x}async getUserVouchers(){try{const a=Ve.getUserId();if(!a)throw new Error("User not authenticated");const o=`user-vouchers-${a}`,l=Le.get(o);if(l)return l;if(this.pendingRequests.has(o))return this.pendingRequests.get(o);const x=this._fetchUserVouchers(a,o);return this.pendingRequests.set(o,x),await x||[]}catch(a){if(console.error("Error fetching user vouchers:",a),a.status===500)return console.warn("Voucher service returned 500, returning empty voucher list"),[];throw new Error("Failed to load your vouchers. Please try again.")}}async _fetchUserVouchers(a,o){try{const l=await he.get("/vouchers/my/",{timeout:3e4}),u=(Array.isArray(l)?l:[]).map(h=>this.transformVoucherData(h));return Le.set(o,u,60*1e3),this.pendingRequests.delete(o),u}catch(l){if(this.pendingRequests.delete(o),l.status===500||l.status===404||l.status===405){console.warn("Vouchers /my/ endpoint failed with status:",l.status),console.warn("Attempting fallback to history endpoint");try{const x=await he.get("/vouchers/history/",{timeout:3e4}),h=(Array.isArray(x)?x:[]).map(m=>this.transformVoucherHistoryToVoucher(m));return Le.set(o,h,60*1e3),console.info(`Fallback successful: loaded ${h.length} vouchers from history`),h}catch(x){console.error("History endpoint also failed, trying basic vouchers endpoint");try{const u=await he.get("/vouchers/",{timeout:3e4}),h=Array.isArray(u)?u:u.results||[];return console.warn("Basic vouchers endpoint worked but user filtering not implemented"),[]}catch(u){return console.error("All voucher endpoints failed:",{my:{status:l.status,message:l.message},history:{status:x.status,message:x.message},basic:{status:u.status,message:u.message}}),console.warn("Returning empty voucher array due to all API failures"),[]}}}throw l}}async getAllVouchers(){return console.warn("getAllVouchers is deprecated. Use getUserVouchers() instead for security."),this.getUserVouchers()}async getVoucherHistory(){try{const a=Ve.getUserId();if(!a)throw new Error("User not authenticated");const o=`voucher-history-${a}`,l=yt.get(o);if(l)return l;const x=await he.get("/vouchers/history/",{timeout:3e4});let u=[];Array.isArray(x)?u=x:x.results&&Array.isArray(x.results)&&(u=x.results);const h=u.map(m=>this.transformVoucherHistoryData(m));return yt.set(o,h,120*1e3),h}catch(a){throw console.error("Error fetching voucher history:",a),new Error("Failed to load voucher history. Please try again.")}}async getAvailableVouchers(){try{const a=Ve.getUserId();if(!a)throw new Error("User not authenticated");const o=`available-vouchers-${a}`,l=Le.get(o);if(l)return l;const x=await this.getUserVouchers(),u=Array.isArray(x)?x:x.results||[],h=new Date,m=u.filter(f=>{const g=new Date(f.expires_at);return!f.redeemed&&f.used_count<f.max_uses&&g>h&&f.user===a});return Le.set(o,m),m}catch(a){throw console.error("Error fetching available vouchers:",a),new Error("Failed to load available vouchers. Please try again.")}}async getVoucherStats(){try{if(!Ve.getUserId())throw new Error("User not authenticated");const[o,l]=await Promise.allSettled([this.getUserVouchers(),this.getAvailableVouchers()]),x=o.status==="fulfilled"?o.value:[],u=l.status==="fulfilled"?l.value:[],h={total:x.length,available:u.length,redeemed:x.filter(m=>m.redeemed).length,expired:x.filter(m=>this.isVoucherExpired(m.expires_at)).length,totalValue:x.reduce((m,f)=>m+(f.value||0),0),availableValue:u.reduce((m,f)=>m+(f.value||0),0)};return{...h,displayTotalValue:this.formatVoucherValue(h.totalValue),displayAvailableValue:this.formatVoucherValue(h.availableValue)}}catch(a){return console.error("Error fetching voucher stats:",a),{total:0,available:0,redeemed:0,expired:0,totalValue:0,availableValue:0,displayTotalValue:"₱0.00",displayAvailableValue:"₱0.00"}}}transformVoucherData(a){return{id:a.id||a.code,code:a.code,value:a.value,description:a.description||"Voucher",expires_at:a.expires_at||null,expired:a.expired||!1,status:a.status,redeemed:a.status==="redeemed",assigned:a.status==="assigned",used_count:a.status==="redeemed"?1:0,max_uses:1,user:a.user,user_specific:!0,created_at:a.created_at||a.assigned_at,updated_at:a.updated_at||a.redeemed_at||a.assigned_at,used_at:a.redeemed_at||a.assigned_at,assigned_at:a.assigned_at,redeemed_at:a.redeemed_at,displayValue:this.formatVoucherValue(a.value),displayExpiry:a.expires_at?this.formatVoucherExpiry(a.expires_at):"No expiry",isExpired:a.expired||!1,isAvailable:!1,usageText:a.status==="redeemed"?"1/1":"0/1",daysUntilExpiry:a.expires_at?this.getDaysUntilExpiry(a.expires_at):0}}transformVoucherRedemptionData(a){return{id:a.id,voucher_code:a.voucher_code||a.code,value:a.value,redeemed_at:a.redeemed_at||a.created_at,user:a.user,displayValue:this.formatVoucherValue(a.value),displayDate:this.formatDate(a.redeemed_at||a.created_at),displayTime:this.formatTime(a.redeemed_at||a.created_at)}}transformVoucherHistoryData(a){return{id:a.id,voucher_code:a.voucher_code||a.code,action:a.action||"redeemed",value:a.value,created_at:a.created_at,user:a.user,displayValue:this.formatVoucherValue(a.value),displayDate:this.formatDate(a.created_at),displayTime:this.formatTime(a.created_at),actionText:this.getActionText(a.action)}}transformVoucherHistoryToVoucher(a){const o=a.voucher||{};return{id:a.id,code:a.voucher?.code||o.code||"UNKNOWN",value:a.voucher?.value||o.value||"0.00",description:"",expires_at:a.voucher?.expires_at||o.expires_at||null,redeemed:a.status==="redeemed",used_count:a.status==="redeemed"?1:0,max_uses:1,user:a.user,user_specific:!0,created_at:a.assigned_at||a.created_at,updated_at:a.redeemed_at||a.updated_at,used_at:a.redeemed_at||(a.status==="redeemed"?a.assigned_at:null),expired:a.voucher?.expires_at?new Date(a.voucher.expires_at)<new Date:!1,displayValue:this.formatVoucherValue(a.voucher?.value||o.value||"0.00"),displayExpiry:this.formatVoucherExpiry(a.voucher?.expires_at||o.expires_at||new Date),isExpired:a.voucher?.expires_at?this.isVoucherExpired(a.voucher.expires_at):!1,isAvailable:!1,usageText:a.status==="redeemed"?"1/1":"0/1",daysUntilExpiry:a.voucher?.expires_at?this.getDaysUntilExpiry(a.voucher.expires_at):0,status:a.status==="redeemed"?"redeemed":"assigned"}}validateVoucherInput(a){const o=[];if(!a||typeof a!="string")o.push("Voucher code is required");else{const l=a.trim();l.length<3&&o.push("Voucher code must be at least 3 characters long"),l.length>20&&o.push("Voucher code must be less than 20 characters long"),/^[A-Za-z0-9]+$/.test(l)||o.push("Voucher code can only contain letters and numbers")}return o}formatVoucherValue(a){return`₱${parseFloat(a||0).toFixed(2)}`}isVoucherExpired(a){return new Date(a)<new Date}formatVoucherExpiry(a){return new Date(a).toLocaleDateString("en-PH")}formatDate(a){return a?new Date(a).toLocaleDateString("en-PH"):"N/A"}formatTime(a){return a?new Date(a).toLocaleTimeString("en-PH",{hour:"numeric",minute:"2-digit",hour12:!0}):"N/A"}isVoucherAvailable(a){const o=new Date,l=new Date(a.expires_at);return!a.redeemed&&a.used_count<a.max_uses&&l>o}getDaysUntilExpiry(a){const o=new Date,x=new Date(a)-o,u=Math.ceil(x/(1e3*60*60*24));return Math.max(0,u)}getVoucherStatus(a){return a.redeemed?"redeemed":this.isVoucherExpired(a.expires_at)?"expired":a.used_count>=a.max_uses?"used_up":"available"}getActionText(a){return{redeemed:"Redeemed",created:"Created",expired:"Expired",cancelled:"Cancelled"}[a]||"Unknown"}clearUserCache(a=null){const o=a||Ve.getUserId();o&&(Le.delete(`user-vouchers-${o}`),Le.delete(`available-vouchers-${o}`),yt.delete(`voucher-history-${o}`))}clearVoucherCaches(){Array.from(Le.cache.keys()).forEach(o=>{o.startsWith("voucher-validation-")&&Le.delete(o)}),yt.delete("vouchers-for-validation")}clearAllCache(){yt.clear(),Le.clear(),this.pendingRequests.clear()}async testVoucherEndpoints(){const a=["/vouchers/my/","/vouchers/history/","/vouchers/"],o={};for(const l of a)try{console.log(`Testing endpoint: ${l}`);const x=await he.get(l,{timeout:1e4});o[l]={status:"success",dataType:Array.isArray(x)?"array":typeof x,itemCount:Array.isArray(x)?x.length:"N/A"},console.log(`✅ ${l} - Success:`,o[l])}catch(x){o[l]={status:"error",errorStatus:x.status,errorMessage:x.message},console.log(`❌ ${l} - Error:`,o[l])}return o}}const fr=new $5,Q5=({onBack:c})=>{const{user:a,isAuthenticated:o}=Vs(),[l,x]=F.useState([]),[u,h]=F.useState(null),[m,f]=F.useState(!1),[g,y]=F.useState(!0),[E,v]=F.useState(!1),[p,A]=F.useState(null),[B,D]=F.useState(!1),[C,U]=F.useState(""),[M,S]=F.useState("code"),[N,L]=F.useState(!1),[k,V]=F.useState(null),[R,T]=F.useState(null),[z,$]=F.useState(null),[I,_]=F.useState(!1),[H,j]=F.useState(null),P=F.useRef(null),J=F.useRef(null),ce=F.useRef(null);F.useEffect(()=>{o&&a&&O()},[o,a]);const O=async()=>{try{if(y(!0),A(null),!o||!a){A("Please log in to view your vouchers");return}const re=await fr.getUserVouchers(),pe=Array.isArray(re)?re:re.results||[];x(pe)}catch(re){console.error("Error loading vouchers:",re),re.message.includes("not authenticated")?A("Authentication required. Please log in again."):re.status===500?A("Server error. The voucher service is temporarily unavailable."):re.status===404?A("Voucher service not found. Please contact support."):re.message.includes("Failed to load your vouchers")?A("Unable to load vouchers. Please check your connection and try again."):A("Failed to load vouchers. Please try again later.")}finally{y(!1)}},Z=re=>{switch(re){case"claimed":return e.jsx(Ge,{className:"w-5 h-5 text-green-500"});case"redeemed":return e.jsx(it,{className:"w-5 h-5 text-blue-500"});case"expired":return e.jsx(Ie,{className:"w-5 h-5 text-red-500"});default:return e.jsx(St,{className:"w-5 h-5 text-gray-500"})}},ie=re=>{switch(re){case"claimed":return"bg-green-50 text-green-700 border-green-200";case"redeemed":return"bg-blue-50 text-blue-700 border-blue-200";case"expired":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},xe=re=>{switch(re){case"cash":return"💰";case"percentage":return"🎯";case"discount":return"🎫";default:return"🎁"}},G=re=>fr.formatVoucherValue(re.value),ue=re=>re.expired?"expired":re.status==="assigned"?"claimed":re.status==="redeemed"?"redeemed":re.status||"unknown",Q=async(re,pe=null)=>{try{v(!0);const qe=await fr.redeemVoucher(re,null,pe);if(qe.success){await O(),f(!1),h(null);const Ce=qe.data?.value||pe||"Unknown";j({type:"success",title:"🎉 Voucher Claimed Successfully!",message:`Code: ${re}
Value: ₱${parseFloat(Ce).toLocaleString()}
You can now use this voucher at the barbershop.`})}else{let Ce=qe.error;Ce.includes("expired")?Ce="⏰ This voucher has expired":Ce.includes("already assigned")?Ce="✅ This voucher has already been claimed":Ce.includes("Invalid voucher")?Ce="❌ Invalid voucher code. Please check and try again.":Ce.includes("usage limit")?Ce="🚫 This voucher has reached its usage limit":Ce.includes("Username is required")?Ce="❌ User authentication error. Please log in again.":Ce.includes("Target user not found")&&(Ce="❌ User account not found. Please log in again."),j({type:"error",title:"Claim Failed",message:Ce})}}catch(qe){console.error("Error claiming voucher:",qe),j({type:"error",title:"Network Error",message:"Please check your connection and try again."})}finally{v(!1)}},de=async()=>{if(!C.trim()){j({type:"warning",title:"Missing Code",message:"Please enter a voucher code"});return}try{_(!0),$(null),T(null);const re=await fr.validateVoucherCode(C.trim());re.success?(T(re.data),$(null)):($(re.error),T(null))}catch(re){console.error("Error validating voucher:",re),$("Failed to validate voucher. Please try again."),T(null)}finally{_(!1)}},me=async()=>{if(R)try{await Q(R.code,R.value),U(""),T(null),$(null),D(!1)}catch{}},be=async re=>{const pe=re.target.files[0];if(pe){try{const qe=new Image,Ce=document.createElement("canvas"),Ot=Ce.getContext("2d");qe.onload=async()=>{Ce.width=qe.width,Ce.height=qe.height,Ot.drawImage(qe,0,0);try{const Cr=Ot.getImageData(0,0,Ce.width,Ce.height),In=await at(Cr);In?(await Q(In),D(!1)):j({type:"warning",title:"QR Code Not Found",message:"No QR code found in the image. Please try again."})}catch(Cr){console.error("Error decoding QR code:",Cr),j({type:"error",title:"QR Code Error",message:"Failed to decode QR code from image."})}};const Hs=new FileReader;Hs.onload=Cr=>{qe.src=Cr.target.result},Hs.readAsDataURL(pe)}catch(qe){console.error("Error processing uploaded file:",qe),j({type:"error",title:"Upload Error",message:"Failed to process uploaded file."})}P.current&&(P.current.value="")}},ae=async()=>{try{V(null),L(!0);let re;try{re=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280,min:640},height:{ideal:720,min:480}}})}catch(pe){console.log("Back camera not available, trying front camera:",pe),re=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280,min:640},height:{ideal:720,min:480}}})}J.current&&re&&(J.current.srcObject=re,J.current.onloadedmetadata=()=>{console.log("Video metadata loaded, dimensions:",J.current.videoWidth,"x",J.current.videoHeight),J.current.play().then(()=>{console.log("Video started successfully"),setTimeout(()=>{Ae()},500)}).catch(pe=>{console.error("Error playing video:",pe),V("Failed to start camera preview."),L(!1)})},J.current.oncanplay=()=>{console.log("Video can start playing")},J.current.onplaying=()=>{console.log("Video is playing")},J.current.onerror=pe=>{console.error("Video error:",pe),V("Camera error occurred."),L(!1)})}catch(re){console.error("Error starting camera:",re);let pe="Failed to access camera.";re.name==="NotAllowedError"?pe="Camera permission denied. Please allow camera access and try again.":re.name==="NotFoundError"?pe="No camera found on this device.":re.name==="NotReadableError"&&(pe="Camera is already in use by another application."),V(pe),L(!1)}},Ae=()=>{const re=setInterval(async()=>{if(J.current&&ce.current&&N&&J.current.readyState===4){const pe=ce.current,qe=J.current,Ce=pe.getContext("2d");if(qe.videoWidth>0&&qe.videoHeight>0){pe.width=qe.videoWidth,pe.height=qe.videoHeight,Ce.drawImage(qe,0,0,pe.width,pe.height);try{const Ot=Ce.getImageData(0,0,pe.width,pe.height),Hs=await at(Ot);Hs&&(clearInterval(re),ct(),await Q(Hs),D(!1))}catch{}}}else N||clearInterval(re)},500);setTimeout(()=>{clearInterval(re),N&&(ct(),V("Scanning timeout. Please try again."))},3e4)},ct=()=>{L(!1),J.current&&J.current.srcObject&&(J.current.srcObject.getTracks().forEach(pe=>pe.stop()),J.current.srcObject=null)},at=async re=>{try{const pe=H5(re.data,re.width,re.height);if(pe){let qe=null;try{const Ce=JSON.parse(pe.data);qe=Ce.code||Ce.voucherCode||Ce.voucher_code}catch{qe=pe.data}return qe}return null}catch(pe){return console.error("Error decoding QR:",pe),null}},Qe=l.filter(re=>ue(re)==="claimed"),tt=l.filter(re=>ue(re)==="redeemed"),_t=l.filter(re=>ue(re)==="expired"),dt=({notification:re,onClose:pe})=>{if(!re)return null;const Ce=(Ot=>{switch(Ot){case"success":return{bg:"#F0FDF4",border:"#22C55E",icon:"✅",iconBg:"#22C55E"};case"error":return{bg:"#FEF2F2",border:"#EF4444",icon:"❌",iconBg:"#EF4444"};case"warning":return{bg:"#FFFBEB",border:"#F59E0B",icon:"⚠️",iconBg:"#F59E0B"};default:return{bg:"#F4F0E6",border:"#F68B24",icon:"ℹ️",iconBg:"#F68B24"}}})(re.type);return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl border-2",style:{backgroundColor:Ce.bg,borderColor:Ce.border},children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto",style:{backgroundColor:Ce.iconBg},children:e.jsx("span",{className:"text-2xl",children:Ce.icon})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black mb-2",style:{color:"#36454F"},children:re.title}),e.jsx("p",{className:"text-sm whitespace-pre-line",style:{color:"#8B8B8B"},children:re.message})]}),e.jsx("button",{onClick:pe,className:"w-full py-3 text-white font-bold rounded-xl transition-all duration-200",style:{backgroundColor:"#F68B24"},onMouseEnter:Ot=>Ot.target.style.backgroundColor="#E67E22",onMouseLeave:Ot=>Ot.target.style.backgroundColor="#F68B24",children:"OK"})]})})})};return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsx("div",{className:"sticky top-0 z-40 shadow-lg",style:{backgroundColor:"#36454F"},children:e.jsx("div",{className:"max-w-md mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-3 py-2 text-white font-semibold rounded-xl transition-all duration-200",style:{":hover":{color:"#F68B24"}},onMouseEnter:re=>re.target.style.color="#F68B24",onMouseLeave:re=>re.target.style.color="white",children:[e.jsx(Fo,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Back"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-white",children:"My Vouchers"}),e.jsxs("p",{className:"text-xs",style:{color:"#F68B24"},children:[Qe.length+tt.length," total"]})]})]})})}),e.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",style:{backgroundColor:"#F68B24"},children:e.jsx(it,{className:"w-6 h-6 text-white"})}),e.jsx("h1",{className:"text-xl font-black mb-1",style:{color:"#36454F"},children:"Your Vouchers"}),e.jsx("p",{className:"text-sm font-medium mb-4",style:{color:"#8B8B8B"},children:"View your claimed and redeemed vouchers"}),e.jsxs("div",{className:"flex space-x-3 mb-4",children:[e.jsxs("button",{onClick:()=>D(!0),className:"flex-1 py-4 text-white font-bold rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg flex items-center justify-center space-x-2",style:{backgroundColor:"#F68B24"},onMouseEnter:re=>re.target.style.backgroundColor="#E67E22",onMouseLeave:re=>re.target.style.backgroundColor="#F68B24",children:[e.jsx(It,{className:"w-5 h-5"}),e.jsx("span",{children:"Claim New Voucher"})]}),e.jsx("button",{onClick:O,disabled:g,className:"px-4 py-4 bg-gray-600 text-white font-bold rounded-xl transition-all duration-200 hover:bg-gray-700 shadow-lg flex items-center justify-center disabled:opacity-50",children:e.jsx(Dt,{className:`w-5 h-5 ${g?"animate-spin":""}`})})]})]}),g&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#F68B24",opacity:.1},children:e.jsx(it,{className:"w-8 h-8",style:{color:"#F68B24"}})}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Loading vouchers..."})]}),p&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#dc3545",opacity:.1},children:e.jsx(Ie,{className:"w-8 h-8 text-red-500"})}),e.jsx("p",{className:"text-sm text-red-600 mb-4",children:p}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:O,className:"px-4 py-2 bg-orange-500 text-white rounded-lg font-medium hover:bg-orange-600 transition-colors mr-2",children:"Try Again"}),e.jsx("button",{onClick:async()=>{console.log("=== VOUCHER ENDPOINT DIAGNOSTIC ===");const re=await fr.testVoucherEndpoints();console.log("Diagnostic results:",re),alert("Check browser console for endpoint diagnostic results")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"Debug API"})]})]}),!g&&!p&&Qe.length>0&&e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("h2",{className:"text-lg font-black flex items-center",style:{color:"#36454F"},children:[e.jsx(Ge,{className:"w-4 h-4 text-green-500 mr-2"}),"Claimed Vouchers (",Qe.length,")"]}),e.jsx("div",{className:"space-y-3",children:Qe.map(re=>e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",style:{border:"1px solid #E0E0E0"},children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-xl",children:xe(re.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-black",style:{color:"#36454F"},children:re.code}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:re.description||"Voucher"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[Z(ue(re)),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold border ${ie(ue(re))}`,children:"CLAIMED"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Value"}),e.jsx("p",{className:"text-sm font-bold text-green-600",children:G(re)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"w-3 h-3 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Claimed on"}),e.jsx("p",{className:"text-sm font-bold",style:{color:"#36454F"},children:re.assigned_at?new Date(re.assigned_at).toLocaleDateString():"N/A"})]})]})]}),e.jsxs("button",{onClick:pe=>{pe.stopPropagation(),h(re),f(!0)},className:"w-full py-2 text-white font-bold rounded-xl transition-all duration-200 flex items-center justify-center space-x-2",style:{backgroundColor:"#22C55E"},onMouseEnter:pe=>pe.target.style.backgroundColor="#16A34A",onMouseLeave:pe=>pe.target.style.backgroundColor="#22C55E",children:[e.jsx(ft,{className:"w-4 h-4"}),e.jsx("span",{children:"View QR Code"})]})]},re.id))})]}),!g&&!p&&tt.length>0&&e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("h2",{className:"text-lg font-black flex items-center",style:{color:"#36454F"},children:[e.jsx(it,{className:"w-4 h-4 text-blue-500 mr-2"}),"Redeemed Vouchers (",tt.length,")"]}),e.jsx("div",{className:"space-y-3",children:tt.map(re=>e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm opacity-75",style:{border:"1px solid #E0E0E0"},children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-xl opacity-50",children:xe(re.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-black",style:{color:"#36454F"},children:re.code}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:re.description||"Discount voucher"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[Z(ue(re)),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold border ${ie(ue(re))}`,children:"REDEEMED"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Value"}),e.jsx("p",{className:"text-sm font-bold text-blue-600",children:G(re)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"w-3 h-3 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Redeemed on"}),e.jsx("p",{className:"text-sm font-bold",style:{color:"#36454F"},children:re.assigned_at?new Date(re.assigned_at).toLocaleDateString():"N/A"})]})]})]}),e.jsx("div",{className:"text-center py-2 text-gray-500 text-sm",children:"This voucher has been redeemed"})]},re.id))})]}),!g&&!p&&_t.length>0&&e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("h2",{className:"text-lg font-black flex items-center",style:{color:"#36454F"},children:[e.jsx(Ie,{className:"w-4 h-4 text-red-500 mr-2"}),"Expired Vouchers (",_t.length,")"]}),e.jsx("div",{className:"space-y-3",children:_t.map(re=>e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm opacity-50",style:{border:"1px solid #E0E0E0"},children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-xl opacity-50",children:xe(re.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-black",style:{color:"#36454F"},children:re.code}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:re.description||"Discount voucher"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[Z(ue(re)),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold border ${ie(ue(re))}`,children:ue(re).toUpperCase()})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Value"}),e.jsx("p",{className:"text-sm font-bold text-red-600",children:G(re)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"w-3 h-3 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Used on"}),e.jsx("p",{className:"text-sm font-bold",style:{color:"#36454F"},children:re.used_at?new Date(re.used_at).toLocaleDateString():"N/A"})]})]})]}),e.jsx("div",{className:"text-center py-2 text-red-500 text-sm",children:"This voucher has expired"})]},re.id))})]}),!g&&!p&&Qe.length===0&&tt.length===0&&_t.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#F68B24",opacity:.1},children:e.jsx(l6,{className:"w-8 h-8",style:{color:"#F68B24"}})}),e.jsx("h3",{className:"text-lg font-black mb-3",style:{color:"#36454F"},children:"No Vouchers Yet"}),e.jsx("p",{className:"text-sm max-w-md mx-auto mb-4",style:{color:"#8B8B8B"},children:'Your redeemed vouchers will appear here. Click "Claim New Voucher" above to redeem a voucher code.'})]})]}),B&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl",style:{backgroundColor:"#F4F0E6"},children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto",style:{backgroundColor:"#F68B24"},children:e.jsx(it,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black mb-2",style:{color:"#36454F"},children:"Claim Voucher"}),e.jsx("p",{className:"font-medium",style:{color:"#8B8B8B"},children:"Enter your voucher code to claim"})]}),e.jsx("div",{className:"rounded-xl p-1",style:{backgroundColor:"#E0E0E0"},children:e.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[e.jsxs("button",{onClick:()=>S("code"),className:"py-2 px-3 rounded-lg text-sm font-semibold transition-all duration-200 flex items-center justify-center space-x-1",style:{backgroundColor:M==="code"?"#F68B24":"transparent",color:M==="code"?"white":"#8B8B8B"},children:[e.jsx(N1,{className:"w-4 h-4"}),e.jsx("span",{children:"Code"})]}),e.jsxs("button",{onClick:()=>S("scan"),className:"py-2 px-3 rounded-lg text-sm font-semibold transition-all duration-200 flex items-center justify-center space-x-1",style:{backgroundColor:M==="scan"?"#F68B24":"transparent",color:M==="scan"?"white":"#8B8B8B"},children:[e.jsx(vo,{className:"w-4 h-4"}),e.jsx("span",{children:"Scan"})]}),e.jsxs("button",{onClick:()=>S("upload"),className:"py-2 px-3 rounded-lg text-sm font-semibold transition-all duration-200 flex items-center justify-center space-x-1",style:{backgroundColor:M==="upload"?"#F68B24":"transparent",color:M==="upload"?"white":"#8B8B8B"},children:[e.jsx(eh,{className:"w-4 h-4"}),e.jsx("span",{children:"Upload"})]})]})}),M==="code"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"text",value:C,onChange:re=>{U(re.target.value.toUpperCase()),T(null),$(null)},placeholder:"Enter voucher code",className:"w-full p-4 border-2 rounded-xl text-center font-mono text-lg tracking-widest focus:outline-none",style:{borderColor:"#E0E0E0",backgroundColor:"white",color:"#36454F"},onFocus:re=>re.target.style.borderColor="#F68B24",onBlur:re=>re.target.style.borderColor="#E0E0E0",maxLength:12})}),!R&&e.jsx("button",{onClick:de,disabled:I||!C.trim(),className:"w-full py-4 text-white font-bold rounded-2xl hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"#36454F"},onMouseEnter:re=>!re.target.disabled&&(re.target.style.backgroundColor="#2D3748"),onMouseLeave:re=>!re.target.disabled&&(re.target.style.backgroundColor="#36454F"),children:I?"Validating...":"Validate Voucher"}),z&&e.jsx("div",{className:"border rounded-xl p-4",style:{backgroundColor:"#FEF2F2",borderColor:"#F87171"},children:e.jsx("p",{className:"text-sm text-center",style:{color:"#DC2626"},children:z})}),R&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border rounded-xl p-4",style:{backgroundColor:"#F4F0E6",borderColor:"#F68B24"},children:e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mx-auto",style:{backgroundColor:"#F68B24"},children:e.jsx(it,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-black",style:{color:"#36454F"},children:R.code}),e.jsx("p",{className:"text-2xl font-black",style:{color:"#F68B24"},children:fr.formatVoucherValue(R.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{style:{color:"#8B8B8B"},children:"Points Required"}),e.jsx("p",{className:"font-bold",style:{color:"#36454F"},children:R.points_required})]}),e.jsxs("div",{children:[e.jsx("p",{style:{color:"#8B8B8B"},children:"Expires"}),e.jsx("p",{className:"font-bold",style:{color:"#36454F"},children:fr.formatVoucherExpiry(R.expires_at)})]})]}),e.jsx("div",{className:"text-xs",style:{color:"#8B8B8B"},children:e.jsxs("p",{children:["Uses: ",R.used_count,"/",R.max_uses]})})]})}),e.jsx("button",{onClick:me,disabled:E,className:"w-full py-4 text-white font-bold rounded-2xl hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"#F68B24"},onMouseEnter:re=>!re.target.disabled&&(re.target.style.backgroundColor="#E67E22"),onMouseLeave:re=>!re.target.disabled&&(re.target.style.backgroundColor="#F68B24"),children:E?"Claiming...":"Claim This Voucher"}),e.jsx("button",{onClick:()=>{T(null),$(null),U("")},className:"w-full py-2 text-gray-600 font-medium rounded-xl hover:bg-gray-100 transition-all duration-200",children:"Enter Different Code"})]})]}),M==="scan"&&e.jsx("div",{className:"space-y-4",children:N?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative bg-gray-900 rounded-xl overflow-hidden border-2",style:{borderColor:"#F68B24"},children:[e.jsx("video",{ref:J,className:"w-full h-64 object-cover bg-transparent",autoPlay:!0,playsInline:!0,muted:!0,style:{transform:"scaleX(-1)",backgroundColor:"transparent"}}),e.jsx("canvas",{ref:ce,className:"hidden"}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-48 border-2 border-white border-dashed rounded-lg"}),e.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-48",children:[e.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-l-4 border-t-4 border-green-400"}),e.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-r-4 border-t-4 border-green-400"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-l-4 border-b-4 border-green-400"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-r-4 border-b-4 border-green-400"})]})]}),e.jsx("button",{onClick:ct,className:"absolute top-4 right-4 w-10 h-10 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-colors",children:e.jsx(vr,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"border rounded-xl p-4",style:{backgroundColor:"#F4F0E6",borderColor:"#F68B24"},children:e.jsx("p",{className:"text-sm text-center",style:{color:"#36454F"},children:"📱 Position the QR code within the frame above"})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-xl p-6",style:{backgroundColor:"#F4F0E6",borderColor:"#F68B24"},children:[e.jsx(vo,{className:"w-12 h-12 mx-auto mb-3",style:{color:"#F68B24"}}),e.jsx("p",{className:"text-sm mb-3",style:{color:"#36454F"},children:"Position the QR code within the camera frame to scan"}),e.jsx("button",{onClick:ae,className:"w-full py-3 text-white font-semibold rounded-lg transition-colors",style:{backgroundColor:"#F68B24"},onMouseEnter:re=>re.target.style.backgroundColor="#E67E22",onMouseLeave:re=>re.target.style.backgroundColor="#F68B24",children:"Start Camera"})]}),k&&e.jsxs("div",{className:"border rounded-xl p-4",style:{backgroundColor:"#FEF2F2",borderColor:"#F87171"},children:[e.jsx("p",{className:"text-sm",style:{color:"#DC2626"},children:k}),e.jsx("button",{onClick:()=>V(null),className:"mt-2 px-3 py-1 rounded text-xs transition-colors",style:{backgroundColor:"#FEE2E2",color:"#DC2626"},onMouseEnter:re=>re.target.style.backgroundColor="#FECACA",onMouseLeave:re=>re.target.style.backgroundColor="#FEE2E2",children:"Dismiss"})]})]})}),M==="upload"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{onClick:()=>P.current?.click(),className:"border-2 border-dashed border-gray-300 rounded-xl p-8 hover:border-orange-400 hover:bg-orange-50 transition-all duration-200 cursor-pointer text-center",children:[e.jsx(eh,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 text-sm mb-2 font-medium",children:"Upload QR Code Image"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Supports JPG, PNG, WebP formats"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("p",{className:"text-blue-700 text-xs",children:["💡 ",e.jsx("strong",{children:"Tip:"})," Make sure the QR code is clear and well-lit for best results"]})}),e.jsx("input",{ref:P,type:"file",accept:"image/*,.jpg,.jpeg,.png,.webp",onChange:be,className:"hidden"})]}),e.jsx("button",{onClick:()=>{N&&ct(),D(!1),U(""),S("code"),V(null),T(null),$(null)},className:"w-full py-4 text-white font-bold rounded-2xl transition-all duration-200",style:{backgroundColor:"#36454F"},onMouseEnter:re=>re.target.style.backgroundColor="#2D3748",onMouseLeave:re=>re.target.style.backgroundColor="#36454F",children:"Close"})]})})}),m&&u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full shadow-2xl",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-orange to-primary-orange-light rounded-full flex items-center justify-center mx-auto",children:e.jsx(ft,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-primary-black mb-2",children:"Voucher QR Code"}),e.jsx("p",{className:"text-gray-dark font-medium",children:"Show this QR code to staff"})]}),e.jsx("div",{className:"bg-gray-light p-6 rounded-2xl",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(Y5,{voucher:u})})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-xl font-black text-primary-black mb-1",children:u.code}),e.jsx("p",{className:"text-2xl font-black text-green-600 mb-1",children:G(u)}),e.jsx("p",{className:"text-sm text-gray-dark font-medium",children:u.description})]})}),e.jsx("div",{className:"space-y-3",children:e.jsx("button",{onClick:()=>f(!1),className:"w-full py-4 bg-gradient-to-r from-gray-500 to-gray-600 text-white font-bold rounded-2xl hover:shadow-xl transition-all duration-200",children:"Close"})})]})})}),e.jsx(dt,{notification:H,onClose:()=>j(null)})]})},Y5=({voucher:c})=>{const{user:a}=Vs(),o=F.useRef(null),l=()=>{const u=localStorage.getItem("username");return u||a?.username||"N/A"},x=JSON.stringify({voucherId:c.id,code:c.code,username:l(),value:c.value,expiresAt:c.expires_at,barbershop:"TPX Barbershop"});return F.useEffect(()=>{o.current&&kt.toCanvas(o.current,x,{width:192,margin:2,color:{dark:"#000000",light:"#ffffff"},errorCorrectionLevel:"H"},u=>{u&&console.error("QR Code generation error:",u)})},[x]),e.jsx("canvas",{ref:o,className:"rounded-xl"})},G5=({onBack:c})=>{const[a]=F.useState(1250),[o]=F.useState(3480),[l]=F.useState("Gold"),[x]=F.useState("Platinum"),[u]=F.useState(250),h=[{id:1,date:"2024-01-15",description:"Premium Haircut",points:175,type:"earned"},{id:2,date:"2024-01-10",description:"Redeemed Birthday Voucher",points:-500,type:"redeemed"},{id:3,date:"2024-01-08",description:"Beard Trim & Style",points:125,type:"earned"},{id:4,date:"2024-01-05",description:"Bonus Points - Referral",points:200,type:"bonus"},{id:5,date:"2024-01-03",description:"Classic Cut",points:100,type:"earned"}],m=[{id:1,name:"Free Basic Haircut",pointsCost:500,category:"Services",available:!0,icon:"✂️",description:"Get a complimentary basic haircut"},{id:2,name:"₱500 Service Voucher",pointsCost:750,category:"Vouchers",available:!0,icon:"🎫",description:"₱500 off any service"},{id:3,name:"Premium Package Discount",pointsCost:1e3,category:"Services",available:!0,icon:"⭐",description:"50% off complete grooming package"},{id:4,name:"VIP Priority Booking",pointsCost:300,category:"Perks",available:!0,icon:"👑",description:"Skip the queue with priority booking"},{id:5,name:"₱1,000 Cash Voucher",pointsCost:1500,category:"Vouchers",available:!1,icon:"💰",description:"₱1,000 cash voucher - Not enough points"},{id:6,name:"Platinum Membership",pointsCost:2e3,category:"Membership",available:!1,icon:"💎",description:"Upgrade to platinum tier - Not enough points"}],f=[{name:"Bronze",min:0,max:499,color:"from-amber-600 to-amber-700",icon:"🥉"},{name:"Silver",min:500,max:999,color:"from-gray-400 to-gray-500",icon:"🥈"},{name:"Gold",min:1e3,max:1499,color:"from-yellow-400 to-yellow-500",icon:"🥇"},{name:"Platinum",min:1500,max:2499,color:"from-purple-400 to-purple-500",icon:"💎"},{name:"Diamond",min:2500,max:1/0,color:"from-blue-400 to-blue-500",icon:"💠"}],g=()=>f.find(B=>a>=B.min&&a<=B.max),y=()=>{const B=f.findIndex(D=>D.name===l);return B<f.length-1?f[B+1]:null},E=()=>{const B=g(),D=y();if(!D)return 100;const C=a-B.min,U=D.min-B.min;return C/U*100},v=B=>{B.available&&a>=B.pointsCost&&window.confirm(`Redeem ${B.name} for ${B.pointsCost} points?`)&&alert("Reward redeemed successfully! Check your vouchers.")},p=g(),A=y();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-accent-cream to-white py-8",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 mb-8",children:[e.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-4 py-3 text-gray-dark hover:text-primary-orange font-semibold rounded-2xl hover:bg-white/50 transition-all duration-200",children:[e.jsx(Fo,{className:"w-5 h-5"}),e.jsx("span",{children:"Back to Home"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-primary-black",children:"Loyalty Rewards"}),e.jsxs("p",{className:"text-xs text-gray-dark",children:[l," Member"]})]})]}),e.jsxs("div",{className:"text-center mb-8 px-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-orange to-primary-orange-light rounded-full flex items-center justify-center mx-auto mb-4 shadow-2xl",children:e.jsx(bs,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-black text-primary-black mb-2",children:"Loyalty Rewards"}),e.jsx("p",{className:"text-lg text-gray-dark font-medium",children:"Earn points, unlock rewards"})]}),e.jsxs("div",{className:"space-y-8 px-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-primary-orange to-primary-orange-dark rounded-3xl p-8 shadow-2xl text-white",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"text-6xl",children:p?.icon}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-black mb-2",children:[l," Member"]}),e.jsx("div",{className:"text-5xl font-black mb-2",children:a.toLocaleString()}),e.jsx("p",{className:"text-lg font-medium opacity-90",children:"Available Points"})]}),A&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[e.jsxs("span",{children:[u," points to ",x]}),e.jsxs("span",{children:[Math.round(E()),"%"]})]}),e.jsx("div",{className:"w-full bg-white/20 rounded-full h-3",children:e.jsx("div",{className:"bg-white rounded-full h-3 transition-all duration-500",style:{width:`${E()}%`}})})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-xl border-2 border-gray-medium",children:e.jsxs("div",{className:"text-center",children:[e.jsx(m6,{className:"w-12 h-12 text-accent-coral mx-auto mb-3"}),e.jsx("div",{className:"text-2xl font-black text-primary-black mb-1",children:o.toLocaleString()}),e.jsx("div",{className:"text-sm font-semibold text-gray-dark",children:"Lifetime Points"})]})}),e.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-xl border-2 border-gray-medium",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ma,{className:"w-12 h-12 text-primary-orange-light mx-auto mb-3"}),e.jsx("div",{className:"text-2xl font-black text-primary-black mb-1",children:"12"}),e.jsx("div",{className:"text-sm font-semibold text-gray-dark",children:"Services Used"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-black text-primary-black flex items-center",children:[e.jsx(it,{className:"w-6 h-6 text-primary-orange mr-2"}),"Available Rewards"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:m.map(B=>e.jsx("div",{className:`bg-white rounded-3xl p-6 shadow-xl border-2 transition-all duration-300 ${B.available&&a>=B.pointsCost?"border-green-200 hover:shadow-2xl hover:-translate-y-1 cursor-pointer":B.available?"border-yellow-200 opacity-75":"border-gray-200 opacity-50"}`,onClick:()=>v(B),children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"text-4xl",children:B.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center space-x-2 mb-2",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${B.available&&a>=B.pointsCost?"bg-green-100 text-green-700":B.available?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"}`,children:B.category})}),e.jsx("h3",{className:"text-lg font-black text-primary-black mb-2",children:B.name}),e.jsx("p",{className:"text-sm text-gray-dark font-medium mb-3",children:B.description}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(bs,{className:"w-5 h-5 text-primary-orange"}),e.jsx("span",{className:"text-lg font-black text-primary-orange",children:B.pointsCost.toLocaleString()})]}),B.available&&a>=B.pointsCost&&e.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"AVAILABLE"}),B.available&&a<B.pointsCost&&e.jsxs("span",{className:"text-xs font-bold text-yellow-600 bg-yellow-100 px-2 py-1 rounded-full",children:[B.pointsCost-a," MORE"]})]})]})]})},B.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-black text-primary-black flex items-center",children:[e.jsx(f1,{className:"w-6 h-6 text-primary-orange mr-2"}),"Membership Tiers"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map((B,D)=>{const C=B.name===l,U=a>=B.min;return e.jsx("div",{className:`bg-gradient-to-br ${B.color} rounded-3xl p-6 shadow-xl text-white transition-all duration-300 ${C?"ring-4 ring-white shadow-2xl scale-105":""} ${U?"":"opacity-50"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:B.icon}),e.jsx("h3",{className:"text-xl font-black mb-2",children:B.name}),e.jsxs("p",{className:"text-sm font-medium opacity-90 mb-2",children:[B.min===0?"0":B.min.toLocaleString(),B.max===1/0?"+":` - ${B.max.toLocaleString()}`," points"]}),C&&e.jsx("div",{className:"bg-white/20 rounded-full px-3 py-1 text-xs font-bold",children:"CURRENT TIER"})]})},B.name)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-black text-primary-black flex items-center",children:[e.jsx(th,{className:"w-6 h-6 text-primary-orange mr-2"}),"Recent Activity"]}),e.jsx("div",{className:"bg-white rounded-3xl shadow-xl border-2 border-gray-medium divide-y divide-gray-medium",children:h.map(B=>e.jsxs("div",{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${B.type==="earned"?"bg-green-100":B.type==="bonus"?"bg-blue-100":"bg-red-100"}`,children:[B.type==="earned"&&e.jsx(bs,{className:"w-6 h-6 text-green-600"}),B.type==="bonus"&&e.jsx(it,{className:"w-6 h-6 text-blue-600"}),B.type==="redeemed"&&e.jsx(th,{className:"w-6 h-6 text-red-600"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-primary-black",children:B.description}),e.jsx("p",{className:"text-sm text-gray-dark font-medium",children:new Date(B.date).toLocaleDateString()})]})]}),e.jsxs("div",{className:`text-lg font-black ${B.points>0?"text-green-600":"text-red-600"}`,children:[B.points>0?"+":"",B.points]})]},B.id))})]}),e.jsx("div",{className:"bg-gradient-to-br from-primary-orange to-primary-orange-dark rounded-3xl p-8 text-white",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto",children:e.jsx(bs,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black mb-2",children:"Earn More Points"}),e.jsx("p",{className:"text-lg font-medium opacity-90 mb-4",children:"Every ₱1 spent = 1 point earned"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold mb-1",children:"• Book Services"}),e.jsx("div",{className:"opacity-80",children:"Earn 1 point per peso"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold mb-1",children:"• Refer Friends"}),e.jsx("div",{className:"opacity-80",children:"Get 200 bonus points"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold mb-1",children:"• Birthday Month"}),e.jsx("div",{className:"opacity-80",children:"Double points all month"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold mb-1",children:"• Complete Package"}),e.jsx("div",{className:"opacity-80",children:"50% bonus points"})]})]})]})]})})]})]})},X5=({onBack:c})=>{const{user:a,isAuthenticated:o}=Vs(),[l,x]=F.useState([]),[u,h]=F.useState("all"),[m,f]=F.useState(null),[g,y]=F.useState(null),[E,v]=F.useState(!1),[p,A]=F.useState(!0),[B,D]=F.useState(null),[C,U]=F.useState([]),[M,S]=F.useState([]);F.useEffect(()=>{o&&a&&N()},[o,a]);const N=async()=>{try{if(A(!0),D(null),!o||!a){D("Please log in to view your bookings");return}const z=await Xt.getUserBookings(),$=Array.isArray(z)?z:[];x($),U([]),S([])}catch(z){console.error("Error loading bookings data:",z),z.message.includes("not authenticated")?D("Authentication required. Please log in again."):D("Failed to load bookings")}finally{A(!1)}},L=async z=>{try{v(!0);const $=await Xt.cancelBooking(z);if($.success){x(_=>_.filter(H=>H.id!==z)),y(null);const I=document.createElement("div");I.className="fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",I.textContent="Booking cancelled successfully",document.body.appendChild(I),setTimeout(()=>document.body.removeChild(I),3e3)}else alert(`Failed to cancel booking: ${$.error}`)}catch($){console.error("Error cancelling booking:",$),alert("Failed to cancel booking. Please try again.")}finally{v(!1)}},k=z=>{switch(z){case"confirmed":return e.jsx(Ge,{className:"w-4 h-4 text-green-600"});case"pending":return e.jsx(Je,{className:"w-4 h-4 text-yellow-600"});case"cancelled":return e.jsx(Ie,{className:"w-4 h-4 text-red-600"});default:return e.jsx(Re,{className:"w-4 h-4",style:{color:"#8B8B8B"}})}},V=z=>{switch(z){case"confirmed":return"bg-green-50 text-green-700 border-green-200";case"pending":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"cancelled":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 border-gray-200"}},R=l.filter(z=>u==="all"?!0:z.status===u),T=[{id:"all",label:"All Bookings",count:l.length},{id:"confirmed",label:"Confirmed",count:l.filter(z=>z.status==="confirmed").length},{id:"pending",label:"Pending",count:l.filter(z=>z.status==="pending").length},{id:"cancelled",label:"Cancelled",count:l.filter(z=>z.status==="cancelled").length}];return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsx("div",{className:"sticky top-0 z-40",style:{backgroundColor:"#36454F"},children:e.jsx("div",{className:"max-w-md mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-3 py-2 text-white font-semibold rounded-lg transition-all duration-200",style:{"&:hover":{color:"#F68B24"}},onMouseEnter:z=>z.target.style.color="#F68B24",onMouseLeave:z=>z.target.style.color="white",children:[e.jsx(Fo,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Back"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-white",children:"My Bookings"}),e.jsxs("p",{className:"text-xs",style:{color:"#F68B24"},children:[l.length," total"]})]})]})})}),e.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"bg-white rounded-xl p-2 border shadow-sm",style:{borderColor:"#E0E0E0"},children:e.jsx("div",{className:"grid grid-cols-4 gap-1",children:T.map(z=>e.jsxs("button",{onClick:()=>h(z.id),className:"py-2 px-2 rounded-lg text-xs font-semibold transition-all duration-200",style:{backgroundColor:u===z.id?"#F68B24":"transparent",color:u===z.id?"white":"#8B8B8B"},onMouseEnter:$=>{u!==z.id&&($.target.style.backgroundColor="#F4F0E6")},onMouseLeave:$=>{u!==z.id&&($.target.style.backgroundColor="transparent")},children:[e.jsx("div",{children:z.label}),e.jsxs("div",{className:"text-xs mt-1",children:["(",z.count,")"]})]},z.id))})})}),p&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#F68B24",opacity:.1},children:e.jsx(Re,{className:"w-8 h-8",style:{color:"#F68B24"}})}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Loading bookings..."})]}),B&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#dc3545",opacity:.1},children:e.jsx(Ie,{className:"w-8 h-8 text-red-500"})}),e.jsx("p",{className:"text-sm text-red-600 mb-4",children:B}),e.jsx("button",{onClick:N,className:"px-4 py-2 bg-orange-500 text-white rounded-lg font-medium hover:bg-orange-600 transition-colors",children:"Try Again"})]}),!p&&!B&&e.jsx("div",{className:"space-y-3",children:R.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Re,{className:"w-12 h-12 mx-auto mb-3",style:{color:"#8B8B8B"}}),e.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:"#36454F"},children:"No Bookings Found"}),e.jsx("p",{className:"mb-4",style:{color:"#8B8B8B"},children:u==="all"?"You haven't made any bookings yet":`No ${u} bookings found`}),e.jsx("button",{onClick:c,className:"px-6 py-3 text-white font-bold rounded-xl transition-all duration-200",style:{backgroundColor:"#F68B24"},onMouseEnter:z=>z.target.style.backgroundColor="#E67E22",onMouseLeave:z=>z.target.style.backgroundColor="#F68B24",children:"Book Your First Service"})]}):R.map(z=>{const $=z.service||{},I=z.barber||{};return e.jsxs("div",{className:"bg-white rounded-xl p-4 border shadow-sm hover:shadow-lg transition-all duration-200",style:{borderColor:"#E0E0E0"},children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"#F68B24"},children:e.jsx("span",{className:"text-white text-lg",children:"✂️"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold",style:{color:"#36454F"},children:$.name||"Service"}),e.jsxs("p",{className:"text-xs",style:{color:"#8B8B8B"},children:["Code: ",z.booking_code]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[k(z.status),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold border ${V(z.status)}`,children:z.status.toUpperCase()})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Re,{className:"w-3 h-3",style:{color:"#F68B24"}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Date"}),e.jsx("p",{className:"text-sm font-bold",style:{color:"#36454F"},children:Xt.formatBookingDate(z.date)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(St,{className:"w-3 h-3",style:{color:"#F68B24"}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Time"}),e.jsx("p",{className:"text-sm font-bold",style:{color:"#36454F"},children:Xt.formatBookingTime(z.time)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"w-3 h-3",style:{color:"#F68B24"}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Barber"}),e.jsx("p",{className:"text-sm font-bold",style:{color:"#36454F"},children:I.name||"Any Barber"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#F68B24"}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Price"}),e.jsxs("p",{className:"text-sm font-bold",style:{color:"#F68B24"},children:["₱",$.price?parseFloat($.price).toLocaleString():"--"]})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[z.status==="confirmed"&&e.jsxs("button",{onClick:()=>f({...z,service:$,barber:I}),className:"flex-1 py-2 text-white font-bold rounded-lg transition-all duration-200 flex items-center justify-center space-x-2",style:{backgroundColor:"#F68B24"},onMouseEnter:_=>_.target.style.backgroundColor="#E67E22",onMouseLeave:_=>_.target.style.backgroundColor="#F68B24",children:[e.jsx(ft,{className:"w-3 h-3"}),e.jsx("span",{className:"text-sm",children:"Show QR"})]}),z.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>y({...z,service:$,barber:I}),className:"flex-1 py-2 bg-red-500 text-white font-bold rounded-lg transition-all duration-200 text-sm",onMouseEnter:_=>_.target.style.backgroundColor="#DC2626",onMouseLeave:_=>_.target.style.backgroundColor="#EF4444",children:"Cancel"}),e.jsxs("button",{onClick:()=>f({...z,service:$,barber:I}),className:"flex-1 py-2 text-white font-bold rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 text-sm",style:{backgroundColor:"#F68B24"},onMouseEnter:_=>_.target.style.backgroundColor="#E67E22",onMouseLeave:_=>_.target.style.backgroundColor="#F68B24",children:[e.jsx(ft,{className:"w-3 h-3"}),e.jsx("span",{children:"View QR"})]})]}),z.status==="cancelled"&&e.jsx("button",{onClick:c,className:"flex-1 py-2 text-white font-bold rounded-lg transition-all duration-200 text-sm",style:{backgroundColor:"#F68B24"},onMouseEnter:_=>_.target.style.backgroundColor="#E67E22",onMouseLeave:_=>_.target.style.backgroundColor="#F68B24",children:"Book Again"})]})]},z.id)})})]}),m&&e.jsx(I5,{booking:m,onClose:()=>f(null)}),g&&e.jsx(K5,{booking:g,onConfirm:()=>L(g.id),onClose:()=>y(null),loading:E})]})},I5=({booking:c,onClose:a})=>{const o=F.useRef(null),l=JSON.stringify({bookingId:c.id,bookingCode:c.booking_code,service:c.service?.name,time:c.time,barber:c.barber?.name||"Any Barber",date:c.date,barbershop:"TPX Barbershop"});return F.useEffect(()=>{const x=setTimeout(()=>{o.current?kt.toCanvas(o.current,l,{width:160,margin:2,color:{dark:"#36454F",light:"#ffffff"},errorCorrectionLevel:"H"},u=>{u&&console.error("QR Code generation error:",u)}):console.error("Canvas ref not available in MyBookings QR modal")},100);return()=>clearTimeout(x)},[l]),e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl border",style:{borderColor:"#E0E0E0"},children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mx-auto",style:{backgroundColor:"#F68B24"},children:e.jsx(ft,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-1",style:{color:"#36454F"},children:"Booking QR Code"}),e.jsx("p",{className:"text-sm",style:{color:"#36454F"},children:"Show this to staff when you arrive"})]}),e.jsx("div",{className:"p-4 rounded-xl",style:{backgroundColor:"#F4F0E6"},children:e.jsx("div",{className:"flex justify-center",children:e.jsx("canvas",{ref:o,className:"rounded-lg"})})}),e.jsx("div",{className:"rounded-xl p-3 text-left",style:{backgroundColor:"#F4F0E6",border:"1px solid #E0E0E0"},children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Service:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:c.service?.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Date:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:new Date(c.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Time:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:c.time})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Barber:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:c.barber?.name||"Any Barber"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Code:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:c.booking_code})]})]})}),e.jsx("button",{onClick:a,className:"w-full py-3 text-white font-bold rounded-xl transition-all duration-200",style:{backgroundColor:"#F68B24"},onMouseEnter:x=>x.target.style.backgroundColor="#E67E22",onMouseLeave:x=>x.target.style.backgroundColor="#F68B24",children:"Close"})]})})})},K5=({booking:c,onConfirm:a,onClose:o,loading:l})=>e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl border",style:{borderColor:"#E0E0E0"},children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto bg-red-100",children:e.jsx(Ie,{className:"w-8 h-8 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#36454F"},children:"Cancel Booking?"}),e.jsx("p",{className:"text-sm mb-4",style:{color:"#8B8B8B"},children:"Are you sure you want to cancel this booking? This action cannot be undone."})]}),e.jsx("div",{className:"rounded-xl p-4 text-left",style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA"},children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Service:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:c.service?.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Date:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:c.date?new Date(c.date).toLocaleDateString():"Today"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Time:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:c.time})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Barber:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:c.barber?.name||"Any Barber"})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",style:{borderColor:"#FECACA"},children:[e.jsx("span",{style:{color:"#36454F"},children:"Code:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:c.booking_code})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:o,disabled:l,className:"flex-1 py-3 border-2 font-bold rounded-xl transition-all duration-200",style:{borderColor:"#E0E0E0",color:"#8B8B8B"},onMouseEnter:x=>!l&&(x.target.style.backgroundColor="#F5F5F5"),onMouseLeave:x=>!l&&(x.target.style.backgroundColor="transparent"),children:"Keep Booking"}),e.jsx("button",{onClick:a,disabled:l,className:`flex-1 py-3 text-white font-bold rounded-xl transition-all duration-200 ${l?"opacity-75 cursor-not-allowed":""}`,style:{backgroundColor:l?"#CCCCCC":"#EF4444"},onMouseEnter:x=>!l&&(x.target.style.backgroundColor="#DC2626"),onMouseLeave:x=>!l&&(x.target.style.backgroundColor="#EF4444"),children:l?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),e.jsx("span",{children:"Cancelling..."})]}):"Yes, Cancel"})]})]})})}),Z5=()=>{const{user:c,logout:a}=Vs(),o=La(),[l,x]=F.useState(!1),[u,h]=F.useState(!1),[m,f]=F.useState({name:"",email:"",phone:"",address:"",dateOfBirth:"",preferences:{notifications:!0,emailUpdates:!0,smsReminders:!0}});F.useEffect(()=>{g()},[c]);const g=async()=>{try{h(!0),f({name:"John Doe",email:"john.doe@email.com",phone:"+63 912 345 6789",address:"123 Main St, Manila, Philippines",dateOfBirth:"1990-01-15",preferences:{notifications:!0,emailUpdates:!0,smsReminders:!0}})}catch(A){console.error("Error loading profile:",A)}finally{h(!1)}},y=(A,B)=>{f(D=>({...D,[A]:B}))},E=(A,B)=>{f(D=>({...D,preferences:{...D.preferences,[A]:B}}))},v=async()=>{try{h(!0),console.log("Saving profile:",m),x(!1)}catch(A){console.error("Error saving profile:",A)}finally{h(!1)}},p=()=>{a(),o("/")};return u&&!m.name?e.jsx("div",{className:"min-h-screen bg-[#F8F9FA] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#8B4513] mx-auto mb-4"}),e.jsx("p",{className:"text-[#6B6B6B]",children:"Loading profile..."})]})}):e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsx("div",{className:"sticky top-0 z-40 bg-white shadow-sm border-b border-[#E0E0E0]",children:e.jsx("div",{className:"max-w-md mx-auto px-4",children:e.jsxs("div",{className:"flex justify-between items-center py-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"#F68B24"},children:e.jsx($e,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold",style:{color:"#36454F"},children:"My Profile"}),e.jsx("p",{className:"text-sm font-medium text-[#6B6B6B]",children:"Account Settings"})]})]}),e.jsxs("button",{onClick:p,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors text-sm shadow-sm",children:[e.jsx(Ox,{className:"w-4 h-4"}),e.jsx("span",{children:"Logout"})]})]})})}),e.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 pb-20",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-[#E0E0E0] mb-6 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-[#36454F] to-[#2A3439] px-6 py-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx($e,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:m.name}),e.jsx("p",{className:"text-white/80 text-sm",children:m.email}),e.jsxs("button",{onClick:()=>x(!l),className:"mt-4 flex items-center space-x-2 px-4 py-2 bg-[#F68B24] text-white rounded-xl hover:bg-[#E67A1F] transition-colors mx-auto text-sm",children:[l?e.jsx(vr,{className:"w-4 h-4"}):e.jsx(z1,{className:"w-4 h-4"}),e.jsx("span",{children:l?"Cancel":"Edit Profile"})]})]})})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-[#E0E0E0] mb-4",children:[e.jsx("div",{className:"px-4 py-4 border-b border-[#E0E0E0]",children:e.jsx("h3",{className:"text-lg font-semibold",style:{color:"#36454F"},children:"Personal Information"})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[#6B6B6B] mb-2",children:[e.jsx($e,{className:"w-4 h-4 inline mr-2"}),"Full Name"]}),l?e.jsx("input",{type:"text",value:m.name,onChange:A=>y("name",A.target.value),className:"w-full px-4 py-3 border border-[#E0E0E0] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#F68B24]"}):e.jsx("p",{className:"px-4 py-3 bg-[#F4F0E6] rounded-xl text-[#1A1A1A]",children:m.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[#6B6B6B] mb-2",children:[e.jsx(gr,{className:"w-4 h-4 inline mr-2"}),"Email Address"]}),l?e.jsx("input",{type:"email",value:m.email,onChange:A=>y("email",A.target.value),className:"w-full px-4 py-3 border border-[#E0E0E0] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#F68B24]"}):e.jsx("p",{className:"px-4 py-3 bg-[#F4F0E6] rounded-xl text-[#1A1A1A]",children:m.email})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[#6B6B6B] mb-2",children:[e.jsx(jo,{className:"w-4 h-4 inline mr-2"}),"Phone Number"]}),l?e.jsx("input",{type:"tel",value:m.phone,onChange:A=>y("phone",A.target.value),className:"w-full px-4 py-3 border border-[#E0E0E0] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#F68B24]"}):e.jsx("p",{className:"px-4 py-3 bg-[#F4F0E6] rounded-xl text-[#1A1A1A]",children:m.phone})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[#6B6B6B] mb-2",children:[e.jsx(Re,{className:"w-4 h-4 inline mr-2"}),"Date of Birth"]}),l?e.jsx("input",{type:"date",value:m.dateOfBirth,onChange:A=>y("dateOfBirth",A.target.value),className:"w-full px-4 py-3 border border-[#E0E0E0] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#F68B24]"}):e.jsx("p",{className:"px-4 py-3 bg-[#F4F0E6] rounded-xl text-[#1A1A1A]",children:new Date(m.dateOfBirth).toLocaleDateString("en-PH")})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-[#E0E0E0] mb-4",children:[e.jsx("div",{className:"px-4 py-4 border-b border-[#E0E0E0]",children:e.jsx("h3",{className:"text-lg font-semibold",style:{color:"#36454F"},children:"Contact & Preferences"})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[#6B6B6B] mb-2",children:[e.jsx(Ux,{className:"w-4 h-4 inline mr-2"}),"Address"]}),l?e.jsx("textarea",{value:m.address,onChange:A=>y("address",A.target.value),rows:3,className:"w-full px-4 py-3 border border-[#E0E0E0] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#F68B24] resize-none"}):e.jsx("p",{className:"px-4 py-3 bg-[#F4F0E6] rounded-xl text-[#1A1A1A]",children:m.address})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-[#6B6B6B]",children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-3 rounded-xl bg-[#F4F0E6]",children:[e.jsx("input",{type:"checkbox",checked:m.preferences.notifications,onChange:A=>E("notifications",A.target.checked),disabled:!l,className:"w-4 h-4 text-[#F68B24] border-[#E0E0E0] rounded focus:ring-[#F68B24]"}),e.jsx("span",{className:"text-sm text-[#1A1A1A]",children:"Push notifications"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-3 rounded-xl bg-[#F4F0E6]",children:[e.jsx("input",{type:"checkbox",checked:m.preferences.emailUpdates,onChange:A=>E("emailUpdates",A.target.checked),disabled:!l,className:"w-4 h-4 text-[#F68B24] border-[#E0E0E0] rounded focus:ring-[#F68B24]"}),e.jsx("span",{className:"text-sm text-[#1A1A1A]",children:"Email updates"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-3 rounded-xl bg-[#F4F0E6]",children:[e.jsx("input",{type:"checkbox",checked:m.preferences.smsReminders,onChange:A=>E("smsReminders",A.target.checked),disabled:!l,className:"w-4 h-4 text-[#F68B24] border-[#E0E0E0] rounded focus:ring-[#F68B24]"}),e.jsx("span",{className:"text-sm text-[#1A1A1A]",children:"SMS reminders"})]})]})]})]})]}),l&&e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-[#E0E0E0] p-4",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>x(!1),className:"flex-1 px-4 py-3 border border-[#E0E0E0] text-[#6B6B6B] rounded-xl hover:bg-[#F4F0E6] transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:v,disabled:u,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-[#F68B24] text-white rounded-xl hover:bg-[#E67A1F] transition-colors disabled:opacity-50",children:[e.jsx(Hr,{className:"w-4 h-4"}),e.jsx("span",{children:u?"Saving...":"Save Changes"})]})]})})]})]})};class J5{constructor(){this.pendingRequests=new Map}async getUserPoints(){try{const a=Ve.getUserId();if(!a)throw new Error("User not authenticated");const o=`user-points-${a}`,l=Le.get(o);if(l)return l;if(this.pendingRequests.has(o))return this.pendingRequests.get(o);const x=this._fetchUserPoints(a,o);return this.pendingRequests.set(o,x),x}catch(a){throw console.error("Error fetching user points:",a),new Error("Failed to load your loyalty points. Please try again.")}}async _fetchUserPoints(a,o){try{const l=await he.get(`/points/?user=${a}`,{timeout:3e4});let x=null;Array.isArray(l)?x=l.find(h=>h.user===a):l.results&&Array.isArray(l.results)?x=l.results.find(h=>h.user===a):l.user===a&&(x=l);const u=this.transformPointsData(x||{user:a,total_points:0,last_updated:null});return Le.set(o,u),this.pendingRequests.delete(o),u}catch(l){throw this.pendingRequests.delete(o),l}}async getAllPoints(){try{const a=Ve.getUserRole(),o=Ve.getIsStaff();if(a!=="staff"&&a!=="administrator"&&!o)throw new Error("Unauthorized: Only staff can access all points data");const l="all-points",x=yt.get(l);if(x)return x;if(this.pendingRequests.has(l))return this.pendingRequests.get(l);const u=this._fetchAllPoints(l);return this.pendingRequests.set(l,u),u}catch(a){throw console.error("Error fetching all points:",a),new Error("Failed to load loyalty points data. Please try again.")}}async _fetchAllPoints(a){try{const o=await he.get("/points/",{timeout:3e4});let l=[];Array.isArray(o)?l=o:o.results&&Array.isArray(o.results)&&(l=o.results);const x=l.map(u=>this.transformPointsData(u));return yt.set(a,x,120*1e3),this.pendingRequests.delete(a),x}catch(o){throw this.pendingRequests.delete(a),o}}async getPointsHistory(a=null){try{const o=a||Ve.getUserId();if(!o)throw new Error("User not authenticated");const l=`points-history-${o}`,x=Le.get(l);if(x)return x;const u=await he.get(`/points/history/?user=${o}`,{timeout:3e4});let h=[];Array.isArray(u)?h=u:u.results&&Array.isArray(u.results)&&(h=u.results);const m=h.map(f=>this.transformTransactionData(f));return Le.set(l,m,60*1e3),m}catch(o){return console.error("Error fetching points history:",o),[]}}async addPoints(a,o,l="Points earned"){try{const x=await he.post("/points/add/",{user:a,points:o,description:l},{timeout:3e4});return this.clearUserCache(a),{success:!0,data:this.transformTransactionData(x)}}catch(x){return console.error("Error adding points:",x),{success:!1,error:x?.message||"Failed to add points"}}}async redeemPoints(a,o,l="Points redeemed"){try{const x=await he.post("/points/redeem/",{user:a,points:o,description:l},{timeout:3e4});return this.clearUserCache(a),{success:!0,data:this.transformTransactionData(x)}}catch(x){return console.error("Error redeeming points:",x),{success:!1,error:x?.message||"Failed to redeem points"}}}transformPointsData(a){return{id:a.id,user:a.user,total_points:a.total_points||0,last_updated:a.last_updated,created_at:a.created_at,updated_at:a.updated_at,displayPoints:this.formatPoints(a.total_points||0),lastUpdatedFormatted:this.formatDate(a.last_updated),pointsLevel:this.getPointsLevel(a.total_points||0),nextLevelPoints:this.getNextLevelPoints(a.total_points||0)}}transformTransactionData(a){return{id:a.id,user:a.user,points:a.points,description:a.description||"Points transaction",transaction_type:a.transaction_type||"earned",created_at:a.created_at,displayPoints:this.formatPoints(Math.abs(a.points)),isEarned:a.points>0,isRedeemed:a.points<0,dateFormatted:this.formatDate(a.created_at),timeFormatted:this.formatTime(a.created_at)}}formatPoints(a){return a.toLocaleString()}formatDate(a){return a?new Date(a).toLocaleDateString("en-PH"):"N/A"}formatTime(a){return a?new Date(a).toLocaleTimeString("en-PH",{hour:"numeric",minute:"2-digit",hour12:!0}):"N/A"}getPointsLevel(a){return a>=1e4?"Platinum":a>=5e3?"Gold":a>=1e3?"Silver":"Bronze"}getNextLevelPoints(a){return a>=1e4?0:a>=5e3?1e4-a:a>=1e3?5e3-a:1e3-a}clearUserCache(a=null){const o=a||Ve.getUserId();o&&(Le.delete(`user-points-${o}`),Le.delete(`points-history-${o}`))}clearAllCache(){yt.clear(),Le.clear(),this.pendingRequests.clear()}}const Mh=new J5,Rh=()=>{const{user:c,isAuthenticated:a}=Vs(),[o,l]=F.useState("home"),[x,u]=F.useState(null),[h,m]=F.useState(0),[f,g]=F.useState(0),[y,E]=F.useState(!0),v=[{id:"home",label:"Home",icon:j1},{id:"booking",label:"Book",icon:Re},{id:"bookings",label:"Bookings",icon:A1},{id:"vouchers",label:"Vouchers",icon:it},{id:"profile",label:"Profile",icon:$e}];F.useEffect(()=>{a&&c&&p()},[a,c]);const p=async()=>{try{E(!0);const D=await Mh.getUserPoints();m(D.total_points||0);const C=await fr.getAvailableVouchers();g(C.length)}catch(D){console.error("Error loading dashboard data:",D)}finally{E(!1)}},A=[{label:"Loyalty Points",value:y?"...":Mh.formatPoints(h),icon:bs},{label:"Active Vouchers",value:y?"...":f.toString(),icon:it}],B=()=>{switch(o){case"booking":return e.jsx(U5,{onBack:D=>l(D||"home")});case"bookings":return e.jsx(X5,{onBack:()=>l("home")});case"vouchers":return e.jsx(Q5,{onBack:()=>l("home")});case"loyalty":return e.jsx(G5,{onBack:()=>l("home")});case"profile":return e.jsx(Z5,{});default:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsxs("div",{className:"h-56 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${Px})`,filter:"brightness(0.7) contrast(1.1)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/40 via-transparent to-black/60"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx("div",{className:"absolute top-4 left-4 w-2 h-2 bg-orange-300 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute top-12 right-8 w-1 h-1 bg-white rounded-full animate-ping"}),e.jsx("div",{className:"absolute bottom-16 left-8 w-1.5 h-1.5 bg-orange-200 rounded-full animate-pulse",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute bottom-8 right-4 w-1 h-1 bg-white rounded-full animate-ping",style:{animationDelay:"2s"}})]}),e.jsx("svg",{className:"absolute bottom-0 left-0 right-0",viewBox:"0 0 1440 120",fill:"none",children:e.jsx("path",{d:"M0,64L1440,96L1440,120L0,120Z",fill:"#F4F0E6"})})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-center px-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-light text-white drop-shadow-2xl tracking-wider",children:[e.jsx("span",{className:"font-thin",children:"TPX"}),e.jsx("span",{className:"font-extralight text-orange-200 ml-2",children:"BARBERSHOP"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-16 h-px bg-gradient-to-r from-transparent via-orange-300 to-transparent"})}),e.jsx("p",{className:"text-white/80 font-light text-sm tracking-widest uppercase",children:"Premium Grooming"})]})})]}),e.jsx("div",{className:"px-4 -mt-6 relative z-10",children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:A.map(D=>{const C=D.icon;return e.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-lg border",style:{borderColor:"#E0E0E0"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-2",style:{backgroundColor:"#F68B24"},children:e.jsx(C,{className:"w-6 h-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold",style:{color:"#36454F"},children:D.value}),e.jsx("div",{className:"text-sm font-medium",style:{color:"#8B8B8B"},children:D.label})]})},D.label)})})}),e.jsx("div",{className:"px-4 space-y-4",children:e.jsx("button",{onClick:()=>l("booking"),className:"w-full p-6 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/20 flex items-center justify-center",children:e.jsx(Re,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Book Your Service"}),e.jsx("p",{className:"text-white/80",children:"Schedule your next appointment"})]})]})})}),e.jsxs("div",{className:"bg-white mx-4 rounded-xl p-4 shadow-sm border",style:{borderColor:"#E0E0E0"},children:[e.jsx("h3",{className:"text-sm font-bold mb-3 text-center",style:{color:"#36454F"},children:"Shop Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:"#F68B24"},children:e.jsx(Ux,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"text-xs font-medium",style:{color:"#8B8B8B"},children:"123 Main Street, Quezon City"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:"#F68B24"},children:e.jsx(jo,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"text-xs font-medium",style:{color:"#8B8B8B"},children:"+63 912 345 6789"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:"#F68B24"},children:e.jsx(St,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"text-xs font-medium",style:{color:"#8B8B8B"},children:"9:00 AM - 8:00 PM (Mon-Sat)"})]})]})]})]})}};return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsx("div",{className:"sticky top-0 z-40",style:{backgroundColor:"#36454F"},children:e.jsx("div",{className:"max-w-md mx-auto px-4",children:e.jsxs("div",{className:"flex justify-between items-center py-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:"#F68B24"},children:e.jsx($e,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-bold text-white",children:"TPX Barbershop"}),e.jsx("p",{className:"text-xs font-medium",style:{color:"#F68B24"},children:"Dashboard"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-medium text-white",children:"Welcome"}),e.jsx("p",{className:"text-xs text-gray-300",children:new Date().toLocaleDateString()})]})]})})}),e.jsx("div",{className:"max-w-md mx-auto pb-20",children:B()}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-2xl",style:{borderTop:"1px solid #E0E0E0"},children:e.jsx("div",{className:"max-w-md mx-auto px-3",children:e.jsx("div",{className:"grid grid-cols-5 py-2",children:v.map(D=>{const C=D.icon,U=o===D.id;return e.jsxs("button",{onClick:()=>l(D.id),className:"flex flex-col items-center justify-center py-2 px-1 rounded-2xl transition-all duration-300 relative",style:{backgroundColor:U?"#F68B24":"transparent",color:U?"white":"#8B8B8B"},children:[U&&e.jsx("div",{className:"absolute -top-1 w-1 h-1 rounded-full",style:{backgroundColor:"#36454F"}}),e.jsx("div",{className:`p-2 rounded-xl mb-1 transition-all duration-300 ${U?"bg-white/20 scale-110":"bg-transparent"}`,children:e.jsx(C,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-xs font-medium tracking-wide",children:D.label})]},D.id)})})})})]})};function W5(){const[c,a]=F.useState(null),[o,l]=F.useState(""),[x,u]=F.useState(""),[h,m]=F.useState(null),[f,g]=F.useState([]),[y,E]=F.useState([]),[v,p]=F.useState(!1),[A,B]=F.useState(""),[D,C]=F.useState(null),[U,M]=F.useState(""),S=La(),{user:N,isAuthenticated:L}=Vs(),k=["09:00","09:30","10:00","10:30","11:00","11:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"];F.useEffect(()=>{if(!L){S("/auth/login");return}V()},[L,S]);const V=async()=>{p(!0),B("");try{const[_,H]=await Promise.all([Xt.getServices(),Xt.getBarbers()]);g(_||[]),E(H||[])}catch(_){B("Failed to load booking data. Please try again."),console.error("Error loading booking data:",_)}finally{p(!1)}},R=_=>`₱${parseFloat(_).toFixed(2)}`,T=_=>{const[H,j]=_.split(":"),P=parseInt(H),J=P>=12?"PM":"AM";return`${P===0?12:P>12?P-12:P}:${j} ${J}`},z=async _=>{try{const H=await kt.toDataURL(_,{width:200,margin:2,color:{dark:"#36454F",light:"#FFFFFF"}});M(H)}catch(H){console.error("Error generating QR code:",H)}},$=async()=>{if(!c||!o||!x){B("Please select service, date, and time");return}p(!0),B("");try{const _=x.includes(":")?`${x}:00`:x,H={service:c.id,date:o,time:_,...h&&{barber:h.id}},j=await Xt.createBooking(H);j.success?(C(j.data),j.data.booking_code&&await z(j.data.booking_code)):B(j.error||"Failed to create booking")}catch(_){B("An unexpected error occurred. Please try again."),console.error("Booking error:",_)}finally{p(!1)}},I=()=>{C(null),M(""),a(null),l(""),u(""),m(null),B("")};return v&&!f.length?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F4F0E6"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:"#F68B24"}}),e.jsx("p",{style:{color:"#36454F"},children:"Loading booking options..."})]})}):D?e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsx("header",{style:{backgroundColor:"#36454F"},className:"shadow-sm sticky top-0 z-10",children:e.jsx("div",{className:"px-4 py-4 flex items-center",children:e.jsx("h1",{className:"text-xl font-bold",style:{color:"#F4F0E6"},children:"Booking Confirmed"})})}),e.jsx("div",{className:"px-4 py-6 space-y-6",children:e.jsxs(ns,{style:{backgroundColor:"white",border:"2px solid #22C55E"},children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"✓"})}),e.jsx("h2",{className:"text-xl font-bold text-green-600 mb-2",children:"Booking Confirmed!"}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Your appointment has been successfully booked"})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:"Booking Code:"}),e.jsx("span",{className:"font-bold",style:{color:"#F68B24"},children:D.booking_code})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Service:"}),e.jsx("span",{style:{color:"#36454F"},children:c.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Date:"}),e.jsx("span",{style:{color:"#36454F"},children:o})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Time:"}),e.jsx("span",{style:{color:"#36454F"},children:T(x)})]}),h&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Barber:"}),e.jsx("span",{style:{color:"#36454F"},children:h.full_name})]}),e.jsxs("div",{className:"flex justify-between font-bold pt-2",style:{borderTop:"1px solid #E0E0E0"},children:[e.jsx("span",{style:{color:"#36454F"},children:"Total:"}),e.jsx("span",{style:{color:"#F68B24"},children:R(c.price)})]})]}),U&&e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"font-semibold mb-3",style:{color:"#36454F"},children:"QR Code"}),e.jsx("img",{src:U,alt:"Booking QR Code",className:"mx-auto"}),e.jsx("p",{className:"text-xs mt-2",style:{color:"#8B8B8B"},children:"Show this QR code at the barbershop"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(xt,{onClick:()=>S("/customer/dashboard"),className:"w-full",style:{backgroundColor:"#F68B24",color:"white"},children:"Go to Dashboard"}),e.jsx(xt,{onClick:I,className:"w-full",style:{backgroundColor:"white",color:"#36454F",border:"1px solid #E0E0E0"},children:"Book Another Appointment"})]})]})})]}):e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsx("header",{style:{backgroundColor:"#36454F"},className:"shadow-sm sticky top-0 z-10",children:e.jsxs("div",{className:"px-4 py-4 flex items-center",children:[e.jsx(ps,{to:"/customer/dashboard",className:"mr-4",children:e.jsx("span",{className:"text-xl",style:{color:"#F4F0E6"},children:"←"})}),e.jsx("h1",{className:"text-xl font-bold",style:{color:"#F4F0E6"},children:"Book Appointment"})]})}),e.jsxs("div",{className:"px-4 py-6 space-y-6",children:[A&&e.jsx(ns,{style:{backgroundColor:"#FEF2F2",border:"1px solid #FCA5A5"},children:e.jsx("p",{className:"text-sm text-red-600",children:A})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"#36454F"},children:"1. Choose Service"}),e.jsx("div",{className:"grid gap-3",children:f.map(_=>e.jsxs(ns,{className:"cursor-pointer transition-all",style:{backgroundColor:"white",border:c?.id===_.id?"2px solid #F68B24":"1px solid #E0E0E0"},onClick:()=>a(_),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",style:{color:"#36454F"},children:_.name}),e.jsx("p",{className:"text-sm mt-1",style:{color:"#8B8B8B"},children:_.description}),e.jsxs("p",{className:"text-sm mt-2",style:{color:"#8B8B8B"},children:[_.duration_minutes," minutes"]})]}),e.jsx("div",{className:"text-right ml-4",children:e.jsx("p",{className:"font-bold text-lg",style:{color:"#F68B24"},children:R(_.price)})})]}),c?.id===_.id&&e.jsx("div",{className:"mt-3 pt-3",style:{borderTop:"1px solid #F68B24"},children:e.jsx("span",{className:"text-sm font-medium",style:{color:"#F68B24"},children:"✓ Selected"})})]},_.id))})]}),c&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"#36454F"},children:"2. Choose Date"}),e.jsx(ns,{style:{backgroundColor:"white",border:"1px solid #E0E0E0"},children:e.jsx("input",{type:"date",value:o,onChange:_=>l(_.target.value),min:new Date().toISOString().split("T")[0],className:"w-full p-3 border-2 rounded-lg focus:outline-none",style:{borderColor:"#E0E0E0"},onFocus:_=>_.target.style.borderColor="#F68B24",onBlur:_=>_.target.style.borderColor="#E0E0E0"})})]}),c&&o&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"#36454F"},children:"3. Choose Time"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:k.map(_=>e.jsx("button",{onClick:()=>u(_),className:"p-3 rounded-lg border-2 text-sm font-medium transition-colors",style:{backgroundColor:x===_?"#F68B24":"white",borderColor:x===_?"#F68B24":"#E0E0E0",color:x===_?"white":"#36454F"},onMouseEnter:H=>{x!==_&&(H.target.style.borderColor="#F68B24")},onMouseLeave:H=>{x!==_&&(H.target.style.borderColor="#E0E0E0")},children:T(_)},_))})]}),c&&o&&x&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"#36454F"},children:"4. Choose Barber (Optional)"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>m(null),className:"w-full p-4 rounded-lg border-2 text-left transition-colors",style:{backgroundColor:h===null?"rgba(246, 139, 36, 0.1)":"white",borderColor:h===null?"#F68B24":"#E0E0E0"},onMouseEnter:_=>{h!==null&&(_.target.style.borderColor="#F68B24")},onMouseLeave:_=>{h!==null&&(_.target.style.borderColor="#E0E0E0")},children:[e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:"No preference"}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Any available barber"})]}),y.map(_=>e.jsxs("button",{onClick:()=>m(_),className:"w-full p-4 rounded-lg border-2 text-left transition-colors",style:{backgroundColor:h?.id===_.id?"rgba(246, 139, 36, 0.1)":"white",borderColor:h?.id===_.id?"#F68B24":"#E0E0E0"},onMouseEnter:H=>{h?.id!==_.id&&(H.target.style.borderColor="#F68B24")},onMouseLeave:H=>{h?.id!==_.id&&(H.target.style.borderColor="#E0E0E0")},children:[e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:_.full_name}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Professional barber"})]},_.id))]})]}),c&&o&&x&&!D&&e.jsx("div",{className:"mt-6",children:e.jsx(xt,{onClick:$,disabled:v,className:"w-full transition-colors",style:{backgroundColor:v?"#8B8B8B":"#F68B24",color:"white",cursor:v?"not-allowed":"pointer"},onMouseEnter:_=>{v||(_.target.style.backgroundColor="#E67E22")},onMouseLeave:_=>{v||(_.target.style.backgroundColor="#F68B24")},children:v?"Creating Booking...":"Confirm Booking"})})]}),e.jsx("div",{className:"h-8"})]})}function eE(){const[c,a]=F.useState(null),[o,l]=F.useState(""),[x,u]=F.useState(""),[h,m]=F.useState(!1),[f,g]=F.useState(!1),[y,E]=F.useState([]),[v,p]=F.useState([]),[A,B]=F.useState(!0),[D,C]=F.useState(null),U=()=>{a(null),l(""),u(""),g(!1)};F.useEffect(()=>{(async()=>{try{B(!0),C(null);const[L,k]=await Promise.all([Xt.getServices(),Xt.getBarbers()]);E(L),p(k)}catch(L){console.error("Error loading booking data:",L),C("Failed to load services and barbers. Please try again.")}finally{B(!1)}})()},[]);const M=async()=>{if(c){m(!0),C(null);try{const N={service_id:c.id,barber_id:o||null,date:new Date().toISOString().split("T")[0],time:"10:00",notes:`Kiosk booking for ${c.name}`},k=(await Xt.createBooking(N)).booking_code,V=await kt.toDataURL(k,{width:300,margin:2,color:{dark:"#36454F",light:"#FFFFFF"}});u(V),g(!0)}catch(N){console.error("Error creating booking:",N),C("Failed to create booking. Please try again.")}finally{m(!1)}}},S=()=>{const N=window.open("","_blank");N.document.write(`
      <html>
        <head>
          <title>TPX Barbershop - Booking QR Code</title>
          <style>
            body { 
              font-family: Arial, sans-serif; 
              text-align: center; 
              padding: 20px;
              margin: 0;
            }
            .header { 
              color: #36454F; 
              margin-bottom: 20px; 
            }
            .qr-container { 
              margin: 20px 0; 
            }
            .service-info { 
              background: #F0F8FF; 
              padding: 15px; 
              border-radius: 10px; 
              margin: 20px 0; 
              border: 1px solid #E0E0E0;
            }
            .footer { 
              color: #8B8B8B; 
              font-size: 12px; 
              margin-top: 30px; 
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>TPX Barbershop</h1>
            <h2>Booking Confirmation</h2>
          </div>
          <div class="service-info">
            <h3>Service: ${c?.name}</h3>
            <p>Price: ₱${c?.price}</p>
            ${o?`<p>Barber: ${v.find(L=>L.id===o)?.name}</p>`:""}
            <p>Date: ${new Date().toLocaleDateString()}</p>
          </div>
          <div class="qr-container">
            <img src="${x}" alt="Booking QR Code" />
          </div>
          <div class="footer">
            <p>Show this QR code at the kiosk to confirm your appointment</p>
            <p>Thank you for choosing TPX Barbershop!</p>
          </div>
        </body>
      </html>
    `),N.document.close(),N.print()};return A?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-t-transparent rounded-full animate-spin mx-auto mb-4",style:{borderColor:"#F68B24",borderTopColor:"transparent"}}),e.jsx("p",{className:"text-lg font-medium",style:{color:"#36454F"},children:"Loading Services..."})]})}):D?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#FEE"},children:e.jsx(X,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#36454F"},children:"Error Loading Data"}),e.jsx("p",{className:"text-red-600 mb-4",children:D}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 text-white font-bold rounded-xl transition-colors duration-200",style:{backgroundColor:"#F68B24"},onMouseEnter:N=>N.target.style.backgroundColor="#E67A1F",onMouseLeave:N=>N.target.style.backgroundColor="#F68B24",children:"Retry"})]}):e.jsx("div",{className:"space-y-6",children:f?e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg text-center",style:{border:"1px solid #E0E0E0"},children:[e.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",style:{backgroundColor:"#4CAF50"},children:e.jsx(Ge,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold mb-2",style:{color:"#36454F"},children:"Booking Confirmed!"}),e.jsx("p",{className:"text-lg mb-6",style:{color:"#4CAF50"},children:"Your appointment has been scheduled"}),e.jsxs("div",{className:"rounded-xl p-6 mb-6 text-left",style:{backgroundColor:"#F0F8FF",border:"1px solid #E0E0E0"},children:[e.jsx("h3",{className:"font-bold mb-4",style:{color:"#36454F"},children:"Booking Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#8B8B8B"},children:"Service:"}),e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:c?.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#8B8B8B"},children:"Price:"}),e.jsxs("span",{className:"font-medium",style:{color:"#36454F"},children:["₱",c?.price]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#8B8B8B"},children:"Duration:"}),e.jsxs("span",{className:"font-medium",style:{color:"#36454F"},children:[c?.duration," minutes"]})]}),o&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#8B8B8B"},children:"Barber:"}),e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:v.find(N=>N.id===o)?.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#8B8B8B"},children:"Date:"}),e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:new Date().toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"rounded-xl p-6 mb-6",style:{backgroundColor:"#FFFFFF",border:"2px solid #F68B24"},children:[e.jsx("h3",{className:"font-bold mb-4",style:{color:"#36454F"},children:"Your Booking QR Code"}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:x,alt:"Booking QR Code",className:"rounded-lg shadow-lg",style:{maxWidth:"200px",height:"auto"}})}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Show this QR code at the kiosk scanner to confirm your appointment"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:S,className:"px-6 py-3 text-white font-bold rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2",style:{backgroundColor:"#36454F"},onMouseEnter:N=>N.target.style.backgroundColor="#2A3640",onMouseLeave:N=>N.target.style.backgroundColor="#36454F",children:e.jsx("span",{children:"Print QR Code"})}),e.jsx("button",{onClick:U,className:"px-6 py-3 font-bold rounded-xl transition-colors duration-200 border-2",style:{color:"#36454F",borderColor:"#36454F",backgroundColor:"transparent"},onMouseEnter:N=>{N.target.style.backgroundColor="#36454F",N.target.style.color="white"},onMouseLeave:N=>{N.target.style.backgroundColor="transparent",N.target.style.color="#36454F"},children:"Book Another Service"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",style:{border:"1px solid #E0E0E0"},children:[e.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:"#36454F"},children:"Choose Your Service"}),e.jsx("div",{className:"grid gap-3",children:y.map(N=>e.jsx("div",{onClick:()=>a(N),className:`p-4 rounded-xl cursor-pointer transition-all duration-200 transform hover:scale-105 ${c?.id===N.id?"ring-2 ring-offset-2":"hover:shadow-md"}`,style:{backgroundColor:c?.id===N.id?"#F0F8FF":"#F4F0E6",border:"1px solid #E0E0E0",ringColor:c?.id===N.id?"#F68B24":"transparent"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg",style:{color:"#36454F"},children:N.name}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:N.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-lg",style:{color:"#36454F"},children:["₱",N.price]}),e.jsxs("p",{className:"text-sm",style:{color:"#8B8B8B"},children:[N.duration," min"]})]})]})},N.id))})]}),c&&e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",style:{border:"1px solid #E0E0E0"},children:[e.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:"#36454F"},children:"Choose Your Barber (Optional)"}),e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{onClick:()=>l(""),className:`p-4 rounded-xl cursor-pointer transition-all duration-200 transform hover:scale-105 ${o===""?"ring-2 ring-offset-2":"hover:shadow-md"}`,style:{backgroundColor:o===""?"#F0F8FF":"#F4F0E6",border:"1px solid #E0E0E0",ringColor:o===""?"#F68B24":"transparent"},children:[e.jsx("h4",{className:"font-bold",style:{color:"#36454F"},children:"Any Available Barber"}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"We'll assign the next available barber"})]}),v.map(N=>e.jsx("div",{onClick:()=>l(N.id),className:`p-4 rounded-xl cursor-pointer transition-all duration-200 transform hover:scale-105 ${o===N.id?"ring-2 ring-offset-2":"hover:shadow-md"}`,style:{backgroundColor:o===N.id?"#F0F8FF":"#F4F0E6",border:"1px solid #E0E0E0",ringColor:o===N.id?"#F68B24":"transparent"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",style:{color:"#36454F"},children:N.name}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:N.specialties})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-medium",style:{color:"#4CAF50"},children:[N.rating,"⭐ (",N.reviews," reviews)"]})})]})},N.id))]})]}),c&&e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:M,disabled:h,className:"px-8 py-4 text-white font-bold rounded-xl transition-all duration-200 text-lg shadow-lg transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:h?"#8B8B8B":"#F68B24"},onMouseEnter:N=>!h&&(N.target.style.backgroundColor="#E67A1F"),onMouseLeave:N=>!h&&(N.target.style.backgroundColor="#F68B24"),children:h?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Dt,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Creating Booking..."})]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ft,{className:"w-5 h-5"}),e.jsx("span",{children:"Generate Booking QR"})]})})})]})})}const tE=()=>{const[c,a]=F.useState(!1),[o,l]=F.useState(!1),x=async()=>{try{return navigator.permissions?(await navigator.permissions.query({name:"camera"})).state==="granted":!0}catch(m){return console.log("Permissions API not available:",m),!0}},u=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?{video:{facingMode:{ideal:"environment"},width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080},frameRate:{ideal:30,max:60},aspectRatio:{ideal:16/9}},audio:!1}:{video:{width:{ideal:1280},height:{ideal:720},frameRate:{ideal:30}},audio:!1};return{cameraPermissionDenied:c,setCameraPermissionDenied:a,requestingPermission:o,setRequestingPermission:l,checkCameraPermissions:x,requestCameraPermission:async()=>{l(!0),a(!1);try{let m=null;try{m=await navigator.mediaDevices.getUserMedia(u())}catch(f){console.log("Optimal constraints failed, trying fallback:",f),m=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{min:320,ideal:640},height:{min:240,ideal:480}},audio:!1})}return m&&m.getTracks().forEach(f=>f.stop()),l(!1),!0}catch(m){return console.error("Camera permission denied:",m),l(!1),m.name==="NotAllowedError"||m.name==="PermissionDeniedError"?(a(!0),{error:"Camera access denied. Please allow camera permissions and refresh the page."}):m.name==="NotFoundError"?{error:"No camera found on this device."}:m.name==="OverconstrainedError"?{error:"Camera constraints not supported. Please try a different device."}:{error:"Camera access failed. Please check your device settings."}}}}},sE=({onRetry:c})=>e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:e.jsxs("div",{className:"text-center text-white p-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#F44336"},children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.314 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Camera Access Required"}),e.jsx("p",{className:"text-sm mb-4 opacity-90",children:"This kiosk needs camera access to scan QR codes. Please:"}),e.jsxs("div",{className:"text-left text-sm mb-6 space-y-2 opacity-90",children:[e.jsx("p",{children:"1. Click the camera icon in your browser's address bar"}),e.jsx("p",{children:'2. Select "Allow" for camera access'}),e.jsx("p",{children:"3. Refresh this page"})]}),e.jsx("button",{onClick:c,className:"px-6 py-3 bg-white text-black font-bold rounded-xl transition-colors duration-200 hover:bg-gray-100",children:"Try Again"})]})}),rE=({requestingPermission:c})=>e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-t-transparent rounded-full animate-spin mx-auto mb-3",style:{borderColor:"#F68B24",borderTopColor:"transparent"}}),e.jsx("p",{className:"text-lg font-medium",children:c?"Requesting Camera Access...":"Initializing Camera..."}),e.jsx("p",{className:"text-sm mt-2",style:{color:"#F68B24",opacity:.8},children:c?"Please allow camera access in the popup":"Please allow camera access"})]})}),aE=({onQRDetected:c,scannerError:a,setScannerError:o,showCamera:l,setShowCamera:x})=>{const u=F.useRef(null),h=F.useRef(null),{cameraPermissionDenied:m,setCameraPermissionDenied:f,requestingPermission:g,checkCameraPermissions:y,requestCameraPermission:E}=tE(),v=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?{highlightScanRegion:!0,highlightCodeOutline:!0,preferredCamera:"environment",maxScansPerSecond:3,calculateScanRegion:C=>{const U=Math.min(C.videoWidth,C.videoHeight),M=Math.floor(U*.6),S=Math.floor((C.videoWidth-M)/2),N=Math.floor((C.videoHeight-M)/2);return{x:S,y:N,width:M,height:M}}}:{highlightScanRegion:!0,highlightCodeOutline:!0,preferredCamera:"environment",maxScansPerSecond:5},p=async()=>{try{if(!u.current)return;if(!await y()){const U=await E();if(U?.error){o(U.error);return}}const C=u.current;C.setAttribute("playsinline","true"),C.setAttribute("webkit-playsinline","true"),C.setAttribute("muted","true"),C.setAttribute("autoplay","true"),C.style.touchAction="manipulation",h.current=new je(C,async U=>{console.log("QR Code detected:",U.data),navigator.vibrate&&navigator.vibrate(100),await c(U.data)},v()),await h.current.start(),x(!0),f(!1),o("")}catch(D){console.error("Error starting camera:",D),D.name==="NotAllowedError"||D.name==="PermissionDeniedError"?(f(!0),o("Camera access denied. Please allow camera permissions in your browser settings.")):D.name==="NotFoundError"?o("No camera found on this device."):D.name==="OverconstrainedError"?o("Camera settings not supported on this device. Please try a different browser."):o("Failed to start camera. Please refresh the page and try again.")}},A=()=>{h.current&&(h.current.stop(),h.current.destroy(),h.current=null),x(!1)};F.useEffect(()=>(p(),()=>{A()}),[]);const B=async()=>{f(!1),o(""),await p()};return e.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden",style:{aspectRatio:"16/9"},children:[e.jsx("video",{ref:u,className:"w-full h-full object-cover",playsInline:!0,"webkit-playsinline":"true",muted:!0,autoPlay:!0,style:{touchAction:"manipulation",WebkitTransform:"translateZ(0)",transform:"translateZ(0)"}}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"w-64 h-64 border-4 rounded-2xl relative",style:{borderColor:"#F68B24",opacity:.8},children:[e.jsx("div",{className:"absolute -top-1 -left-1 w-6 h-6 border-t-4 border-l-4 rounded-tl-2xl",style:{borderColor:"#F68B24"}}),e.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 border-t-4 border-r-4 rounded-tr-2xl",style:{borderColor:"#F68B24"}}),e.jsx("div",{className:"absolute -bottom-1 -left-1 w-6 h-6 border-b-4 border-l-4 rounded-bl-2xl",style:{borderColor:"#F68B24"}}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 border-b-4 border-r-4 rounded-br-2xl",style:{borderColor:"#F68B24"}}),e.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-2xl",children:e.jsx("div",{className:"absolute w-full h-1 animate-pulse",style:{top:"50%",transform:"translateY(-50%)",background:"linear-gradient(to right, transparent, #F68B24, transparent)"}})})]}),e.jsx("div",{className:"absolute -bottom-16 left-1/2 transform -translate-x-1/2 text-center",children:e.jsx("p",{className:"text-white text-lg font-medium bg-black/50 px-4 py-2 rounded-full backdrop-blur-sm",children:"Position QR code within frame"})})]})}),!l&&!m&&e.jsx(rE,{requestingPermission:g}),m&&e.jsx(sE,{onRetry:B})]})]})},nE=({scannedBooking:c,onDone:a,onValidateAndConfirm:o,isProcessingBooking:l})=>{if(console.log("BookingDetails rendering with:",c),!c)return null;const x=h=>{switch(h){case"confirmed":return"text-green-700 bg-green-100 border-green-200";case"pending":return"text-yellow-700 bg-yellow-100 border-yellow-200";case"completed":return"text-blue-700 bg-blue-100 border-blue-200";case"cancelled":return"text-red-700 bg-red-100 border-red-200";case"scanned":return"text-blue-700 bg-blue-100 border-blue-200";default:return"text-gray-700 bg-gray-100 border-gray-200"}},u=h=>{switch(h){case"confirmed":case"pending":return e.jsx(Ge,{className:"w-5 h-5 text-green-600"});case"completed":return e.jsx(Ge,{className:"w-5 h-5 text-blue-600"});case"cancelled":case"invalid":return e.jsx(Ie,{className:"w-5 h-5 text-red-600"});case"scanned":return e.jsx(ft,{className:"w-5 h-5 text-blue-600"});default:return e.jsx(Ie,{className:"w-5 h-5 text-gray-600"})}};return e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg",style:{border:"1px solid #E0E0E0"},children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:u(c.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-black text-[#1A1A1A] font-mono",children:c.id}),e.jsx("span",{className:`px-3 py-1 text-sm font-bold rounded-full border-2 uppercase ${x(c.status)}`,children:c.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx($e,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Customer:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:c.customer})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ft,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Service:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:c.service?.name})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Re,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Date & Time:"}),e.jsxs("p",{className:"text-[#1A1A1A] font-semibold",children:[c.date," at ",c.time]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx($e,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Staff:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:c.barber?.name})]})]})]})]}),c.phone!=="N/A"&&e.jsxs("div",{className:"mt-4 pt-3 border-t border-[#F5F5F5]",children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Phone:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:c.phone})]}),c.status==="confirmed"&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:e.jsx("p",{className:"text-green-800 font-bold text-sm",children:"✓ Booking confirmed - Ready for service!"})}),c.status==="scanned"&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:e.jsx("p",{className:"text-blue-800 font-bold text-sm",children:"📱 Booking scanned - Ready to validate"})}),c.status==="pending"&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-xl",children:e.jsx("p",{className:"text-yellow-800 font-bold text-sm",children:"⏳ Confirming booking..."})}),c.status==="completed"&&e.jsx("div",{className:"mt-4 p-3 bg-gray-50 border border-gray-200 rounded-xl",children:e.jsx("p",{className:"text-gray-800 font-bold text-sm",children:"✓ This booking has already been completed"})}),c.status==="cancelled"&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-red-800 font-bold text-sm",children:"✗ This booking has been cancelled"})})]})]}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-4 border-t border-[#F5F5F5]",children:[c.status==="scanned"&&o&&e.jsx("button",{onClick:o,className:"px-8 bg-[#F68B24] hover:bg-[#E67A1A] text-white font-semibold py-3 rounded-xl transition-colors duration-200 flex items-center space-x-2",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}),"Validating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Validate & Confirm Booking"]})}),e.jsx("button",{onClick:a,className:"px-8 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white py-3 rounded-xl border-2 transition-colors duration-200",disabled:l,children:c.status==="confirmed"?"Continue":"Back to Scanner"})]})]})})};function lE(){const[c,a]=F.useState("home"),[o,l]=F.useState(""),[x,u]=F.useState(""),[h,m]=F.useState(""),[f,g]=F.useState(!1),[y,E]=F.useState(!1),[v,p]=F.useState(null),[A,B]=F.useState(!1),[D,C]=F.useState(""),[U,M]=F.useState(!1);F.useEffect(()=>{(async()=>{try{const R=await kt.toDataURL("https://tpxbarbershop.com/download",{width:200,margin:1,color:{dark:"#36454F",light:"#FFFFFF"}});m(R)}catch(V){console.error("Error generating app download QR:",V)}})()},[]);const S=k=>{a(k),k==="home"&&(p(null),C(""),B(!1),M(!1))},N=async()=>{if(!v||!v.id){C("No booking to validate.");return}try{M(!0),C("");const V=await(await wo(async()=>{const{default:T}=await Promise.resolve().then(()=>Rx);return{default:T}},void 0)).default.patch(`/bookings/${v.id}/`,{status:"confirmed"});console.log("Booking confirmed:",V);const R={...v,status:"confirmed"};p(R),C("")}catch(k){console.error("Error confirming booking:",k),C("Failed to confirm booking. Please try again.")}finally{M(!1)}},L=async k=>{console.log("Kiosk QR Data:",k),B(!0),C("");try{let V=null;if(k.startsWith("{"))try{V=JSON.parse(k),console.log("Parsed booking data:",V)}catch{C("Invalid QR code format."),B(!1);return}else{C("Invalid QR code format. Expected JSON data."),B(!1);return}if(!V.bookingId){C("Missing booking ID in QR code."),B(!1);return}const R={id:V.bookingId,booking_code:V.bookingCode||"N/A",customer:"Customer",service:{name:V.service||"N/A"},date:V.date||"N/A",time:V.time||"N/A",barber:{name:V.barber||"N/A"},status:"scanned",phone:"N/A",barbershop:V.barbershop||"N/A"};console.log("Setting scannedBooking:",R),p(R),B(!1),console.log("Scanner loading set to false")}catch(V){console.error("Error processing booking QR code:",V),C("Failed to process booking QR code. Please try again."),B(!1)}};return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsx("style",{children:`
        @media screen and (max-width: 768px) {
          .kiosk-container {
            padding: 1rem;
          }
          .camera-container {
            aspect-ratio: 4/3;
            max-height: 60vh;
          }
        }
        
        /* Prevent zoom on mobile */
        input, select, textarea {
          font-size: 16px !important;
        }
        
        /* Mobile-specific styles */
        @media screen and (max-device-width: 768px) {
          .mobile-optimized {
            -webkit-user-select: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
          }
        }
      `}),e.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[e.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#F68B24"},children:e.jsx("span",{className:"text-white font-bold text-lg md:text-xl",children:"T"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold",style:{color:"#36454F"},children:"TPX Barbershop"}),e.jsx("p",{className:"text-xs md:text-sm",style:{color:"#8B8B8B"},children:"Self-Service Kiosk"})]})]}),e.jsx(ps,{to:"/login",className:"px-3 py-2 md:px-4 md:py-2 text-white rounded-xl transition-colors duration-200 flex items-center space-x-2 text-sm md:text-base",style:{backgroundColor:"#36454F"},onMouseEnter:k=>k.target.style.backgroundColor="#2A3640",onMouseLeave:k=>k.target.style.backgroundColor="#36454F",children:e.jsx("span",{children:"Back to Login"})})]}),e.jsxs("div",{className:"max-w-6xl mx-auto kiosk-container mobile-optimized",children:[c==="home"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",style:{border:"1px solid #E0E0E0"},children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"#36454F"},children:"Live Camera Feed"}),e.jsx("p",{className:"text-base",style:{color:"#8B8B8B"},children:"Point your camera at a QR code to scan automatically"})]}),e.jsx("div",{className:"relative",style:{minHeight:"300px"},children:e.jsx(aE,{onQRDetected:L,scannerError:D,setScannerError:C,showCamera:y,setShowCamera:E})}),U&&e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(Dt,{className:"w-6 h-6 text-[#F68B24] animate-spin"}),e.jsx("span",{className:"text-[#6B6B6B] font-medium",children:"Processing booking..."})]})}),D&&e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4 mt-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ie,{className:"w-6 h-6 text-red-600"}),e.jsx("p",{className:"text-red-800 font-bold",children:D})]})})]}),v&&e.jsx(nE,{scannedBooking:v,onDone:()=>{p(null),C(""),B(!1),M(!1)},onValidateAndConfirm:N,isProcessingBooking:U}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg",style:{border:"1px solid #E0E0E0"},children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto",style:{backgroundColor:"#F0F8FF",border:"2px solid #4CAF50"},children:e.jsx(ft,{className:"w-8 h-8",style:{color:"#4CAF50"}})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#36454F"},children:"Scan Your Booking QR"}),e.jsx("p",{style:{color:"#8B8B8B"},children:"Point the camera above at your booking QR code to confirm your appointment"})]}),A&&e.jsx("div",{className:"rounded-lg p-4",style:{backgroundColor:"#F0F8FF",border:"1px solid #4CAF50"},children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-t-transparent rounded-full animate-spin",style:{borderColor:"#4CAF50",borderTopColor:"transparent"}}),e.jsx("p",{className:"font-medium",style:{color:"#4CAF50"},children:"Validating Booking..."})]})}),D&&e.jsx("div",{className:"rounded-lg p-4",style:{backgroundColor:"#FEE",border:"1px solid #FCC"},children:e.jsx("p",{className:"text-red-600 text-sm font-medium text-center",children:D})}),!A&&!D&&e.jsxs("div",{className:"rounded-lg p-4",style:{backgroundColor:"#F0F8FF",border:"1px solid #E0E0E0"},children:[e.jsx("h4",{className:"font-medium mb-2",style:{color:"#36454F"},children:"Instructions:"}),e.jsxs("ul",{className:"text-sm space-y-1 text-left",style:{color:"#8B8B8B"},children:[e.jsx("li",{children:"• Hold your phone steady"}),e.jsx("li",{children:"• Ensure good lighting"}),e.jsx("li",{children:"• Keep QR code within the camera frame above"}),e.jsx("li",{children:"• Wait for automatic detection"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg transition-all duration-300 transform hover:scale-105",style:{border:"1px solid #E0E0E0"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",style:{backgroundColor:"#36454F"},children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),e.jsx("h2",{className:"text-xl font-bold mb-3",style:{color:"#36454F"},children:"Download Our App"}),e.jsx("p",{className:"mb-4 text-base",style:{color:"#8B8B8B"},children:"Get exclusive vouchers and loyalty rewards"}),e.jsx("div",{className:"rounded-xl p-3 mb-4 mx-auto w-fit",style:{backgroundColor:"#F4F0E6",border:"1px solid #E0E0E0"},children:e.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center overflow-hidden",style:{backgroundColor:"#FFFFFF"},children:h?e.jsx("img",{src:h,alt:"Download App QR Code",className:"w-full h-full object-contain"}):e.jsx("div",{className:"text-xs text-center",style:{color:"#8B8B8B"},children:"Loading..."})})}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Scan to download and unlock exclusive offers!"})]})})]}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg transition-all duration-300 transform hover:scale-105",style:{border:"1px solid #E0E0E0"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",style:{backgroundColor:"#F68B24"},children:e.jsx(ft,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-xl font-bold mb-3",style:{color:"#36454F"},children:"Book Appointment"}),e.jsx("p",{className:"mb-4 text-base",style:{color:"#8B8B8B"},children:"Schedule your service and get a QR confirmation"}),e.jsx("button",{onClick:()=>S("generate"),className:"w-full py-3 text-white font-bold rounded-xl transition-all duration-200 text-base shadow-lg transform hover:scale-105",style:{backgroundColor:"#F68B24"},onMouseEnter:k=>k.target.style.backgroundColor="#E67A1F",onMouseLeave:k=>k.target.style.backgroundColor="#F68B24",children:"Book Now"})]})})]}),c==="generate"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",style:{color:"#36454F"},children:"Book & Generate QR"}),e.jsx("button",{onClick:()=>S("home"),className:"px-4 py-2 text-white rounded-xl transition-colors duration-200 flex items-center space-x-2",style:{backgroundColor:"#36454F"},onMouseEnter:k=>k.target.style.backgroundColor="#2A3640",onMouseLeave:k=>k.target.style.backgroundColor="#36454F",children:e.jsx("span",{children:"← Back"})})]}),e.jsx(eE,{})]})]})]})}function oE(){return e.jsx(z2,{children:e.jsx(l2,{children:e.jsx("div",{className:"min-h-screen bg-gray-light",children:e.jsxs(Lg,{children:[e.jsx(Ls,{path:"/",element:e.jsx(Tg,{to:"/auth/login",replace:!0})}),e.jsx(Ls,{path:"/auth/login",element:e.jsx(V2,{})}),e.jsx(Ls,{path:"/auth/register",element:e.jsx(q2,{})}),e.jsx(Ls,{path:"/staff/dashboard",element:e.jsx(L5,{})}),e.jsx(Ls,{path:"/customer/dashboard",element:e.jsx(Rh,{})}),e.jsx(Ls,{path:"/customer/booking",element:e.jsx(W5,{})}),e.jsx(Ls,{path:"/customer/client",element:e.jsx(Rh,{})}),e.jsx(Ls,{path:"/kiosk",element:e.jsx(lE,{})})]})})})})}Y9.createRoot(document.getElementById("root")).render(e.jsx(F.StrictMode,{children:e.jsx(oE,{})}));
