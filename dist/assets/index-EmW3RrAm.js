(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function Zx(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var sx={exports:{}},Xn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh;function j9(){if(rh)return Xn;rh=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:o,type:l,key:m,ref:c!==void 0?c:null,props:d}}return Xn.Fragment=n,Xn.jsx=i,Xn.jsxs=i,Xn}var nh;function w9(){return nh||(nh=1,sx.exports=j9()),sx.exports}var e=w9(),ax={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh;function N9(){if(lh)return Be;lh=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),p=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=p&&R[p]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,y={};function _(R,O,L){this.props=R,this.context=O,this.refs=y,this.updater=L||b}_.prototype.isReactComponent={},_.prototype.setState=function(R,O){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,O,"setState")},_.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function A(){}A.prototype=_.prototype;function Q(R,O,L){this.props=R,this.context=O,this.refs=y,this.updater=L||b}var w=Q.prototype=new A;w.constructor=Q,B(w,_.prototype),w.isPureReactComponent=!0;var j=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function T(R,O,L,Z,G,de){return L=de.ref,{$$typeof:o,type:R,key:O,ref:L!==void 0?L:null,props:de}}function U(R,O){return T(R.type,O,void 0,void 0,void 0,R.props)}function D(R){return typeof R=="object"&&R!==null&&R.$$typeof===o}function z(R){var O={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(L){return O[L]})}var P=/\/+/g;function $(R,O){return typeof R=="object"&&R!==null&&R.key!=null?z(""+R.key):O.toString(36)}function ae(){}function H(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ae,ae):(R.status="pending",R.then(function(O){R.status==="pending"&&(R.status="fulfilled",R.value=O)},function(O){R.status==="pending"&&(R.status="rejected",R.reason=O)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function se(R,O,L,Z,G){var de=typeof R;(de==="undefined"||de==="boolean")&&(R=null);var ce=!1;if(R===null)ce=!0;else switch(de){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(R.$$typeof){case o:case n:ce=!0;break;case E:return ce=R._init,se(ce(R._payload),O,L,Z,G)}}if(ce)return G=G(R),ce=Z===""?"."+$(R,0):Z,j(G)?(L="",ce!=null&&(L=ce.replace(P,"$&/")+"/"),se(G,O,L,"",function(_e){return _e})):G!=null&&(D(G)&&(G=U(G,L+(G.key==null||R&&R.key===G.key?"":(""+G.key).replace(P,"$&/")+"/")+ce)),O.push(G)),1;ce=0;var Ee=Z===""?".":Z+":";if(j(R))for(var be=0;be<R.length;be++)Z=R[be],de=Ee+$(Z,be),ce+=se(Z,O,L,de,G);else if(be=v(R),typeof be=="function")for(R=be.call(R),be=0;!(Z=R.next()).done;)Z=Z.value,de=Ee+$(Z,be++),ce+=se(Z,O,L,de,G);else if(de==="object"){if(typeof R.then=="function")return se(H(R),O,L,Z,G);throw O=String(R),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return ce}function S(R,O,L){if(R==null)return R;var Z=[],G=0;return se(R,Z,"","",function(de){return O.call(L,de,G++)}),Z}function q(R){if(R._status===-1){var O=R._result;O=O(),O.then(function(L){(R._status===0||R._status===-1)&&(R._status=1,R._result=L)},function(L){(R._status===0||R._status===-1)&&(R._status=2,R._result=L)}),R._status===-1&&(R._status=0,R._result=O)}if(R._status===1)return R._result.default;throw R._result}var ne=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function ie(){}return Be.Children={map:S,forEach:function(R,O,L){S(R,function(){O.apply(this,arguments)},L)},count:function(R){var O=0;return S(R,function(){O++}),O},toArray:function(R){return S(R,function(O){return O})||[]},only:function(R){if(!D(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Be.Component=_,Be.Fragment=i,Be.Profiler=c,Be.PureComponent=Q,Be.StrictMode=l,Be.Suspense=h,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Be.__COMPILER_RUNTIME={__proto__:null,c:function(R){return M.H.useMemoCache(R)}},Be.cache=function(R){return function(){return R.apply(null,arguments)}},Be.cloneElement=function(R,O,L){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Z=B({},R.props),G=R.key,de=void 0;if(O!=null)for(ce in O.ref!==void 0&&(de=void 0),O.key!==void 0&&(G=""+O.key),O)!k.call(O,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&O.ref===void 0||(Z[ce]=O[ce]);var ce=arguments.length-2;if(ce===1)Z.children=L;else if(1<ce){for(var Ee=Array(ce),be=0;be<ce;be++)Ee[be]=arguments[be+2];Z.children=Ee}return T(R.type,G,void 0,void 0,de,Z)},Be.createContext=function(R){return R={$$typeof:m,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:d,_context:R},R},Be.createElement=function(R,O,L){var Z,G={},de=null;if(O!=null)for(Z in O.key!==void 0&&(de=""+O.key),O)k.call(O,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(G[Z]=O[Z]);var ce=arguments.length-2;if(ce===1)G.children=L;else if(1<ce){for(var Ee=Array(ce),be=0;be<ce;be++)Ee[be]=arguments[be+2];G.children=Ee}if(R&&R.defaultProps)for(Z in ce=R.defaultProps,ce)G[Z]===void 0&&(G[Z]=ce[Z]);return T(R,de,void 0,void 0,null,G)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(R){return{$$typeof:g,render:R}},Be.isValidElement=D,Be.lazy=function(R){return{$$typeof:E,_payload:{_status:-1,_result:R},_init:q}},Be.memo=function(R,O){return{$$typeof:f,type:R,compare:O===void 0?null:O}},Be.startTransition=function(R){var O=M.T,L={};M.T=L;try{var Z=R(),G=M.S;G!==null&&G(L,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ie,ne)}catch(de){ne(de)}finally{M.T=O}},Be.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Be.use=function(R){return M.H.use(R)},Be.useActionState=function(R,O,L){return M.H.useActionState(R,O,L)},Be.useCallback=function(R,O){return M.H.useCallback(R,O)},Be.useContext=function(R){return M.H.useContext(R)},Be.useDebugValue=function(){},Be.useDeferredValue=function(R,O){return M.H.useDeferredValue(R,O)},Be.useEffect=function(R,O,L){var Z=M.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(R,O)},Be.useId=function(){return M.H.useId()},Be.useImperativeHandle=function(R,O,L){return M.H.useImperativeHandle(R,O,L)},Be.useInsertionEffect=function(R,O){return M.H.useInsertionEffect(R,O)},Be.useLayoutEffect=function(R,O){return M.H.useLayoutEffect(R,O)},Be.useMemo=function(R,O){return M.H.useMemo(R,O)},Be.useOptimistic=function(R,O){return M.H.useOptimistic(R,O)},Be.useReducer=function(R,O,L){return M.H.useReducer(R,O,L)},Be.useRef=function(R){return M.H.useRef(R)},Be.useState=function(R){return M.H.useState(R)},Be.useSyncExternalStore=function(R,O,L){return M.H.useSyncExternalStore(R,O,L)},Be.useTransition=function(){return M.H.useTransition()},Be.version="19.1.1",Be}var oh;function Kx(){return oh||(oh=1,ax.exports=N9()),ax.exports}var F=Kx();const wa=Zx(F);var rx={exports:{}},Zn={},nx={exports:{}},lx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih;function D9(){return ih||(ih=1,function(o){function n(S,q){var ne=S.length;S.push(q);e:for(;0<ne;){var ie=ne-1>>>1,R=S[ie];if(0<c(R,q))S[ie]=q,S[ne]=R,ne=ie;else break e}}function i(S){return S.length===0?null:S[0]}function l(S){if(S.length===0)return null;var q=S[0],ne=S.pop();if(ne!==q){S[0]=ne;e:for(var ie=0,R=S.length,O=R>>>1;ie<O;){var L=2*(ie+1)-1,Z=S[L],G=L+1,de=S[G];if(0>c(Z,ne))G<R&&0>c(de,Z)?(S[ie]=de,S[G]=ne,ie=G):(S[ie]=Z,S[L]=ne,ie=L);else if(G<R&&0>c(de,ne))S[ie]=de,S[G]=ne,ie=G;else break e}}return q}function c(S,q){var ne=S.sortIndex-q.sortIndex;return ne!==0?ne:S.id-q.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;o.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();o.unstable_now=function(){return m.now()-g}}var h=[],f=[],E=1,p=null,v=3,b=!1,B=!1,y=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function j(S){for(var q=i(f);q!==null;){if(q.callback===null)l(f);else if(q.startTime<=S)l(f),q.sortIndex=q.expirationTime,n(h,q);else break;q=i(f)}}function M(S){if(y=!1,j(S),!B)if(i(h)!==null)B=!0,k||(k=!0,$());else{var q=i(f);q!==null&&se(M,q.startTime-S)}}var k=!1,T=-1,U=5,D=-1;function z(){return _?!0:!(o.unstable_now()-D<U)}function P(){if(_=!1,k){var S=o.unstable_now();D=S;var q=!0;try{e:{B=!1,y&&(y=!1,Q(T),T=-1),b=!0;var ne=v;try{t:{for(j(S),p=i(h);p!==null&&!(p.expirationTime>S&&z());){var ie=p.callback;if(typeof ie=="function"){p.callback=null,v=p.priorityLevel;var R=ie(p.expirationTime<=S);if(S=o.unstable_now(),typeof R=="function"){p.callback=R,j(S),q=!0;break t}p===i(h)&&l(h),j(S)}else l(h);p=i(h)}if(p!==null)q=!0;else{var O=i(f);O!==null&&se(M,O.startTime-S),q=!1}}break e}finally{p=null,v=ne,b=!1}q=void 0}}finally{q?$():k=!1}}}var $;if(typeof w=="function")$=function(){w(P)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,H=ae.port2;ae.port1.onmessage=P,$=function(){H.postMessage(null)}}else $=function(){A(P,0)};function se(S,q){T=A(function(){S(o.unstable_now())},q)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(S){S.callback=null},o.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<S?Math.floor(1e3/S):5},o.unstable_getCurrentPriorityLevel=function(){return v},o.unstable_next=function(S){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var ne=v;v=q;try{return S()}finally{v=ne}},o.unstable_requestPaint=function(){_=!0},o.unstable_runWithPriority=function(S,q){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var ne=v;v=S;try{return q()}finally{v=ne}},o.unstable_scheduleCallback=function(S,q,ne){var ie=o.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ie+ne:ie):ne=ie,S){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ne+R,S={id:E++,callback:q,priorityLevel:S,startTime:ne,expirationTime:R,sortIndex:-1},ne>ie?(S.sortIndex=ne,n(f,S),i(h)===null&&S===i(f)&&(y?(Q(T),T=-1):y=!0,se(M,ne-ie))):(S.sortIndex=R,n(h,S),B||b||(B=!0,k||(k=!0,$()))),S},o.unstable_shouldYield=z,o.unstable_wrapCallback=function(S){var q=v;return function(){var ne=v;v=q;try{return S.apply(this,arguments)}finally{v=ne}}}}(lx)),lx}var xh;function k9(){return xh||(xh=1,nx.exports=D9()),nx.exports}var ox={exports:{}},wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch;function S9(){if(ch)return wt;ch=1;var o=Kx();function n(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)f+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(h,f,E){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:p==null?null:""+p,children:h,containerInfo:f,implementation:E}}var m=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,wt.createPortal=function(h,f){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(n(299));return d(h,f,null,E)},wt.flushSync=function(h){var f=m.T,E=l.p;try{if(m.T=null,l.p=2,h)return h()}finally{m.T=f,l.p=E,l.d.f()}},wt.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,l.d.C(h,f))},wt.prefetchDNS=function(h){typeof h=="string"&&l.d.D(h)},wt.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var E=f.as,p=g(E,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;E==="style"?l.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:b}):E==="script"&&l.d.X(h,{crossOrigin:p,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},wt.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var E=g(f.as,f.crossOrigin);l.d.M(h,{crossOrigin:E,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&l.d.M(h)},wt.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var E=f.as,p=g(E,f.crossOrigin);l.d.L(h,E,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},wt.preloadModule=function(h,f){if(typeof h=="string")if(f){var E=g(f.as,f.crossOrigin);l.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:E,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else l.d.m(h)},wt.requestFormReset=function(h){l.d.r(h)},wt.unstable_batchedUpdates=function(h,f){return h(f)},wt.useFormState=function(h,f,E){return m.H.useFormState(h,f,E)},wt.useFormStatus=function(){return m.H.useHostTransitionStatus()},wt.version="19.1.1",wt}var dh;function ff(){if(dh)return ox.exports;dh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),ox.exports=S9(),ox.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function _9(){if(uh)return Zn;uh=1;var o=k9(),n=Kx(),i=ff();function l(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function m(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(d(t)!==t)throw Error(l(188))}function h(t){var s=t.alternate;if(!s){if(s=d(t),s===null)throw Error(l(188));return s!==t?null:t}for(var a=t,r=s;;){var x=a.return;if(x===null)break;var u=x.alternate;if(u===null){if(r=x.return,r!==null){a=r;continue}break}if(x.child===u.child){for(u=x.child;u;){if(u===a)return g(x),t;if(u===r)return g(x),s;u=u.sibling}throw Error(l(188))}if(a.return!==r.return)a=x,r=u;else{for(var C=!1,N=x.child;N;){if(N===a){C=!0,a=x,r=u;break}if(N===r){C=!0,r=x,a=u;break}N=N.sibling}if(!C){for(N=u.child;N;){if(N===a){C=!0,a=u,r=x;break}if(N===r){C=!0,r=u,a=x;break}N=N.sibling}if(!C)throw Error(l(189))}}if(a.alternate!==r)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?t:s}function f(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=f(t),s!==null)return s;t=t.sibling}return null}var E=Object.assign,p=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Symbol.for("react.client.reference");function H(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ae?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case _:return"Profiler";case y:return"StrictMode";case M:return"Suspense";case k:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case w:return(t.displayName||"Context")+".Provider";case Q:return(t._context.displayName||"Context")+".Consumer";case j:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case T:return s=t.displayName||null,s!==null?s:H(t.type)||"Memo";case U:s=t._payload,t=t._init;try{return H(t(s))}catch{}}return null}var se=Array.isArray,S=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ie=[],R=-1;function O(t){return{current:t}}function L(t){0>R||(t.current=ie[R],ie[R]=null,R--)}function Z(t,s){R++,ie[R]=t.current,t.current=s}var G=O(null),de=O(null),ce=O(null),Ee=O(null);function be(t,s){switch(Z(ce,s),Z(de,t),Z(G,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?_m(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=_m(s),t=Mm(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}L(G),Z(G,t)}function _e(){L(G),L(de),L(ce)}function Rt(t){t.memoizedState!==null&&Z(Ee,t);var s=G.current,a=Mm(s,t.type);s!==a&&(Z(de,t),Z(G,a))}function Dt(t){de.current===t&&(L(G),L(de)),Ee.current===t&&(L(Ee),Hn._currentValue=ne)}var _s=Object.prototype.hasOwnProperty,Wt=o.unstable_scheduleCallback,Vt=o.unstable_cancelCallback,Bt=o.unstable_shouldYield,re=o.unstable_requestPaint,Fe=o.unstable_now,J=o.unstable_getCurrentPriorityLevel,me=o.unstable_ImmediatePriority,Pe=o.unstable_UserBlockingPriority,fe=o.unstable_NormalPriority,dt=o.unstable_LowPriority,bs=o.unstable_IdlePriority,Ms=o.log,ut=o.unstable_setDisableYieldValue,us=null,At=null;function ys(t){if(typeof Ms=="function"&&ut(t),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(us,t)}catch{}}var pt=Math.clz32?Math.clz32:u8,Kr=Math.log,d8=Math.LN2;function u8(t){return t>>>=0,t===0?32:31-(Kr(t)/d8|0)|0}var gl=256,pl=4194304;function _a(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function El(t,s,a){var r=t.pendingLanes;if(r===0)return 0;var x=0,u=t.suspendedLanes,C=t.pingedLanes;t=t.warmLanes;var N=r&134217727;return N!==0?(r=N&~u,r!==0?x=_a(r):(C&=N,C!==0?x=_a(C):a||(a=N&~t,a!==0&&(x=_a(a))))):(N=r&~u,N!==0?x=_a(N):C!==0?x=_a(C):a||(a=r&~t,a!==0&&(x=_a(a)))),x===0?0:s!==0&&s!==x&&(s&u)===0&&(u=x&-x,a=s&-s,u>=a||u===32&&(a&4194048)!==0)?s:x}function Jr(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function m8(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fc(){var t=gl;return gl<<=1,(gl&4194048)===0&&(gl=256),t}function gc(){var t=pl;return pl<<=1,(pl&62914560)===0&&(pl=4194304),t}function $o(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Wr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function h8(t,s,a,r,x,u){var C=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var N=t.entanglements,V=t.expirationTimes,W=t.hiddenUpdates;for(a=C&~a;0<a;){var le=31-pt(a),xe=1<<le;N[le]=0,V[le]=-1;var ee=W[le];if(ee!==null)for(W[le]=null,le=0;le<ee.length;le++){var te=ee[le];te!==null&&(te.lane&=-536870913)}a&=~xe}r!==0&&pc(t,r,0),u!==0&&x===0&&t.tag!==0&&(t.suspendedLanes|=u&~(C&~s))}function pc(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var r=31-pt(s);t.entangledLanes|=s,t.entanglements[r]=t.entanglements[r]|1073741824|a&4194090}function Ec(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var r=31-pt(a),x=1<<r;x&s|t[r]&s&&(t[r]|=s),a&=~x}}function Yo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Go(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bc(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:Jm(t.type))}function f8(t,s){var a=q.p;try{return q.p=t,s()}finally{q.p=a}}var sa=Math.random().toString(36).slice(2),Ft="__reactFiber$"+sa,Tt="__reactProps$"+sa,er="__reactContainer$"+sa,Io="__reactEvents$"+sa,g8="__reactListeners$"+sa,p8="__reactHandles$"+sa,yc="__reactResources$"+sa,en="__reactMarker$"+sa;function Xo(t){delete t[Ft],delete t[Tt],delete t[Io],delete t[g8],delete t[p8]}function tr(t){var s=t[Ft];if(s)return s;for(var a=t.parentNode;a;){if(s=a[er]||a[Ft]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Lm(t);t!==null;){if(a=t[Ft])return a;t=Lm(t)}return s}t=a,a=t.parentNode}return null}function sr(t){if(t=t[Ft]||t[er]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function tn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(l(33))}function ar(t){var s=t[yc];return s||(s=t[yc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function mt(t){t[en]=!0}var vc=new Set,Cc={};function Ma(t,s){rr(t,s),rr(t+"Capture",s)}function rr(t,s){for(Cc[t]=s,t=0;t<s.length;t++)vc.add(s[t])}var E8=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bc={},Ac={};function b8(t){return _s.call(Ac,t)?!0:_s.call(Bc,t)?!1:E8.test(t)?Ac[t]=!0:(Bc[t]=!0,!1)}function bl(t,s,a){if(b8(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var r=s.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function yl(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Rs(t,s,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+r)}}var Zo,Fc;function nr(t){if(Zo===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Zo=s&&s[1]||"",Fc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zo+t+Fc}var Ko=!1;function Jo(t,s){if(!t||Ko)return"";Ko=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(s){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(te){var ee=te}Reflect.construct(t,[],xe)}else{try{xe.call()}catch(te){ee=te}t.call(xe.prototype)}}else{try{throw Error()}catch(te){ee=te}(xe=t())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),C=u[0],N=u[1];if(C&&N){var V=C.split(`
`),W=N.split(`
`);for(x=r=0;r<V.length&&!V[r].includes("DetermineComponentFrameRoot");)r++;for(;x<W.length&&!W[x].includes("DetermineComponentFrameRoot");)x++;if(r===V.length||x===W.length)for(r=V.length-1,x=W.length-1;1<=r&&0<=x&&V[r]!==W[x];)x--;for(;1<=r&&0<=x;r--,x--)if(V[r]!==W[x]){if(r!==1||x!==1)do if(r--,x--,0>x||V[r]!==W[x]){var le=`
`+V[r].replace(" at new "," at ");return t.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",t.displayName)),le}while(1<=r&&0<=x);break}}}finally{Ko=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?nr(a):""}function y8(t){switch(t.tag){case 26:case 27:case 5:return nr(t.type);case 16:return nr("Lazy");case 13:return nr("Suspense");case 19:return nr("SuspenseList");case 0:case 15:return Jo(t.type,!1);case 11:return Jo(t.type.render,!1);case 1:return Jo(t.type,!0);case 31:return nr("Activity");default:return""}}function jc(t){try{var s="";do s+=y8(t),t=t.return;while(t);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function es(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wc(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function v8(t){var s=wc(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),r=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var x=a.get,u=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return x.call(this)},set:function(C){r=""+C,u.call(this,C)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(C){r=""+C},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function vl(t){t._valueTracker||(t._valueTracker=v8(t))}function Nc(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),r="";return t&&(r=wc(t)?t.checked?"true":"false":t.value),t=r,t!==a?(s.setValue(t),!0):!1}function Cl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var C8=/[\n"\\]/g;function ts(t){return t.replace(C8,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Wo(t,s,a,r,x,u,C,N){t.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.type=C:t.removeAttribute("type"),s!=null?C==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+es(s)):t.value!==""+es(s)&&(t.value=""+es(s)):C!=="submit"&&C!=="reset"||t.removeAttribute("value"),s!=null?e0(t,C,es(s)):a!=null?e0(t,C,es(a)):r!=null&&t.removeAttribute("value"),x==null&&u!=null&&(t.defaultChecked=!!u),x!=null&&(t.checked=x&&typeof x!="function"&&typeof x!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+es(N):t.removeAttribute("name")}function Dc(t,s,a,r,x,u,C,N){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.type=u),s!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||s!=null))return;a=a!=null?""+es(a):"",s=s!=null?""+es(s):a,N||s===t.value||(t.value=s),t.defaultValue=s}r=r??x,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=N?t.checked:!!r,t.defaultChecked=!!r,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(t.name=C)}function e0(t,s,a){s==="number"&&Cl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function lr(t,s,a,r){if(t=t.options,s){s={};for(var x=0;x<a.length;x++)s["$"+a[x]]=!0;for(a=0;a<t.length;a++)x=s.hasOwnProperty("$"+t[a].value),t[a].selected!==x&&(t[a].selected=x),x&&r&&(t[a].defaultSelected=!0)}else{for(a=""+es(a),s=null,x=0;x<t.length;x++){if(t[x].value===a){t[x].selected=!0,r&&(t[x].defaultSelected=!0);return}s!==null||t[x].disabled||(s=t[x])}s!==null&&(s.selected=!0)}}function kc(t,s,a){if(s!=null&&(s=""+es(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+es(a):""}function Sc(t,s,a,r){if(s==null){if(r!=null){if(a!=null)throw Error(l(92));if(se(r)){if(1<r.length)throw Error(l(93));r=r[0]}a=r}a==null&&(a=""),s=a}a=es(s),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r)}function or(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var B8=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _c(t,s,a){var r=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":r?t.setProperty(s,a):typeof a!="number"||a===0||B8.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Mc(t,s,a){if(s!=null&&typeof s!="object")throw Error(l(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||s!=null&&s.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var x in s)r=s[x],s.hasOwnProperty(x)&&a[x]!==r&&_c(t,x,r)}else for(var u in s)s.hasOwnProperty(u)&&_c(t,u,s[u])}function t0(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A8=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),F8=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bl(t){return F8.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var s0=null;function a0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ir=null,xr=null;function Rc(t){var s=sr(t);if(s&&(t=s.stateNode)){var a=t[Tt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Wo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ts(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var r=a[s];if(r!==t&&r.form===t.form){var x=r[Tt]||null;if(!x)throw Error(l(90));Wo(r,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(s=0;s<a.length;s++)r=a[s],r.form===t.form&&Nc(r)}break e;case"textarea":kc(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&lr(t,!!a.multiple,s,!1)}}}var r0=!1;function Tc(t,s,a){if(r0)return t(s,a);r0=!0;try{var r=t(s);return r}finally{if(r0=!1,(ir!==null||xr!==null)&&(io(),ir&&(s=ir,t=xr,xr=ir=null,Rc(s),t)))for(s=0;s<t.length;s++)Rc(t[s])}}function sn(t,s){var a=t.stateNode;if(a===null)return null;var r=a[Tt]||null;if(r===null)return null;a=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(l(231,s,typeof a));return a}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),n0=!1;if(Ts)try{var an={};Object.defineProperty(an,"passive",{get:function(){n0=!0}}),window.addEventListener("test",an,an),window.removeEventListener("test",an,an)}catch{n0=!1}var aa=null,l0=null,Al=null;function Pc(){if(Al)return Al;var t,s=l0,a=s.length,r,x="value"in aa?aa.value:aa.textContent,u=x.length;for(t=0;t<a&&s[t]===x[t];t++);var C=a-t;for(r=1;r<=C&&s[a-r]===x[u-r];r++);return Al=x.slice(t,1<r?1-r:void 0)}function Fl(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function jl(){return!0}function Lc(){return!1}function Pt(t){function s(a,r,x,u,C){this._reactName=a,this._targetInst=x,this.type=r,this.nativeEvent=u,this.target=C,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(a=t[N],this[N]=a?a(u):u[N]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?jl:Lc,this.isPropagationStopped=Lc,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),s}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wl=Pt(Ra),rn=E({},Ra,{view:0,detail:0}),j8=Pt(rn),o0,i0,nn,Nl=E({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nn&&(nn&&t.type==="mousemove"?(o0=t.screenX-nn.screenX,i0=t.screenY-nn.screenY):i0=o0=0,nn=t),o0)},movementY:function(t){return"movementY"in t?t.movementY:i0}}),Oc=Pt(Nl),w8=E({},Nl,{dataTransfer:0}),N8=Pt(w8),D8=E({},rn,{relatedTarget:0}),x0=Pt(D8),k8=E({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),S8=Pt(k8),_8=E({},Ra,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),M8=Pt(_8),R8=E({},Ra,{data:0}),Uc=Pt(R8),T8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O8(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=L8[t])?!!s[t]:!1}function c0(){return O8}var U8=E({},rn,{key:function(t){if(t.key){var s=T8[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Fl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?P8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c0,charCode:function(t){return t.type==="keypress"?Fl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),q8=Pt(U8),z8=E({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qc=Pt(z8),V8=E({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c0}),Q8=Pt(V8),H8=E({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),$8=Pt(H8),Y8=E({},Nl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G8=Pt(Y8),I8=E({},Ra,{newState:0,oldState:0}),X8=Pt(I8),Z8=[9,13,27,32],d0=Ts&&"CompositionEvent"in window,ln=null;Ts&&"documentMode"in document&&(ln=document.documentMode);var K8=Ts&&"TextEvent"in window&&!ln,zc=Ts&&(!d0||ln&&8<ln&&11>=ln),Vc=" ",Qc=!1;function Hc(t,s){switch(t){case"keyup":return Z8.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $c(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cr=!1;function J8(t,s){switch(t){case"compositionend":return $c(s);case"keypress":return s.which!==32?null:(Qc=!0,Vc);case"textInput":return t=s.data,t===Vc&&Qc?null:t;default:return null}}function W8(t,s){if(cr)return t==="compositionend"||!d0&&Hc(t,s)?(t=Pc(),Al=l0=aa=null,cr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return zc&&s.locale!=="ko"?null:s.data;default:return null}}var eg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!eg[t.type]:s==="textarea"}function Gc(t,s,a,r){ir?xr?xr.push(r):xr=[r]:ir=r,s=fo(s,"onChange"),0<s.length&&(a=new wl("onChange","change",null,a,r),t.push({event:a,listeners:s}))}var on=null,xn=null;function tg(t){wm(t,0)}function Dl(t){var s=tn(t);if(Nc(s))return t}function Ic(t,s){if(t==="change")return s}var Xc=!1;if(Ts){var u0;if(Ts){var m0="oninput"in document;if(!m0){var Zc=document.createElement("div");Zc.setAttribute("oninput","return;"),m0=typeof Zc.oninput=="function"}u0=m0}else u0=!1;Xc=u0&&(!document.documentMode||9<document.documentMode)}function Kc(){on&&(on.detachEvent("onpropertychange",Jc),xn=on=null)}function Jc(t){if(t.propertyName==="value"&&Dl(xn)){var s=[];Gc(s,xn,t,a0(t)),Tc(tg,s)}}function sg(t,s,a){t==="focusin"?(Kc(),on=s,xn=a,on.attachEvent("onpropertychange",Jc)):t==="focusout"&&Kc()}function ag(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dl(xn)}function rg(t,s){if(t==="click")return Dl(s)}function ng(t,s){if(t==="input"||t==="change")return Dl(s)}function lg(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Qt=typeof Object.is=="function"?Object.is:lg;function cn(t,s){if(Qt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),r=Object.keys(s);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var x=a[r];if(!_s.call(s,x)||!Qt(t[x],s[x]))return!1}return!0}function Wc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ed(t,s){var a=Wc(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=s&&r>=s)return{node:a,offset:s-t};t=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wc(a)}}function td(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?td(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function sd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Cl(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Cl(t.document)}return s}function h0(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var og=Ts&&"documentMode"in document&&11>=document.documentMode,dr=null,f0=null,dn=null,g0=!1;function ad(t,s,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;g0||dr==null||dr!==Cl(r)||(r=dr,"selectionStart"in r&&h0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dn&&cn(dn,r)||(dn=r,r=fo(f0,"onSelect"),0<r.length&&(s=new wl("onSelect","select",null,s,a),t.push({event:s,listeners:r}),s.target=dr)))}function Ta(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var ur={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},p0={},rd={};Ts&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function Pa(t){if(p0[t])return p0[t];if(!ur[t])return t;var s=ur[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in rd)return p0[t]=s[a];return t}var nd=Pa("animationend"),ld=Pa("animationiteration"),od=Pa("animationstart"),ig=Pa("transitionrun"),xg=Pa("transitionstart"),cg=Pa("transitioncancel"),id=Pa("transitionend"),xd=new Map,E0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");E0.push("scrollEnd");function ms(t,s){xd.set(t,s),Ma(s,[t])}var cd=new WeakMap;function ss(t,s){if(typeof t=="object"&&t!==null){var a=cd.get(t);return a!==void 0?a:(s={value:t,source:s,stack:jc(s)},cd.set(t,s),s)}return{value:t,source:s,stack:jc(s)}}var as=[],mr=0,b0=0;function kl(){for(var t=mr,s=b0=mr=0;s<t;){var a=as[s];as[s++]=null;var r=as[s];as[s++]=null;var x=as[s];as[s++]=null;var u=as[s];if(as[s++]=null,r!==null&&x!==null){var C=r.pending;C===null?x.next=x:(x.next=C.next,C.next=x),r.pending=x}u!==0&&dd(a,x,u)}}function Sl(t,s,a,r){as[mr++]=t,as[mr++]=s,as[mr++]=a,as[mr++]=r,b0|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function y0(t,s,a,r){return Sl(t,s,a,r),_l(t)}function hr(t,s){return Sl(t,null,null,s),_l(t)}function dd(t,s,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var x=!1,u=t.return;u!==null;)u.childLanes|=a,r=u.alternate,r!==null&&(r.childLanes|=a),u.tag===22&&(t=u.stateNode,t===null||t._visibility&1||(x=!0)),t=u,u=u.return;return t.tag===3?(u=t.stateNode,x&&s!==null&&(x=31-pt(a),t=u.hiddenUpdates,r=t[x],r===null?t[x]=[s]:r.push(s),s.lane=a|536870912),u):null}function _l(t){if(50<Pn)throw Pn=0,ji=null,Error(l(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var fr={};function dg(t,s,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,s,a,r){return new dg(t,s,a,r)}function v0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ps(t,s){var a=t.alternate;return a===null?(a=Ht(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ud(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Ml(t,s,a,r,x,u){var C=0;if(r=t,typeof t=="function")v0(t)&&(C=1);else if(typeof t=="string")C=m9(t,a,G.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=Ht(31,a,s,x),t.elementType=D,t.lanes=u,t;case B:return La(a.children,x,u,s);case y:C=8,x|=24;break;case _:return t=Ht(12,a,s,x|2),t.elementType=_,t.lanes=u,t;case M:return t=Ht(13,a,s,x),t.elementType=M,t.lanes=u,t;case k:return t=Ht(19,a,s,x),t.elementType=k,t.lanes=u,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case w:C=10;break e;case Q:C=9;break e;case j:C=11;break e;case T:C=14;break e;case U:C=16,r=null;break e}C=29,a=Error(l(130,t===null?"null":typeof t,"")),r=null}return s=Ht(C,a,s,x),s.elementType=t,s.type=r,s.lanes=u,s}function La(t,s,a,r){return t=Ht(7,t,r,s),t.lanes=a,t}function C0(t,s,a){return t=Ht(6,t,null,s),t.lanes=a,t}function B0(t,s,a){return s=Ht(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var gr=[],pr=0,Rl=null,Tl=0,rs=[],ns=0,Oa=null,Ls=1,Os="";function Ua(t,s){gr[pr++]=Tl,gr[pr++]=Rl,Rl=t,Tl=s}function md(t,s,a){rs[ns++]=Ls,rs[ns++]=Os,rs[ns++]=Oa,Oa=t;var r=Ls;t=Os;var x=32-pt(r)-1;r&=~(1<<x),a+=1;var u=32-pt(s)+x;if(30<u){var C=x-x%5;u=(r&(1<<C)-1).toString(32),r>>=C,x-=C,Ls=1<<32-pt(s)+x|a<<x|r,Os=u+t}else Ls=1<<u|a<<x|r,Os=t}function A0(t){t.return!==null&&(Ua(t,1),md(t,1,0))}function F0(t){for(;t===Rl;)Rl=gr[--pr],gr[pr]=null,Tl=gr[--pr],gr[pr]=null;for(;t===Oa;)Oa=rs[--ns],rs[ns]=null,Os=rs[--ns],rs[ns]=null,Ls=rs[--ns],rs[ns]=null}var kt=null,Je=null,Oe=!1,qa=null,vs=!1,j0=Error(l(519));function za(t){var s=Error(l(418,""));throw hn(ss(s,t)),j0}function hd(t){var s=t.stateNode,a=t.type,r=t.memoizedProps;switch(s[Ft]=t,s[Tt]=r,a){case"dialog":Se("cancel",s),Se("close",s);break;case"iframe":case"object":case"embed":Se("load",s);break;case"video":case"audio":for(a=0;a<On.length;a++)Se(On[a],s);break;case"source":Se("error",s);break;case"img":case"image":case"link":Se("error",s),Se("load",s);break;case"details":Se("toggle",s);break;case"input":Se("invalid",s),Dc(s,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),vl(s);break;case"select":Se("invalid",s);break;case"textarea":Se("invalid",s),Sc(s,r.value,r.defaultValue,r.children),vl(s)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||r.suppressHydrationWarning===!0||Sm(s.textContent,a)?(r.popover!=null&&(Se("beforetoggle",s),Se("toggle",s)),r.onScroll!=null&&Se("scroll",s),r.onScrollEnd!=null&&Se("scrollend",s),r.onClick!=null&&(s.onclick=go),s=!0):s=!1,s||za(t)}function fd(t){for(kt=t.return;kt;)switch(kt.tag){case 5:case 13:vs=!1;return;case 27:case 3:vs=!0;return;default:kt=kt.return}}function un(t){if(t!==kt)return!1;if(!Oe)return fd(t),Oe=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Vi(t.type,t.memoizedProps)),a=!a),a&&Je&&za(t),fd(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(s===0){Je=fs(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;t=t.nextSibling}Je=null}}else s===27?(s=Je,ba(t.type)?(t=Yi,Yi=null,Je=t):Je=s):Je=kt?fs(t.stateNode.nextSibling):null;return!0}function mn(){Je=kt=null,Oe=!1}function gd(){var t=qa;return t!==null&&(Ut===null?Ut=t:Ut.push.apply(Ut,t),qa=null),t}function hn(t){qa===null?qa=[t]:qa.push(t)}var w0=O(null),Va=null,Us=null;function ra(t,s,a){Z(w0,s._currentValue),s._currentValue=a}function qs(t){t._currentValue=w0.current,L(w0)}function N0(t,s,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),t===a)break;t=t.return}}function D0(t,s,a,r){var x=t.child;for(x!==null&&(x.return=t);x!==null;){var u=x.dependencies;if(u!==null){var C=x.child;u=u.firstContext;e:for(;u!==null;){var N=u;u=x;for(var V=0;V<s.length;V++)if(N.context===s[V]){u.lanes|=a,N=u.alternate,N!==null&&(N.lanes|=a),N0(u.return,a,t),r||(C=null);break e}u=N.next}}else if(x.tag===18){if(C=x.return,C===null)throw Error(l(341));C.lanes|=a,u=C.alternate,u!==null&&(u.lanes|=a),N0(C,a,t),C=null}else C=x.child;if(C!==null)C.return=x;else for(C=x;C!==null;){if(C===t){C=null;break}if(x=C.sibling,x!==null){x.return=C.return,C=x;break}C=C.return}x=C}}function fn(t,s,a,r){t=null;for(var x=s,u=!1;x!==null;){if(!u){if((x.flags&524288)!==0)u=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var C=x.alternate;if(C===null)throw Error(l(387));if(C=C.memoizedProps,C!==null){var N=x.type;Qt(x.pendingProps.value,C.value)||(t!==null?t.push(N):t=[N])}}else if(x===Ee.current){if(C=x.alternate,C===null)throw Error(l(387));C.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(t!==null?t.push(Hn):t=[Hn])}x=x.return}t!==null&&D0(s,t,a,r),s.flags|=262144}function Pl(t){for(t=t.firstContext;t!==null;){if(!Qt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qa(t){Va=t,Us=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function jt(t){return pd(Va,t)}function Ll(t,s){return Va===null&&Qa(t),pd(t,s)}function pd(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Us===null){if(t===null)throw Error(l(308));Us=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Us=Us.next=s;return a}var ug=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},mg=o.unstable_scheduleCallback,hg=o.unstable_NormalPriority,it={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function k0(){return{controller:new ug,data:new Map,refCount:0}}function gn(t){t.refCount--,t.refCount===0&&mg(hg,function(){t.controller.abort()})}var pn=null,S0=0,Er=0,br=null;function fg(t,s){if(pn===null){var a=pn=[];S0=0,Er=Mi(),br={status:"pending",value:void 0,then:function(r){a.push(r)}}}return S0++,s.then(Ed,Ed),s}function Ed(){if(--S0===0&&pn!==null){br!==null&&(br.status="fulfilled");var t=pn;pn=null,Er=0,br=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function gg(t,s){var a=[],r={status:"pending",value:null,reason:null,then:function(x){a.push(x)}};return t.then(function(){r.status="fulfilled",r.value=s;for(var x=0;x<a.length;x++)(0,a[x])(s)},function(x){for(r.status="rejected",r.reason=x,x=0;x<a.length;x++)(0,a[x])(void 0)}),r}var bd=S.S;S.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&fg(t,s),bd!==null&&bd(t,s)};var Ha=O(null);function _0(){var t=Ha.current;return t!==null?t:Ye.pooledCache}function Ol(t,s){s===null?Z(Ha,Ha.current):Z(Ha,s.pool)}function yd(){var t=_0();return t===null?null:{parent:it._currentValue,pool:t}}var En=Error(l(460)),vd=Error(l(474)),Ul=Error(l(542)),M0={then:function(){}};function Cd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ql(){}function Bd(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(ql,ql),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Fd(t),t;default:if(typeof s.status=="string")s.then(ql,ql);else{if(t=Ye,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=s,t.status="pending",t.then(function(r){if(s.status==="pending"){var x=s;x.status="fulfilled",x.value=r}},function(r){if(s.status==="pending"){var x=s;x.status="rejected",x.reason=r}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Fd(t),t}throw bn=s,En}}var bn=null;function Ad(){if(bn===null)throw Error(l(459));var t=bn;return bn=null,t}function Fd(t){if(t===En||t===Ul)throw Error(l(483))}var na=!1;function R0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function T0(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function la(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function oa(t,s,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Ue&2)!==0){var x=r.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),r.pending=s,s=_l(t),dd(t,null,a),s}return Sl(t,r,s,a),_l(t)}function yn(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,Ec(t,a)}}function P0(t,s){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var x=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var C={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?x=u=C:u=u.next=C,a=a.next}while(a!==null);u===null?x=u=s:u=u.next=s}else x=u=s;a={baseState:r.baseState,firstBaseUpdate:x,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var L0=!1;function vn(){if(L0){var t=br;if(t!==null)throw t}}function Cn(t,s,a,r){L0=!1;var x=t.updateQueue;na=!1;var u=x.firstBaseUpdate,C=x.lastBaseUpdate,N=x.shared.pending;if(N!==null){x.shared.pending=null;var V=N,W=V.next;V.next=null,C===null?u=W:C.next=W,C=V;var le=t.alternate;le!==null&&(le=le.updateQueue,N=le.lastBaseUpdate,N!==C&&(N===null?le.firstBaseUpdate=W:N.next=W,le.lastBaseUpdate=V))}if(u!==null){var xe=x.baseState;C=0,le=W=V=null,N=u;do{var ee=N.lane&-536870913,te=ee!==N.lane;if(te?(Me&ee)===ee:(r&ee)===ee){ee!==0&&ee===Er&&(L0=!0),le!==null&&(le=le.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ce=t,ye=N;ee=s;var He=a;switch(ye.tag){case 1:if(Ce=ye.payload,typeof Ce=="function"){xe=Ce.call(He,xe,ee);break e}xe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=ye.payload,ee=typeof Ce=="function"?Ce.call(He,xe,ee):Ce,ee==null)break e;xe=E({},xe,ee);break e;case 2:na=!0}}ee=N.callback,ee!==null&&(t.flags|=64,te&&(t.flags|=8192),te=x.callbacks,te===null?x.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:N.tag,payload:N.payload,callback:N.callback,next:null},le===null?(W=le=te,V=xe):le=le.next=te,C|=ee;if(N=N.next,N===null){if(N=x.shared.pending,N===null)break;te=N,N=te.next,te.next=null,x.lastBaseUpdate=te,x.shared.pending=null}}while(!0);le===null&&(V=xe),x.baseState=V,x.firstBaseUpdate=W,x.lastBaseUpdate=le,u===null&&(x.shared.lanes=0),fa|=C,t.lanes=C,t.memoizedState=xe}}function jd(t,s){if(typeof t!="function")throw Error(l(191,t));t.call(s)}function wd(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)jd(a[t],s)}var yr=O(null),zl=O(0);function Nd(t,s){t=Gs,Z(zl,t),Z(yr,s),Gs=t|s.baseLanes}function O0(){Z(zl,Gs),Z(yr,yr.current)}function U0(){Gs=zl.current,L(yr),L(zl)}var ia=0,je=null,Ve=null,rt=null,Vl=!1,vr=!1,$a=!1,Ql=0,Bn=0,Cr=null,pg=0;function st(){throw Error(l(321))}function q0(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Qt(t[a],s[a]))return!1;return!0}function z0(t,s,a,r,x,u){return ia=u,je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,S.H=t===null||t.memoizedState===null?du:uu,$a=!1,u=a(r,x),$a=!1,vr&&(u=kd(s,a,r,x)),Dd(t),u}function Dd(t){S.H=Xl;var s=Ve!==null&&Ve.next!==null;if(ia=0,rt=Ve=je=null,Vl=!1,Bn=0,Cr=null,s)throw Error(l(300));t===null||ht||(t=t.dependencies,t!==null&&Pl(t)&&(ht=!0))}function kd(t,s,a,r){je=t;var x=0;do{if(vr&&(Cr=null),Bn=0,vr=!1,25<=x)throw Error(l(301));if(x+=1,rt=Ve=null,t.updateQueue!=null){var u=t.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}S.H=Ag,u=s(a,r)}while(vr);return u}function Eg(){var t=S.H,s=t.useState()[0];return s=typeof s.then=="function"?An(s):s,t=t.useState()[0],(Ve!==null?Ve.memoizedState:null)!==t&&(je.flags|=1024),s}function V0(){var t=Ql!==0;return Ql=0,t}function Q0(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function H0(t){if(Vl){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Vl=!1}ia=0,rt=Ve=je=null,vr=!1,Bn=Ql=0,Cr=null}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?je.memoizedState=rt=t:rt=rt.next=t,rt}function nt(){if(Ve===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var s=rt===null?je.memoizedState:rt.next;if(s!==null)rt=s,Ve=t;else{if(t===null)throw je.alternate===null?Error(l(467)):Error(l(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},rt===null?je.memoizedState=rt=t:rt=rt.next=t}return rt}function $0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function An(t){var s=Bn;return Bn+=1,Cr===null&&(Cr=[]),t=Bd(Cr,t,s),s=je,(rt===null?s.memoizedState:rt.next)===null&&(s=s.alternate,S.H=s===null||s.memoizedState===null?du:uu),t}function Hl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return An(t);if(t.$$typeof===w)return jt(t)}throw Error(l(438,String(t)))}function Y0(t){var s=null,a=je.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var r=je.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(s={data:r.data.map(function(x){return x.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=$0(),je.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),r=0;r<t;r++)a[r]=z;return s.index++,a}function zs(t,s){return typeof s=="function"?s(t):s}function $l(t){var s=nt();return G0(s,Ve,t)}function G0(t,s,a){var r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=a;var x=t.baseQueue,u=r.pending;if(u!==null){if(x!==null){var C=x.next;x.next=u.next,u.next=C}s.baseQueue=x=u,r.pending=null}if(u=t.baseState,x===null)t.memoizedState=u;else{s=x.next;var N=C=null,V=null,W=s,le=!1;do{var xe=W.lane&-536870913;if(xe!==W.lane?(Me&xe)===xe:(ia&xe)===xe){var ee=W.revertLane;if(ee===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),xe===Er&&(le=!0);else if((ia&ee)===ee){W=W.next,ee===Er&&(le=!0);continue}else xe={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},V===null?(N=V=xe,C=u):V=V.next=xe,je.lanes|=ee,fa|=ee;xe=W.action,$a&&a(u,xe),u=W.hasEagerState?W.eagerState:a(u,xe)}else ee={lane:xe,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},V===null?(N=V=ee,C=u):V=V.next=ee,je.lanes|=xe,fa|=xe;W=W.next}while(W!==null&&W!==s);if(V===null?C=u:V.next=N,!Qt(u,t.memoizedState)&&(ht=!0,le&&(a=br,a!==null)))throw a;t.memoizedState=u,t.baseState=C,t.baseQueue=V,r.lastRenderedState=u}return x===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function I0(t){var s=nt(),a=s.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=t;var r=a.dispatch,x=a.pending,u=s.memoizedState;if(x!==null){a.pending=null;var C=x=x.next;do u=t(u,C.action),C=C.next;while(C!==x);Qt(u,s.memoizedState)||(ht=!0),s.memoizedState=u,s.baseQueue===null&&(s.baseState=u),a.lastRenderedState=u}return[u,r]}function Sd(t,s,a){var r=je,x=nt(),u=Oe;if(u){if(a===void 0)throw Error(l(407));a=a()}else a=s();var C=!Qt((Ve||x).memoizedState,a);C&&(x.memoizedState=a,ht=!0),x=x.queue;var N=Rd.bind(null,r,x,t);if(Fn(2048,8,N,[t]),x.getSnapshot!==s||C||rt!==null&&rt.memoizedState.tag&1){if(r.flags|=2048,Br(9,Yl(),Md.bind(null,r,x,a,s),null),Ye===null)throw Error(l(349));u||(ia&124)!==0||_d(r,s,a)}return a}function _d(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=je.updateQueue,s===null?(s=$0(),je.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Md(t,s,a,r){s.value=a,s.getSnapshot=r,Td(s)&&Pd(t)}function Rd(t,s,a){return a(function(){Td(s)&&Pd(t)})}function Td(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Qt(t,a)}catch{return!0}}function Pd(t){var s=hr(t,2);s!==null&&Xt(s,t,2)}function X0(t){var s=Lt();if(typeof t=="function"){var a=t;if(t=a(),$a){ys(!0);try{a()}finally{ys(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:t},s}function Ld(t,s,a,r){return t.baseState=a,G0(t,Ve,typeof r=="function"?r:zs)}function bg(t,s,a,r,x){if(Il(t))throw Error(l(485));if(t=s.action,t!==null){var u={payload:x,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){u.listeners.push(C)}};S.T!==null?a(!0):u.isTransition=!1,r(u),a=s.pending,a===null?(u.next=s.pending=u,Od(s,u)):(u.next=a.next,s.pending=a.next=u)}}function Od(t,s){var a=s.action,r=s.payload,x=t.state;if(s.isTransition){var u=S.T,C={};S.T=C;try{var N=a(x,r),V=S.S;V!==null&&V(C,N),Ud(t,s,N)}catch(W){Z0(t,s,W)}finally{S.T=u}}else try{u=a(x,r),Ud(t,s,u)}catch(W){Z0(t,s,W)}}function Ud(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){qd(t,s,r)},function(r){return Z0(t,s,r)}):qd(t,s,a)}function qd(t,s,a){s.status="fulfilled",s.value=a,zd(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Od(t,a)))}function Z0(t,s,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do s.status="rejected",s.reason=a,zd(s),s=s.next;while(s!==r)}t.action=null}function zd(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Vd(t,s){return s}function Qd(t,s){if(Oe){var a=Ye.formState;if(a!==null){e:{var r=je;if(Oe){if(Je){t:{for(var x=Je,u=vs;x.nodeType!==8;){if(!u){x=null;break t}if(x=fs(x.nextSibling),x===null){x=null;break t}}u=x.data,x=u==="F!"||u==="F"?x:null}if(x){Je=fs(x.nextSibling),r=x.data==="F!";break e}}za(r)}r=!1}r&&(s=a[0])}}return a=Lt(),a.memoizedState=a.baseState=s,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:s},a.queue=r,a=iu.bind(null,je,r),r.dispatch=a,r=X0(!1),u=ti.bind(null,je,!1,r.queue),r=Lt(),x={state:s,dispatch:null,action:t,pending:null},r.queue=x,a=bg.bind(null,je,x,u,a),x.dispatch=a,r.memoizedState=t,[s,a,!1]}function Hd(t){var s=nt();return $d(s,Ve,t)}function $d(t,s,a){if(s=G0(t,s,Vd)[0],t=$l(zs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var r=An(s)}catch(C){throw C===En?Ul:C}else r=s;s=nt();var x=s.queue,u=x.dispatch;return a!==s.memoizedState&&(je.flags|=2048,Br(9,Yl(),yg.bind(null,x,a),null)),[r,u,t]}function yg(t,s){t.action=s}function Yd(t){var s=nt(),a=Ve;if(a!==null)return $d(s,a,t);nt(),s=s.memoizedState,a=nt();var r=a.queue.dispatch;return a.memoizedState=t,[s,r,!1]}function Br(t,s,a,r){return t={tag:t,create:a,deps:r,inst:s,next:null},s=je.updateQueue,s===null&&(s=$0(),je.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,s.lastEffect=t),t}function Yl(){return{destroy:void 0,resource:void 0}}function Gd(){return nt().memoizedState}function Gl(t,s,a,r){var x=Lt();r=r===void 0?null:r,je.flags|=t,x.memoizedState=Br(1|s,Yl(),a,r)}function Fn(t,s,a,r){var x=nt();r=r===void 0?null:r;var u=x.memoizedState.inst;Ve!==null&&r!==null&&q0(r,Ve.memoizedState.deps)?x.memoizedState=Br(s,u,a,r):(je.flags|=t,x.memoizedState=Br(1|s,u,a,r))}function Id(t,s){Gl(8390656,8,t,s)}function Xd(t,s){Fn(2048,8,t,s)}function Zd(t,s){return Fn(4,2,t,s)}function Kd(t,s){return Fn(4,4,t,s)}function Jd(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Wd(t,s,a){a=a!=null?a.concat([t]):null,Fn(4,4,Jd.bind(null,s,t),a)}function K0(){}function eu(t,s){var a=nt();s=s===void 0?null:s;var r=a.memoizedState;return s!==null&&q0(s,r[1])?r[0]:(a.memoizedState=[t,s],t)}function tu(t,s){var a=nt();s=s===void 0?null:s;var r=a.memoizedState;if(s!==null&&q0(s,r[1]))return r[0];if(r=t(),$a){ys(!0);try{t()}finally{ys(!1)}}return a.memoizedState=[r,s],r}function J0(t,s,a){return a===void 0||(ia&1073741824)!==0?t.memoizedState=s:(t.memoizedState=a,t=rm(),je.lanes|=t,fa|=t,a)}function su(t,s,a,r){return Qt(a,s)?a:yr.current!==null?(t=J0(t,a,r),Qt(t,s)||(ht=!0),t):(ia&42)===0?(ht=!0,t.memoizedState=a):(t=rm(),je.lanes|=t,fa|=t,s)}function au(t,s,a,r,x){var u=q.p;q.p=u!==0&&8>u?u:8;var C=S.T,N={};S.T=N,ti(t,!1,s,a);try{var V=x(),W=S.S;if(W!==null&&W(N,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var le=gg(V,r);jn(t,s,le,It(t))}else jn(t,s,r,It(t))}catch(xe){jn(t,s,{then:function(){},status:"rejected",reason:xe},It())}finally{q.p=u,S.T=C}}function vg(){}function W0(t,s,a,r){if(t.tag!==5)throw Error(l(476));var x=ru(t).queue;au(t,x,s,ne,a===null?vg:function(){return nu(t),a(r)})}function ru(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:ne},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function nu(t){var s=ru(t).next.queue;jn(t,s,{},It())}function ei(){return jt(Hn)}function lu(){return nt().memoizedState}function ou(){return nt().memoizedState}function Cg(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=It();t=la(a);var r=oa(s,t,a);r!==null&&(Xt(r,s,a),yn(r,s,a)),s={cache:k0()},t.payload=s;return}s=s.return}}function Bg(t,s,a){var r=It();a={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Il(t)?xu(s,a):(a=y0(t,s,a,r),a!==null&&(Xt(a,t,r),cu(a,s,r)))}function iu(t,s,a){var r=It();jn(t,s,a,r)}function jn(t,s,a,r){var x={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Il(t))xu(s,x);else{var u=t.alternate;if(t.lanes===0&&(u===null||u.lanes===0)&&(u=s.lastRenderedReducer,u!==null))try{var C=s.lastRenderedState,N=u(C,a);if(x.hasEagerState=!0,x.eagerState=N,Qt(N,C))return Sl(t,s,x,0),Ye===null&&kl(),!1}catch{}finally{}if(a=y0(t,s,x,r),a!==null)return Xt(a,t,r),cu(a,s,r),!0}return!1}function ti(t,s,a,r){if(r={lane:2,revertLane:Mi(),action:r,hasEagerState:!1,eagerState:null,next:null},Il(t)){if(s)throw Error(l(479))}else s=y0(t,a,r,2),s!==null&&Xt(s,t,2)}function Il(t){var s=t.alternate;return t===je||s!==null&&s===je}function xu(t,s){vr=Vl=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function cu(t,s,a){if((a&4194048)!==0){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,Ec(t,a)}}var Xl={readContext:jt,use:Hl,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st},du={readContext:jt,use:Hl,useCallback:function(t,s){return Lt().memoizedState=[t,s===void 0?null:s],t},useContext:jt,useEffect:Id,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Gl(4194308,4,Jd.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Gl(4194308,4,t,s)},useInsertionEffect:function(t,s){Gl(4,2,t,s)},useMemo:function(t,s){var a=Lt();s=s===void 0?null:s;var r=t();if($a){ys(!0);try{t()}finally{ys(!1)}}return a.memoizedState=[r,s],r},useReducer:function(t,s,a){var r=Lt();if(a!==void 0){var x=a(s);if($a){ys(!0);try{a(s)}finally{ys(!1)}}}else x=s;return r.memoizedState=r.baseState=x,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:x},r.queue=t,t=t.dispatch=Bg.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var s=Lt();return t={current:t},s.memoizedState=t},useState:function(t){t=X0(t);var s=t.queue,a=iu.bind(null,je,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:K0,useDeferredValue:function(t,s){var a=Lt();return J0(a,t,s)},useTransition:function(){var t=X0(!1);return t=au.bind(null,je,t.queue,!0,!1),Lt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var r=je,x=Lt();if(Oe){if(a===void 0)throw Error(l(407));a=a()}else{if(a=s(),Ye===null)throw Error(l(349));(Me&124)!==0||_d(r,s,a)}x.memoizedState=a;var u={value:a,getSnapshot:s};return x.queue=u,Id(Rd.bind(null,r,u,t),[t]),r.flags|=2048,Br(9,Yl(),Md.bind(null,r,u,a,s),null),a},useId:function(){var t=Lt(),s=Ye.identifierPrefix;if(Oe){var a=Os,r=Ls;a=(r&~(1<<32-pt(r)-1)).toString(32)+a,s=""+s+"R"+a,a=Ql++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=pg++,s=""+s+"r"+a.toString(32)+"";return t.memoizedState=s},useHostTransitionStatus:ei,useFormState:Qd,useActionState:Qd,useOptimistic:function(t){var s=Lt();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=ti.bind(null,je,!0,a),a.dispatch=s,[t,s]},useMemoCache:Y0,useCacheRefresh:function(){return Lt().memoizedState=Cg.bind(null,je)}},uu={readContext:jt,use:Hl,useCallback:eu,useContext:jt,useEffect:Xd,useImperativeHandle:Wd,useInsertionEffect:Zd,useLayoutEffect:Kd,useMemo:tu,useReducer:$l,useRef:Gd,useState:function(){return $l(zs)},useDebugValue:K0,useDeferredValue:function(t,s){var a=nt();return su(a,Ve.memoizedState,t,s)},useTransition:function(){var t=$l(zs)[0],s=nt().memoizedState;return[typeof t=="boolean"?t:An(t),s]},useSyncExternalStore:Sd,useId:lu,useHostTransitionStatus:ei,useFormState:Hd,useActionState:Hd,useOptimistic:function(t,s){var a=nt();return Ld(a,Ve,t,s)},useMemoCache:Y0,useCacheRefresh:ou},Ag={readContext:jt,use:Hl,useCallback:eu,useContext:jt,useEffect:Xd,useImperativeHandle:Wd,useInsertionEffect:Zd,useLayoutEffect:Kd,useMemo:tu,useReducer:I0,useRef:Gd,useState:function(){return I0(zs)},useDebugValue:K0,useDeferredValue:function(t,s){var a=nt();return Ve===null?J0(a,t,s):su(a,Ve.memoizedState,t,s)},useTransition:function(){var t=I0(zs)[0],s=nt().memoizedState;return[typeof t=="boolean"?t:An(t),s]},useSyncExternalStore:Sd,useId:lu,useHostTransitionStatus:ei,useFormState:Yd,useActionState:Yd,useOptimistic:function(t,s){var a=nt();return Ve!==null?Ld(a,Ve,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Y0,useCacheRefresh:ou},Ar=null,wn=0;function Zl(t){var s=wn;return wn+=1,Ar===null&&(Ar=[]),Bd(Ar,t,s)}function Nn(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Kl(t,s){throw s.$$typeof===p?Error(l(525)):(t=Object.prototype.toString.call(s),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function mu(t){var s=t._init;return s(t._payload)}function hu(t){function s(I,Y){if(t){var K=I.deletions;K===null?(I.deletions=[Y],I.flags|=16):K.push(Y)}}function a(I,Y){if(!t)return null;for(;Y!==null;)s(I,Y),Y=Y.sibling;return null}function r(I){for(var Y=new Map;I!==null;)I.key!==null?Y.set(I.key,I):Y.set(I.index,I),I=I.sibling;return Y}function x(I,Y){return I=Ps(I,Y),I.index=0,I.sibling=null,I}function u(I,Y,K){return I.index=K,t?(K=I.alternate,K!==null?(K=K.index,K<Y?(I.flags|=67108866,Y):K):(I.flags|=67108866,Y)):(I.flags|=1048576,Y)}function C(I){return t&&I.alternate===null&&(I.flags|=67108866),I}function N(I,Y,K,oe){return Y===null||Y.tag!==6?(Y=C0(K,I.mode,oe),Y.return=I,Y):(Y=x(Y,K),Y.return=I,Y)}function V(I,Y,K,oe){var ge=K.type;return ge===B?le(I,Y,K.props.children,oe,K.key):Y!==null&&(Y.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===U&&mu(ge)===Y.type)?(Y=x(Y,K.props),Nn(Y,K),Y.return=I,Y):(Y=Ml(K.type,K.key,K.props,null,I.mode,oe),Nn(Y,K),Y.return=I,Y)}function W(I,Y,K,oe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==K.containerInfo||Y.stateNode.implementation!==K.implementation?(Y=B0(K,I.mode,oe),Y.return=I,Y):(Y=x(Y,K.children||[]),Y.return=I,Y)}function le(I,Y,K,oe,ge){return Y===null||Y.tag!==7?(Y=La(K,I.mode,oe,ge),Y.return=I,Y):(Y=x(Y,K),Y.return=I,Y)}function xe(I,Y,K){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=C0(""+Y,I.mode,K),Y.return=I,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return K=Ml(Y.type,Y.key,Y.props,null,I.mode,K),Nn(K,Y),K.return=I,K;case b:return Y=B0(Y,I.mode,K),Y.return=I,Y;case U:var oe=Y._init;return Y=oe(Y._payload),xe(I,Y,K)}if(se(Y)||$(Y))return Y=La(Y,I.mode,K,null),Y.return=I,Y;if(typeof Y.then=="function")return xe(I,Zl(Y),K);if(Y.$$typeof===w)return xe(I,Ll(I,Y),K);Kl(I,Y)}return null}function ee(I,Y,K,oe){var ge=Y!==null?Y.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ge!==null?null:N(I,Y,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return K.key===ge?V(I,Y,K,oe):null;case b:return K.key===ge?W(I,Y,K,oe):null;case U:return ge=K._init,K=ge(K._payload),ee(I,Y,K,oe)}if(se(K)||$(K))return ge!==null?null:le(I,Y,K,oe,null);if(typeof K.then=="function")return ee(I,Y,Zl(K),oe);if(K.$$typeof===w)return ee(I,Y,Ll(I,K),oe);Kl(I,K)}return null}function te(I,Y,K,oe,ge){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return I=I.get(K)||null,N(Y,I,""+oe,ge);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case v:return I=I.get(oe.key===null?K:oe.key)||null,V(Y,I,oe,ge);case b:return I=I.get(oe.key===null?K:oe.key)||null,W(Y,I,oe,ge);case U:var De=oe._init;return oe=De(oe._payload),te(I,Y,K,oe,ge)}if(se(oe)||$(oe))return I=I.get(K)||null,le(Y,I,oe,ge,null);if(typeof oe.then=="function")return te(I,Y,K,Zl(oe),ge);if(oe.$$typeof===w)return te(I,Y,K,Ll(Y,oe),ge);Kl(Y,oe)}return null}function Ce(I,Y,K,oe){for(var ge=null,De=null,pe=Y,ve=Y=0,gt=null;pe!==null&&ve<K.length;ve++){pe.index>ve?(gt=pe,pe=null):gt=pe.sibling;var Le=ee(I,pe,K[ve],oe);if(Le===null){pe===null&&(pe=gt);break}t&&pe&&Le.alternate===null&&s(I,pe),Y=u(Le,Y,ve),De===null?ge=Le:De.sibling=Le,De=Le,pe=gt}if(ve===K.length)return a(I,pe),Oe&&Ua(I,ve),ge;if(pe===null){for(;ve<K.length;ve++)pe=xe(I,K[ve],oe),pe!==null&&(Y=u(pe,Y,ve),De===null?ge=pe:De.sibling=pe,De=pe);return Oe&&Ua(I,ve),ge}for(pe=r(pe);ve<K.length;ve++)gt=te(pe,I,ve,K[ve],oe),gt!==null&&(t&&gt.alternate!==null&&pe.delete(gt.key===null?ve:gt.key),Y=u(gt,Y,ve),De===null?ge=gt:De.sibling=gt,De=gt);return t&&pe.forEach(function(Aa){return s(I,Aa)}),Oe&&Ua(I,ve),ge}function ye(I,Y,K,oe){if(K==null)throw Error(l(151));for(var ge=null,De=null,pe=Y,ve=Y=0,gt=null,Le=K.next();pe!==null&&!Le.done;ve++,Le=K.next()){pe.index>ve?(gt=pe,pe=null):gt=pe.sibling;var Aa=ee(I,pe,Le.value,oe);if(Aa===null){pe===null&&(pe=gt);break}t&&pe&&Aa.alternate===null&&s(I,pe),Y=u(Aa,Y,ve),De===null?ge=Aa:De.sibling=Aa,De=Aa,pe=gt}if(Le.done)return a(I,pe),Oe&&Ua(I,ve),ge;if(pe===null){for(;!Le.done;ve++,Le=K.next())Le=xe(I,Le.value,oe),Le!==null&&(Y=u(Le,Y,ve),De===null?ge=Le:De.sibling=Le,De=Le);return Oe&&Ua(I,ve),ge}for(pe=r(pe);!Le.done;ve++,Le=K.next())Le=te(pe,I,ve,Le.value,oe),Le!==null&&(t&&Le.alternate!==null&&pe.delete(Le.key===null?ve:Le.key),Y=u(Le,Y,ve),De===null?ge=Le:De.sibling=Le,De=Le);return t&&pe.forEach(function(F9){return s(I,F9)}),Oe&&Ua(I,ve),ge}function He(I,Y,K,oe){if(typeof K=="object"&&K!==null&&K.type===B&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case v:e:{for(var ge=K.key;Y!==null;){if(Y.key===ge){if(ge=K.type,ge===B){if(Y.tag===7){a(I,Y.sibling),oe=x(Y,K.props.children),oe.return=I,I=oe;break e}}else if(Y.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===U&&mu(ge)===Y.type){a(I,Y.sibling),oe=x(Y,K.props),Nn(oe,K),oe.return=I,I=oe;break e}a(I,Y);break}else s(I,Y);Y=Y.sibling}K.type===B?(oe=La(K.props.children,I.mode,oe,K.key),oe.return=I,I=oe):(oe=Ml(K.type,K.key,K.props,null,I.mode,oe),Nn(oe,K),oe.return=I,I=oe)}return C(I);case b:e:{for(ge=K.key;Y!==null;){if(Y.key===ge)if(Y.tag===4&&Y.stateNode.containerInfo===K.containerInfo&&Y.stateNode.implementation===K.implementation){a(I,Y.sibling),oe=x(Y,K.children||[]),oe.return=I,I=oe;break e}else{a(I,Y);break}else s(I,Y);Y=Y.sibling}oe=B0(K,I.mode,oe),oe.return=I,I=oe}return C(I);case U:return ge=K._init,K=ge(K._payload),He(I,Y,K,oe)}if(se(K))return Ce(I,Y,K,oe);if($(K)){if(ge=$(K),typeof ge!="function")throw Error(l(150));return K=ge.call(K),ye(I,Y,K,oe)}if(typeof K.then=="function")return He(I,Y,Zl(K),oe);if(K.$$typeof===w)return He(I,Y,Ll(I,K),oe);Kl(I,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,Y!==null&&Y.tag===6?(a(I,Y.sibling),oe=x(Y,K),oe.return=I,I=oe):(a(I,Y),oe=C0(K,I.mode,oe),oe.return=I,I=oe),C(I)):a(I,Y)}return function(I,Y,K,oe){try{wn=0;var ge=He(I,Y,K,oe);return Ar=null,ge}catch(pe){if(pe===En||pe===Ul)throw pe;var De=Ht(29,pe,null,I.mode);return De.lanes=oe,De.return=I,De}finally{}}}var Fr=hu(!0),fu=hu(!1),ls=O(null),Cs=null;function xa(t){var s=t.alternate;Z(xt,xt.current&1),Z(ls,t),Cs===null&&(s===null||yr.current!==null||s.memoizedState!==null)&&(Cs=t)}function gu(t){if(t.tag===22){if(Z(xt,xt.current),Z(ls,t),Cs===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(Cs=t)}}else ca()}function ca(){Z(xt,xt.current),Z(ls,ls.current)}function Vs(t){L(ls),Cs===t&&(Cs=null),L(xt)}var xt=O(0);function Jl(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$i(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function si(t,s,a,r){s=t.memoizedState,a=a(r,s),a=a==null?s:E({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ai={enqueueSetState:function(t,s,a){t=t._reactInternals;var r=It(),x=la(r);x.payload=s,a!=null&&(x.callback=a),s=oa(t,x,r),s!==null&&(Xt(s,t,r),yn(s,t,r))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var r=It(),x=la(r);x.tag=1,x.payload=s,a!=null&&(x.callback=a),s=oa(t,x,r),s!==null&&(Xt(s,t,r),yn(s,t,r))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=It(),r=la(a);r.tag=2,s!=null&&(r.callback=s),s=oa(t,r,a),s!==null&&(Xt(s,t,a),yn(s,t,a))}};function pu(t,s,a,r,x,u,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,u,C):s.prototype&&s.prototype.isPureReactComponent?!cn(a,r)||!cn(x,u):!0}function Eu(t,s,a,r){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,r),s.state!==t&&ai.enqueueReplaceState(s,s.state,null)}function Ya(t,s){var a=s;if("ref"in s){a={};for(var r in s)r!=="ref"&&(a[r]=s[r])}if(t=t.defaultProps){a===s&&(a=E({},a));for(var x in t)a[x]===void 0&&(a[x]=t[x])}return a}var Wl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function bu(t){Wl(t)}function yu(t){console.error(t)}function vu(t){Wl(t)}function eo(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(r){setTimeout(function(){throw r})}}function Cu(t,s,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function ri(t,s,a){return a=la(a),a.tag=3,a.payload={element:null},a.callback=function(){eo(t,s)},a}function Bu(t){return t=la(t),t.tag=3,t}function Au(t,s,a,r){var x=a.type.getDerivedStateFromError;if(typeof x=="function"){var u=r.value;t.payload=function(){return x(u)},t.callback=function(){Cu(s,a,r)}}var C=a.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(t.callback=function(){Cu(s,a,r),typeof x!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var N=r.stack;this.componentDidCatch(r.value,{componentStack:N!==null?N:""})})}function Fg(t,s,a,r,x){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(s=a.alternate,s!==null&&fn(s,a,x,!0),a=ls.current,a!==null){switch(a.tag){case 13:return Cs===null?Ni():a.alternate===null&&We===0&&(We=3),a.flags&=-257,a.flags|=65536,a.lanes=x,r===M0?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([r]):s.add(r),ki(t,r,x)),!1;case 22:return a.flags|=65536,r===M0?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([r]):a.add(r)),ki(t,r,x)),!1}throw Error(l(435,a.tag))}return ki(t,r,x),Ni(),!1}if(Oe)return s=ls.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=x,r!==j0&&(t=Error(l(422),{cause:r}),hn(ss(t,a)))):(r!==j0&&(s=Error(l(423),{cause:r}),hn(ss(s,a))),t=t.current.alternate,t.flags|=65536,x&=-x,t.lanes|=x,r=ss(r,a),x=ri(t.stateNode,r,x),P0(t,x),We!==4&&(We=2)),!1;var u=Error(l(520),{cause:r});if(u=ss(u,a),Tn===null?Tn=[u]:Tn.push(u),We!==4&&(We=2),s===null)return!0;r=ss(r,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=x&-x,a.lanes|=t,t=ri(a.stateNode,r,t),P0(a,t),!1;case 1:if(s=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ga===null||!ga.has(u))))return a.flags|=65536,x&=-x,a.lanes|=x,x=Bu(x),Au(x,t,a,r),P0(a,x),!1}a=a.return}while(a!==null);return!1}var Fu=Error(l(461)),ht=!1;function Et(t,s,a,r){s.child=t===null?fu(s,null,a,r):Fr(s,t.child,a,r)}function ju(t,s,a,r,x){a=a.render;var u=s.ref;if("ref"in r){var C={};for(var N in r)N!=="ref"&&(C[N]=r[N])}else C=r;return Qa(s),r=z0(t,s,a,C,u,x),N=V0(),t!==null&&!ht?(Q0(t,s,x),Qs(t,s,x)):(Oe&&N&&A0(s),s.flags|=1,Et(t,s,r,x),s.child)}function wu(t,s,a,r,x){if(t===null){var u=a.type;return typeof u=="function"&&!v0(u)&&u.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=u,Nu(t,s,u,r,x)):(t=Ml(a.type,null,r,s,s.mode,x),t.ref=s.ref,t.return=s,s.child=t)}if(u=t.child,!ui(t,x)){var C=u.memoizedProps;if(a=a.compare,a=a!==null?a:cn,a(C,r)&&t.ref===s.ref)return Qs(t,s,x)}return s.flags|=1,t=Ps(u,r),t.ref=s.ref,t.return=s,s.child=t}function Nu(t,s,a,r,x){if(t!==null){var u=t.memoizedProps;if(cn(u,r)&&t.ref===s.ref)if(ht=!1,s.pendingProps=r=u,ui(t,x))(t.flags&131072)!==0&&(ht=!0);else return s.lanes=t.lanes,Qs(t,s,x)}return ni(t,s,a,r,x)}function Du(t,s,a){var r=s.pendingProps,x=r.children,u=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((s.flags&128)!==0){if(r=u!==null?u.baseLanes|a:a,t!==null){for(x=s.child=t.child,u=0;x!==null;)u=u|x.lanes|x.childLanes,x=x.sibling;s.childLanes=u&~r}else s.childLanes=0,s.child=null;return ku(t,s,r,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ol(s,u!==null?u.cachePool:null),u!==null?Nd(s,u):O0(),gu(s);else return s.lanes=s.childLanes=536870912,ku(t,s,u!==null?u.baseLanes|a:a,a)}else u!==null?(Ol(s,u.cachePool),Nd(s,u),ca(),s.memoizedState=null):(t!==null&&Ol(s,null),O0(),ca());return Et(t,s,x,a),s.child}function ku(t,s,a,r){var x=_0();return x=x===null?null:{parent:it._currentValue,pool:x},s.memoizedState={baseLanes:a,cachePool:x},t!==null&&Ol(s,null),O0(),gu(s),t!==null&&fn(t,s,r,!0),null}function to(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function ni(t,s,a,r,x){return Qa(s),a=z0(t,s,a,r,void 0,x),r=V0(),t!==null&&!ht?(Q0(t,s,x),Qs(t,s,x)):(Oe&&r&&A0(s),s.flags|=1,Et(t,s,a,x),s.child)}function Su(t,s,a,r,x,u){return Qa(s),s.updateQueue=null,a=kd(s,r,a,x),Dd(t),r=V0(),t!==null&&!ht?(Q0(t,s,u),Qs(t,s,u)):(Oe&&r&&A0(s),s.flags|=1,Et(t,s,a,u),s.child)}function _u(t,s,a,r,x){if(Qa(s),s.stateNode===null){var u=fr,C=a.contextType;typeof C=="object"&&C!==null&&(u=jt(C)),u=new a(r,u),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ai,s.stateNode=u,u._reactInternals=s,u=s.stateNode,u.props=r,u.state=s.memoizedState,u.refs={},R0(s),C=a.contextType,u.context=typeof C=="object"&&C!==null?jt(C):fr,u.state=s.memoizedState,C=a.getDerivedStateFromProps,typeof C=="function"&&(si(s,a,C,r),u.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(C=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),C!==u.state&&ai.enqueueReplaceState(u,u.state,null),Cn(s,r,u,x),vn(),u.state=s.memoizedState),typeof u.componentDidMount=="function"&&(s.flags|=4194308),r=!0}else if(t===null){u=s.stateNode;var N=s.memoizedProps,V=Ya(a,N);u.props=V;var W=u.context,le=a.contextType;C=fr,typeof le=="object"&&le!==null&&(C=jt(le));var xe=a.getDerivedStateFromProps;le=typeof xe=="function"||typeof u.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,le||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(N||W!==C)&&Eu(s,u,r,C),na=!1;var ee=s.memoizedState;u.state=ee,Cn(s,r,u,x),vn(),W=s.memoizedState,N||ee!==W||na?(typeof xe=="function"&&(si(s,a,xe,r),W=s.memoizedState),(V=na||pu(s,a,V,r,ee,W,C))?(le||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(s.flags|=4194308)):(typeof u.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=W),u.props=r,u.state=W,u.context=C,r=V):(typeof u.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{u=s.stateNode,T0(t,s),C=s.memoizedProps,le=Ya(a,C),u.props=le,xe=s.pendingProps,ee=u.context,W=a.contextType,V=fr,typeof W=="object"&&W!==null&&(V=jt(W)),N=a.getDerivedStateFromProps,(W=typeof N=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(C!==xe||ee!==V)&&Eu(s,u,r,V),na=!1,ee=s.memoizedState,u.state=ee,Cn(s,r,u,x),vn();var te=s.memoizedState;C!==xe||ee!==te||na||t!==null&&t.dependencies!==null&&Pl(t.dependencies)?(typeof N=="function"&&(si(s,a,N,r),te=s.memoizedState),(le=na||pu(s,a,le,r,ee,te,V)||t!==null&&t.dependencies!==null&&Pl(t.dependencies))?(W||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,te,V),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,te,V)),typeof u.componentDidUpdate=="function"&&(s.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof u.componentDidUpdate!="function"||C===t.memoizedProps&&ee===t.memoizedState||(s.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&ee===t.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=te),u.props=r,u.state=te,u.context=V,r=le):(typeof u.componentDidUpdate!="function"||C===t.memoizedProps&&ee===t.memoizedState||(s.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&ee===t.memoizedState||(s.flags|=1024),r=!1)}return u=r,to(t,s),r=(s.flags&128)!==0,u||r?(u=s.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:u.render(),s.flags|=1,t!==null&&r?(s.child=Fr(s,t.child,null,x),s.child=Fr(s,null,a,x)):Et(t,s,a,x),s.memoizedState=u.state,t=s.child):t=Qs(t,s,x),t}function Mu(t,s,a,r){return mn(),s.flags|=256,Et(t,s,a,r),s.child}var li={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oi(t){return{baseLanes:t,cachePool:yd()}}function ii(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=os),t}function Ru(t,s,a){var r=s.pendingProps,x=!1,u=(s.flags&128)!==0,C;if((C=u)||(C=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),C&&(x=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,t===null){if(Oe){if(x?xa(s):ca(),Oe){var N=Je,V;if(V=N){e:{for(V=N,N=vs;V.nodeType!==8;){if(!N){N=null;break e}if(V=fs(V.nextSibling),V===null){N=null;break e}}N=V}N!==null?(s.memoizedState={dehydrated:N,treeContext:Oa!==null?{id:Ls,overflow:Os}:null,retryLane:536870912,hydrationErrors:null},V=Ht(18,null,null,0),V.stateNode=N,V.return=s,s.child=V,kt=s,Je=null,V=!0):V=!1}V||za(s)}if(N=s.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return $i(N)?s.lanes=32:s.lanes=536870912,null;Vs(s)}return N=r.children,r=r.fallback,x?(ca(),x=s.mode,N=so({mode:"hidden",children:N},x),r=La(r,x,a,null),N.return=s,r.return=s,N.sibling=r,s.child=N,x=s.child,x.memoizedState=oi(a),x.childLanes=ii(t,C,a),s.memoizedState=li,r):(xa(s),xi(s,N))}if(V=t.memoizedState,V!==null&&(N=V.dehydrated,N!==null)){if(u)s.flags&256?(xa(s),s.flags&=-257,s=ci(t,s,a)):s.memoizedState!==null?(ca(),s.child=t.child,s.flags|=128,s=null):(ca(),x=r.fallback,N=s.mode,r=so({mode:"visible",children:r.children},N),x=La(x,N,a,null),x.flags|=2,r.return=s,x.return=s,r.sibling=x,s.child=r,Fr(s,t.child,null,a),r=s.child,r.memoizedState=oi(a),r.childLanes=ii(t,C,a),s.memoizedState=li,s=x);else if(xa(s),$i(N)){if(C=N.nextSibling&&N.nextSibling.dataset,C)var W=C.dgst;C=W,r=Error(l(419)),r.stack="",r.digest=C,hn({value:r,source:null,stack:null}),s=ci(t,s,a)}else if(ht||fn(t,s,a,!1),C=(a&t.childLanes)!==0,ht||C){if(C=Ye,C!==null&&(r=a&-a,r=(r&42)!==0?1:Yo(r),r=(r&(C.suspendedLanes|a))!==0?0:r,r!==0&&r!==V.retryLane))throw V.retryLane=r,hr(t,r),Xt(C,t,r),Fu;N.data==="$?"||Ni(),s=ci(t,s,a)}else N.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=V.treeContext,Je=fs(N.nextSibling),kt=s,Oe=!0,qa=null,vs=!1,t!==null&&(rs[ns++]=Ls,rs[ns++]=Os,rs[ns++]=Oa,Ls=t.id,Os=t.overflow,Oa=s),s=xi(s,r.children),s.flags|=4096);return s}return x?(ca(),x=r.fallback,N=s.mode,V=t.child,W=V.sibling,r=Ps(V,{mode:"hidden",children:r.children}),r.subtreeFlags=V.subtreeFlags&65011712,W!==null?x=Ps(W,x):(x=La(x,N,a,null),x.flags|=2),x.return=s,r.return=s,r.sibling=x,s.child=r,r=x,x=s.child,N=t.child.memoizedState,N===null?N=oi(a):(V=N.cachePool,V!==null?(W=it._currentValue,V=V.parent!==W?{parent:W,pool:W}:V):V=yd(),N={baseLanes:N.baseLanes|a,cachePool:V}),x.memoizedState=N,x.childLanes=ii(t,C,a),s.memoizedState=li,r):(xa(s),a=t.child,t=a.sibling,a=Ps(a,{mode:"visible",children:r.children}),a.return=s,a.sibling=null,t!==null&&(C=s.deletions,C===null?(s.deletions=[t],s.flags|=16):C.push(t)),s.child=a,s.memoizedState=null,a)}function xi(t,s){return s=so({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function so(t,s){return t=Ht(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ci(t,s,a){return Fr(s,t.child,null,a),t=xi(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Tu(t,s,a){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s),N0(t.return,s,a)}function di(t,s,a,r,x){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:x}:(u.isBackwards=s,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=a,u.tailMode=x)}function Pu(t,s,a){var r=s.pendingProps,x=r.revealOrder,u=r.tail;if(Et(t,s,r.children,a),r=xt.current,(r&2)!==0)r=r&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tu(t,a,s);else if(t.tag===19)Tu(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Z(xt,r),x){case"forwards":for(a=s.child,x=null;a!==null;)t=a.alternate,t!==null&&Jl(t)===null&&(x=a),a=a.sibling;a=x,a===null?(x=s.child,s.child=null):(x=a.sibling,a.sibling=null),di(s,!1,x,a,u);break;case"backwards":for(a=null,x=s.child,s.child=null;x!==null;){if(t=x.alternate,t!==null&&Jl(t)===null){s.child=x;break}t=x.sibling,x.sibling=a,a=x,x=t}di(s,!0,a,null,u);break;case"together":di(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Qs(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),fa|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(fn(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(l(153));if(s.child!==null){for(t=s.child,a=Ps(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Ps(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function ui(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Pl(t)))}function jg(t,s,a){switch(s.tag){case 3:be(s,s.stateNode.containerInfo),ra(s,it,t.memoizedState.cache),mn();break;case 27:case 5:Rt(s);break;case 4:be(s,s.stateNode.containerInfo);break;case 10:ra(s,s.type,s.memoizedProps.value);break;case 13:var r=s.memoizedState;if(r!==null)return r.dehydrated!==null?(xa(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Ru(t,s,a):(xa(s),t=Qs(t,s,a),t!==null?t.sibling:null);xa(s);break;case 19:var x=(t.flags&128)!==0;if(r=(a&s.childLanes)!==0,r||(fn(t,s,a,!1),r=(a&s.childLanes)!==0),x){if(r)return Pu(t,s,a);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Z(xt,xt.current),r)break;return null;case 22:case 23:return s.lanes=0,Du(t,s,a);case 24:ra(s,it,t.memoizedState.cache)}return Qs(t,s,a)}function Lu(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)ht=!0;else{if(!ui(t,a)&&(s.flags&128)===0)return ht=!1,jg(t,s,a);ht=(t.flags&131072)!==0}else ht=!1,Oe&&(s.flags&1048576)!==0&&md(s,Tl,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var r=s.elementType,x=r._init;if(r=x(r._payload),s.type=r,typeof r=="function")v0(r)?(t=Ya(r,t),s.tag=1,s=_u(null,s,r,t,a)):(s.tag=0,s=ni(null,s,r,t,a));else{if(r!=null){if(x=r.$$typeof,x===j){s.tag=11,s=ju(null,s,r,t,a);break e}else if(x===T){s.tag=14,s=wu(null,s,r,t,a);break e}}throw s=H(r)||r,Error(l(306,s,""))}}return s;case 0:return ni(t,s,s.type,s.pendingProps,a);case 1:return r=s.type,x=Ya(r,s.pendingProps),_u(t,s,r,x,a);case 3:e:{if(be(s,s.stateNode.containerInfo),t===null)throw Error(l(387));r=s.pendingProps;var u=s.memoizedState;x=u.element,T0(t,s),Cn(s,r,null,a);var C=s.memoizedState;if(r=C.cache,ra(s,it,r),r!==u.cache&&D0(s,[it],a,!0),vn(),r=C.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=u,s.memoizedState=u,s.flags&256){s=Mu(t,s,r,a);break e}else if(r!==x){x=ss(Error(l(424)),s),hn(x),s=Mu(t,s,r,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Je=fs(t.firstChild),kt=s,Oe=!0,qa=null,vs=!0,a=fu(s,null,r,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(mn(),r===x){s=Qs(t,s,a);break e}Et(t,s,r,a)}s=s.child}return s;case 26:return to(t,s),t===null?(a=zm(s.type,null,s.pendingProps,null))?s.memoizedState=a:Oe||(a=s.type,t=s.pendingProps,r=po(ce.current).createElement(a),r[Ft]=s,r[Tt]=t,yt(r,a,t),mt(r),s.stateNode=r):s.memoizedState=zm(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Rt(s),t===null&&Oe&&(r=s.stateNode=Om(s.type,s.pendingProps,ce.current),kt=s,vs=!0,x=Je,ba(s.type)?(Yi=x,Je=fs(r.firstChild)):Je=x),Et(t,s,s.pendingProps.children,a),to(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Oe&&((x=r=Je)&&(r=e9(r,s.type,s.pendingProps,vs),r!==null?(s.stateNode=r,kt=s,Je=fs(r.firstChild),vs=!1,x=!0):x=!1),x||za(s)),Rt(s),x=s.type,u=s.pendingProps,C=t!==null?t.memoizedProps:null,r=u.children,Vi(x,u)?r=null:C!==null&&Vi(x,C)&&(s.flags|=32),s.memoizedState!==null&&(x=z0(t,s,Eg,null,null,a),Hn._currentValue=x),to(t,s),Et(t,s,r,a),s.child;case 6:return t===null&&Oe&&((t=a=Je)&&(a=t9(a,s.pendingProps,vs),a!==null?(s.stateNode=a,kt=s,Je=null,t=!0):t=!1),t||za(s)),null;case 13:return Ru(t,s,a);case 4:return be(s,s.stateNode.containerInfo),r=s.pendingProps,t===null?s.child=Fr(s,null,r,a):Et(t,s,r,a),s.child;case 11:return ju(t,s,s.type,s.pendingProps,a);case 7:return Et(t,s,s.pendingProps,a),s.child;case 8:return Et(t,s,s.pendingProps.children,a),s.child;case 12:return Et(t,s,s.pendingProps.children,a),s.child;case 10:return r=s.pendingProps,ra(s,s.type,r.value),Et(t,s,r.children,a),s.child;case 9:return x=s.type._context,r=s.pendingProps.children,Qa(s),x=jt(x),r=r(x),s.flags|=1,Et(t,s,r,a),s.child;case 14:return wu(t,s,s.type,s.pendingProps,a);case 15:return Nu(t,s,s.type,s.pendingProps,a);case 19:return Pu(t,s,a);case 31:return r=s.pendingProps,a=s.mode,r={mode:r.mode,children:r.children},t===null?(a=so(r,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Ps(t.child,r),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Du(t,s,a);case 24:return Qa(s),r=jt(it),t===null?(x=_0(),x===null&&(x=Ye,u=k0(),x.pooledCache=u,u.refCount++,u!==null&&(x.pooledCacheLanes|=a),x=u),s.memoizedState={parent:r,cache:x},R0(s),ra(s,it,x)):((t.lanes&a)!==0&&(T0(t,s),Cn(s,null,null,a),vn()),x=t.memoizedState,u=s.memoizedState,x.parent!==r?(x={parent:r,cache:r},s.memoizedState=x,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=x),ra(s,it,r)):(r=u.cache,ra(s,it,r),r!==x.cache&&D0(s,[it],a,!0))),Et(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(l(156,s.tag))}function Hs(t){t.flags|=4}function Ou(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ym(s)){if(s=ls.current,s!==null&&((Me&4194048)===Me?Cs!==null:(Me&62914560)!==Me&&(Me&536870912)===0||s!==Cs))throw bn=M0,vd;t.flags|=8192}}function ao(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?gc():536870912,t.lanes|=s,Dr|=s)}function Dn(t,s){if(!Oe)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ke(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(s)for(var x=t.child;x!==null;)a|=x.lanes|x.childLanes,r|=x.subtreeFlags&65011712,r|=x.flags&65011712,x.return=t,x=x.sibling;else for(x=t.child;x!==null;)a|=x.lanes|x.childLanes,r|=x.subtreeFlags,r|=x.flags,x.return=t,x=x.sibling;return t.subtreeFlags|=r,t.childLanes=a,s}function wg(t,s,a){var r=s.pendingProps;switch(F0(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(s),null;case 1:return Ke(s),null;case 3:return a=s.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),qs(it),_e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(un(s)?Hs(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,gd())),Ke(s),null;case 26:return a=s.memoizedState,t===null?(Hs(s),a!==null?(Ke(s),Ou(s,a)):(Ke(s),s.flags&=-16777217)):a?a!==t.memoizedState?(Hs(s),Ke(s),Ou(s,a)):(Ke(s),s.flags&=-16777217):(t.memoizedProps!==r&&Hs(s),Ke(s),s.flags&=-16777217),null;case 27:Dt(s),a=ce.current;var x=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==r&&Hs(s);else{if(!r){if(s.stateNode===null)throw Error(l(166));return Ke(s),null}t=G.current,un(s)?hd(s):(t=Om(x,r,a),s.stateNode=t,Hs(s))}return Ke(s),null;case 5:if(Dt(s),a=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==r&&Hs(s);else{if(!r){if(s.stateNode===null)throw Error(l(166));return Ke(s),null}if(t=G.current,un(s))hd(s);else{switch(x=po(ce.current),t){case 1:t=x.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=x.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=x.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=x.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=x.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?x.createElement("select",{is:r.is}):x.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?x.createElement(a,{is:r.is}):x.createElement(a)}}t[Ft]=s,t[Tt]=r;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)t.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=t;e:switch(yt(t,a,r),a){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hs(s)}}return Ke(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==r&&Hs(s);else{if(typeof r!="string"&&s.stateNode===null)throw Error(l(166));if(t=ce.current,un(s)){if(t=s.stateNode,a=s.memoizedProps,r=null,x=kt,x!==null)switch(x.tag){case 27:case 5:r=x.memoizedProps}t[Ft]=s,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||Sm(t.nodeValue,a)),t||za(s)}else t=po(t).createTextNode(r),t[Ft]=s,s.stateNode=t}return Ke(s),null;case 13:if(r=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(x=un(s),r!==null&&r.dehydrated!==null){if(t===null){if(!x)throw Error(l(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(l(317));x[Ft]=s}else mn(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ke(s),x=!1}else x=gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=x),x=!0;if(!x)return s.flags&256?(Vs(s),s):(Vs(s),null)}if(Vs(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=r!==null,t=t!==null&&t.memoizedState!==null,a){r=s.child,x=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(x=r.alternate.memoizedState.cachePool.pool);var u=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==x&&(r.flags|=2048)}return a!==t&&a&&(s.child.flags|=8192),ao(s,s.updateQueue),Ke(s),null;case 4:return _e(),t===null&&Li(s.stateNode.containerInfo),Ke(s),null;case 10:return qs(s.type),Ke(s),null;case 19:if(L(xt),x=s.memoizedState,x===null)return Ke(s),null;if(r=(s.flags&128)!==0,u=x.rendering,u===null)if(r)Dn(x,!1);else{if(We!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(u=Jl(t),u!==null){for(s.flags|=128,Dn(x,!1),t=u.updateQueue,s.updateQueue=t,ao(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)ud(a,t),a=a.sibling;return Z(xt,xt.current&1|2),s.child}t=t.sibling}x.tail!==null&&Fe()>lo&&(s.flags|=128,r=!0,Dn(x,!1),s.lanes=4194304)}else{if(!r)if(t=Jl(u),t!==null){if(s.flags|=128,r=!0,t=t.updateQueue,s.updateQueue=t,ao(s,t),Dn(x,!0),x.tail===null&&x.tailMode==="hidden"&&!u.alternate&&!Oe)return Ke(s),null}else 2*Fe()-x.renderingStartTime>lo&&a!==536870912&&(s.flags|=128,r=!0,Dn(x,!1),s.lanes=4194304);x.isBackwards?(u.sibling=s.child,s.child=u):(t=x.last,t!==null?t.sibling=u:s.child=u,x.last=u)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=Fe(),s.sibling=null,t=xt.current,Z(xt,r?t&1|2:t&1),s):(Ke(s),null);case 22:case 23:return Vs(s),U0(),r=s.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(s.flags|=8192):r&&(s.flags|=8192),r?(a&536870912)!==0&&(s.flags&128)===0&&(Ke(s),s.subtreeFlags&6&&(s.flags|=8192)):Ke(s),a=s.updateQueue,a!==null&&ao(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(s.flags|=2048),t!==null&&L(Ha),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),qs(it),Ke(s),null;case 25:return null;case 30:return null}throw Error(l(156,s.tag))}function Ng(t,s){switch(F0(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return qs(it),_e(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Dt(s),null;case 13:if(Vs(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(l(340));mn()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return L(xt),null;case 4:return _e(),null;case 10:return qs(s.type),null;case 22:case 23:return Vs(s),U0(),t!==null&&L(Ha),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return qs(it),null;case 25:return null;default:return null}}function Uu(t,s){switch(F0(s),s.tag){case 3:qs(it),_e();break;case 26:case 27:case 5:Dt(s);break;case 4:_e();break;case 13:Vs(s);break;case 19:L(xt);break;case 10:qs(s.type);break;case 22:case 23:Vs(s),U0(),t!==null&&L(Ha);break;case 24:qs(it)}}function kn(t,s){try{var a=s.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var x=r.next;a=x;do{if((a.tag&t)===t){r=void 0;var u=a.create,C=a.inst;r=u(),C.destroy=r}a=a.next}while(a!==x)}}catch(N){$e(s,s.return,N)}}function da(t,s,a){try{var r=s.updateQueue,x=r!==null?r.lastEffect:null;if(x!==null){var u=x.next;r=u;do{if((r.tag&t)===t){var C=r.inst,N=C.destroy;if(N!==void 0){C.destroy=void 0,x=s;var V=a,W=N;try{W()}catch(le){$e(x,V,le)}}}r=r.next}while(r!==u)}}catch(le){$e(s,s.return,le)}}function qu(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{wd(s,a)}catch(r){$e(t,t.return,r)}}}function zu(t,s,a){a.props=Ya(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){$e(t,s,r)}}function Sn(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof a=="function"?t.refCleanup=a(r):a.current=r}}catch(x){$e(t,s,x)}}function Bs(t,s){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(x){$e(t,s,x)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(x){$e(t,s,x)}else a.current=null}function Vu(t){var s=t.type,a=t.memoizedProps,r=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(x){$e(t,t.return,x)}}function mi(t,s,a){try{var r=t.stateNode;Xg(r,t.type,a,s),r[Tt]=s}catch(x){$e(t,t.return,x)}}function Qu(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ba(t.type)||t.tag===4}function hi(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ba(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fi(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=go));else if(r!==4&&(r===27&&ba(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(fi(t,s,a),t=t.sibling;t!==null;)fi(t,s,a),t=t.sibling}function ro(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(r!==4&&(r===27&&ba(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ro(t,s,a),t=t.sibling;t!==null;)ro(t,s,a),t=t.sibling}function Hu(t){var s=t.stateNode,a=t.memoizedProps;try{for(var r=t.type,x=s.attributes;x.length;)s.removeAttributeNode(x[0]);yt(s,r,a),s[Ft]=t,s[Tt]=a}catch(u){$e(t,t.return,u)}}var $s=!1,at=!1,gi=!1,$u=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Dg(t,s){if(t=t.containerInfo,qi=Bo,t=sd(t),h0(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var x=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var C=0,N=-1,V=-1,W=0,le=0,xe=t,ee=null;t:for(;;){for(var te;xe!==a||x!==0&&xe.nodeType!==3||(N=C+x),xe!==u||r!==0&&xe.nodeType!==3||(V=C+r),xe.nodeType===3&&(C+=xe.nodeValue.length),(te=xe.firstChild)!==null;)ee=xe,xe=te;for(;;){if(xe===t)break t;if(ee===a&&++W===x&&(N=C),ee===u&&++le===r&&(V=C),(te=xe.nextSibling)!==null)break;xe=ee,ee=xe.parentNode}xe=te}a=N===-1||V===-1?null:{start:N,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(zi={focusedElem:t,selectionRange:a},Bo=!1,ft=s;ft!==null;)if(s=ft,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,ft=t;else for(;ft!==null;){switch(s=ft,u=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&u!==null){t=void 0,a=s,x=u.memoizedProps,u=u.memoizedState,r=a.stateNode;try{var Ce=Ya(a.type,x,a.elementType===a.type);t=r.getSnapshotBeforeUpdate(Ce,u),r.__reactInternalSnapshotBeforeUpdate=t}catch(ye){$e(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Hi(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hi(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=s.sibling,t!==null){t.return=s.return,ft=t;break}ft=s.return}}function Yu(t,s,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:ua(t,a),r&4&&kn(5,a);break;case 1:if(ua(t,a),r&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(C){$e(a,a.return,C)}else{var x=Ya(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(x,s,t.__reactInternalSnapshotBeforeUpdate)}catch(C){$e(a,a.return,C)}}r&64&&qu(a),r&512&&Sn(a,a.return);break;case 3:if(ua(t,a),r&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{wd(t,s)}catch(C){$e(a,a.return,C)}}break;case 27:s===null&&r&4&&Hu(a);case 26:case 5:ua(t,a),s===null&&r&4&&Vu(a),r&512&&Sn(a,a.return);break;case 12:ua(t,a);break;case 13:ua(t,a),r&4&&Xu(t,a),r&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Og.bind(null,a),s9(t,a))));break;case 22:if(r=a.memoizedState!==null||$s,!r){s=s!==null&&s.memoizedState!==null||at,x=$s;var u=at;$s=r,(at=s)&&!u?ma(t,a,(a.subtreeFlags&8772)!==0):ua(t,a),$s=x,at=u}break;case 30:break;default:ua(t,a)}}function Gu(t){var s=t.alternate;s!==null&&(t.alternate=null,Gu(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Xo(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ie=null,Ot=!1;function Ys(t,s,a){for(a=a.child;a!==null;)Iu(t,s,a),a=a.sibling}function Iu(t,s,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(us,a)}catch{}switch(a.tag){case 26:at||Bs(a,s),Ys(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||Bs(a,s);var r=Ie,x=Ot;ba(a.type)&&(Ie=a.stateNode,Ot=!1),Ys(t,s,a),qn(a.stateNode),Ie=r,Ot=x;break;case 5:at||Bs(a,s);case 6:if(r=Ie,x=Ot,Ie=null,Ys(t,s,a),Ie=r,Ot=x,Ie!==null)if(Ot)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(a.stateNode)}catch(u){$e(a,s,u)}else try{Ie.removeChild(a.stateNode)}catch(u){$e(a,s,u)}break;case 18:Ie!==null&&(Ot?(t=Ie,Pm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),In(t)):Pm(Ie,a.stateNode));break;case 4:r=Ie,x=Ot,Ie=a.stateNode.containerInfo,Ot=!0,Ys(t,s,a),Ie=r,Ot=x;break;case 0:case 11:case 14:case 15:at||da(2,a,s),at||da(4,a,s),Ys(t,s,a);break;case 1:at||(Bs(a,s),r=a.stateNode,typeof r.componentWillUnmount=="function"&&zu(a,s,r)),Ys(t,s,a);break;case 21:Ys(t,s,a);break;case 22:at=(r=at)||a.memoizedState!==null,Ys(t,s,a),at=r;break;default:Ys(t,s,a)}}function Xu(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{In(t)}catch(a){$e(s,s.return,a)}}function kg(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new $u),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new $u),s;default:throw Error(l(435,t.tag))}}function pi(t,s){var a=kg(t);s.forEach(function(r){var x=Ug.bind(null,t,r);a.has(r)||(a.add(r),r.then(x,x))})}function $t(t,s){var a=s.deletions;if(a!==null)for(var r=0;r<a.length;r++){var x=a[r],u=t,C=s,N=C;e:for(;N!==null;){switch(N.tag){case 27:if(ba(N.type)){Ie=N.stateNode,Ot=!1;break e}break;case 5:Ie=N.stateNode,Ot=!1;break e;case 3:case 4:Ie=N.stateNode.containerInfo,Ot=!0;break e}N=N.return}if(Ie===null)throw Error(l(160));Iu(u,C,x),Ie=null,Ot=!1,u=x.alternate,u!==null&&(u.return=null),x.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Zu(s,t),s=s.sibling}var hs=null;function Zu(t,s){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:$t(s,t),Yt(t),r&4&&(da(3,t,t.return),kn(3,t),da(5,t,t.return));break;case 1:$t(s,t),Yt(t),r&512&&(at||a===null||Bs(a,a.return)),r&64&&$s&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var x=hs;if($t(s,t),Yt(t),r&512&&(at||a===null||Bs(a,a.return)),r&4){var u=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){e:{r=t.type,a=t.memoizedProps,x=x.ownerDocument||x;t:switch(r){case"title":u=x.getElementsByTagName("title")[0],(!u||u[en]||u[Ft]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=x.createElement(r),x.head.insertBefore(u,x.querySelector("head > title"))),yt(u,r,a),u[Ft]=t,mt(u),r=u;break e;case"link":var C=Hm("link","href",x).get(r+(a.href||""));if(C){for(var N=0;N<C.length;N++)if(u=C[N],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){C.splice(N,1);break t}}u=x.createElement(r),yt(u,r,a),x.head.appendChild(u);break;case"meta":if(C=Hm("meta","content",x).get(r+(a.content||""))){for(N=0;N<C.length;N++)if(u=C[N],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){C.splice(N,1);break t}}u=x.createElement(r),yt(u,r,a),x.head.appendChild(u);break;default:throw Error(l(468,r))}u[Ft]=t,mt(u),r=u}t.stateNode=r}else $m(x,t.type,t.stateNode);else t.stateNode=Qm(x,r,t.memoizedProps);else u!==r?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,r===null?$m(x,t.type,t.stateNode):Qm(x,r,t.memoizedProps)):r===null&&t.stateNode!==null&&mi(t,t.memoizedProps,a.memoizedProps)}break;case 27:$t(s,t),Yt(t),r&512&&(at||a===null||Bs(a,a.return)),a!==null&&r&4&&mi(t,t.memoizedProps,a.memoizedProps);break;case 5:if($t(s,t),Yt(t),r&512&&(at||a===null||Bs(a,a.return)),t.flags&32){x=t.stateNode;try{or(x,"")}catch(te){$e(t,t.return,te)}}r&4&&t.stateNode!=null&&(x=t.memoizedProps,mi(t,x,a!==null?a.memoizedProps:x)),r&1024&&(gi=!0);break;case 6:if($t(s,t),Yt(t),r&4){if(t.stateNode===null)throw Error(l(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(te){$e(t,t.return,te)}}break;case 3:if(yo=null,x=hs,hs=Eo(s.containerInfo),$t(s,t),hs=x,Yt(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{In(s.containerInfo)}catch(te){$e(t,t.return,te)}gi&&(gi=!1,Ku(t));break;case 4:r=hs,hs=Eo(t.stateNode.containerInfo),$t(s,t),Yt(t),hs=r;break;case 12:$t(s,t),Yt(t);break;case 13:$t(s,t),Yt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bi=Fe()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,pi(t,r)));break;case 22:x=t.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,W=$s,le=at;if($s=W||x,at=le||V,$t(s,t),at=le,$s=W,Yt(t),r&8192)e:for(s=t.stateNode,s._visibility=x?s._visibility&-2:s._visibility|1,x&&(a===null||V||$s||at||Ga(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){V=a=s;try{if(u=V.stateNode,x)C=u.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{N=V.stateNode;var xe=V.memoizedProps.style,ee=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;N.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){$e(V,V.return,te)}}}else if(s.tag===6){if(a===null){V=s;try{V.stateNode.nodeValue=x?"":V.memoizedProps}catch(te){$e(V,V.return,te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,pi(t,a))));break;case 19:$t(s,t),Yt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,pi(t,r)));break;case 30:break;case 21:break;default:$t(s,t),Yt(t)}}function Yt(t){var s=t.flags;if(s&2){try{for(var a,r=t.return;r!==null;){if(Qu(r)){a=r;break}r=r.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var x=a.stateNode,u=hi(t);ro(t,u,x);break;case 5:var C=a.stateNode;a.flags&32&&(or(C,""),a.flags&=-33);var N=hi(t);ro(t,N,C);break;case 3:case 4:var V=a.stateNode.containerInfo,W=hi(t);fi(t,W,V);break;default:throw Error(l(161))}}catch(le){$e(t,t.return,le)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Ku(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Ku(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ua(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Yu(t,s.alternate,s),s=s.sibling}function Ga(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:da(4,s,s.return),Ga(s);break;case 1:Bs(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&zu(s,s.return,a),Ga(s);break;case 27:qn(s.stateNode);case 26:case 5:Bs(s,s.return),Ga(s);break;case 22:s.memoizedState===null&&Ga(s);break;case 30:Ga(s);break;default:Ga(s)}t=t.sibling}}function ma(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var r=s.alternate,x=t,u=s,C=u.flags;switch(u.tag){case 0:case 11:case 15:ma(x,u,a),kn(4,u);break;case 1:if(ma(x,u,a),r=u,x=r.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(W){$e(r,r.return,W)}if(r=u,x=r.updateQueue,x!==null){var N=r.stateNode;try{var V=x.shared.hiddenCallbacks;if(V!==null)for(x.shared.hiddenCallbacks=null,x=0;x<V.length;x++)jd(V[x],N)}catch(W){$e(r,r.return,W)}}a&&C&64&&qu(u),Sn(u,u.return);break;case 27:Hu(u);case 26:case 5:ma(x,u,a),a&&r===null&&C&4&&Vu(u),Sn(u,u.return);break;case 12:ma(x,u,a);break;case 13:ma(x,u,a),a&&C&4&&Xu(x,u);break;case 22:u.memoizedState===null&&ma(x,u,a),Sn(u,u.return);break;case 30:break;default:ma(x,u,a)}s=s.sibling}}function Ei(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&gn(a))}function bi(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&gn(t))}function As(t,s,a,r){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ju(t,s,a,r),s=s.sibling}function Ju(t,s,a,r){var x=s.flags;switch(s.tag){case 0:case 11:case 15:As(t,s,a,r),x&2048&&kn(9,s);break;case 1:As(t,s,a,r);break;case 3:As(t,s,a,r),x&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&gn(t)));break;case 12:if(x&2048){As(t,s,a,r),t=s.stateNode;try{var u=s.memoizedProps,C=u.id,N=u.onPostCommit;typeof N=="function"&&N(C,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){$e(s,s.return,V)}}else As(t,s,a,r);break;case 13:As(t,s,a,r);break;case 23:break;case 22:u=s.stateNode,C=s.alternate,s.memoizedState!==null?u._visibility&2?As(t,s,a,r):_n(t,s):u._visibility&2?As(t,s,a,r):(u._visibility|=2,jr(t,s,a,r,(s.subtreeFlags&10256)!==0)),x&2048&&Ei(C,s);break;case 24:As(t,s,a,r),x&2048&&bi(s.alternate,s);break;default:As(t,s,a,r)}}function jr(t,s,a,r,x){for(x=x&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var u=t,C=s,N=a,V=r,W=C.flags;switch(C.tag){case 0:case 11:case 15:jr(u,C,N,V,x),kn(8,C);break;case 23:break;case 22:var le=C.stateNode;C.memoizedState!==null?le._visibility&2?jr(u,C,N,V,x):_n(u,C):(le._visibility|=2,jr(u,C,N,V,x)),x&&W&2048&&Ei(C.alternate,C);break;case 24:jr(u,C,N,V,x),x&&W&2048&&bi(C.alternate,C);break;default:jr(u,C,N,V,x)}s=s.sibling}}function _n(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,r=s,x=r.flags;switch(r.tag){case 22:_n(a,r),x&2048&&Ei(r.alternate,r);break;case 24:_n(a,r),x&2048&&bi(r.alternate,r);break;default:_n(a,r)}s=s.sibling}}var Mn=8192;function wr(t){if(t.subtreeFlags&Mn)for(t=t.child;t!==null;)Wu(t),t=t.sibling}function Wu(t){switch(t.tag){case 26:wr(t),t.flags&Mn&&t.memoizedState!==null&&f9(hs,t.memoizedState,t.memoizedProps);break;case 5:wr(t);break;case 3:case 4:var s=hs;hs=Eo(t.stateNode.containerInfo),wr(t),hs=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Mn,Mn=16777216,wr(t),Mn=s):wr(t));break;default:wr(t)}}function em(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Rn(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var r=s[a];ft=r,sm(r,t)}em(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tm(t),t=t.sibling}function tm(t){switch(t.tag){case 0:case 11:case 15:Rn(t),t.flags&2048&&da(9,t,t.return);break;case 3:Rn(t);break;case 12:Rn(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,no(t)):Rn(t);break;default:Rn(t)}}function no(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var r=s[a];ft=r,sm(r,t)}em(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:da(8,s,s.return),no(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,no(s));break;default:no(s)}t=t.sibling}}function sm(t,s){for(;ft!==null;){var a=ft;switch(a.tag){case 0:case 11:case 15:da(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:gn(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,ft=r;else e:for(a=t;ft!==null;){r=ft;var x=r.sibling,u=r.return;if(Gu(r),r===a){ft=null;break e}if(x!==null){x.return=u,ft=x;break e}ft=u}}}var Sg={getCacheForType:function(t){var s=jt(it),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a}},_g=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ye=null,ke=null,Me=0,qe=0,Gt=null,ha=!1,Nr=!1,yi=!1,Gs=0,We=0,fa=0,Ia=0,vi=0,os=0,Dr=0,Tn=null,Ut=null,Ci=!1,Bi=0,lo=1/0,oo=null,ga=null,bt=0,pa=null,kr=null,Sr=0,Ai=0,Fi=null,am=null,Pn=0,ji=null;function It(){if((Ue&2)!==0&&Me!==0)return Me&-Me;if(S.T!==null){var t=Er;return t!==0?t:Mi()}return bc()}function rm(){os===0&&(os=(Me&536870912)===0||Oe?fc():536870912);var t=ls.current;return t!==null&&(t.flags|=32),os}function Xt(t,s,a){(t===Ye&&(qe===2||qe===9)||t.cancelPendingCommit!==null)&&(_r(t,0),Ea(t,Me,os,!1)),Wr(t,a),((Ue&2)===0||t!==Ye)&&(t===Ye&&((Ue&2)===0&&(Ia|=a),We===4&&Ea(t,Me,os,!1)),Fs(t))}function nm(t,s,a){if((Ue&6)!==0)throw Error(l(327));var r=!a&&(s&124)===0&&(s&t.expiredLanes)===0||Jr(t,s),x=r?Tg(t,s):Di(t,s,!0),u=r;do{if(x===0){Nr&&!r&&Ea(t,s,0,!1);break}else{if(a=t.current.alternate,u&&!Mg(a)){x=Di(t,s,!1),u=!1;continue}if(x===2){if(u=s,t.errorRecoveryDisabledLanes&u)var C=0;else C=t.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;e:{var N=t;x=Tn;var V=N.current.memoizedState.isDehydrated;if(V&&(_r(N,C).flags|=256),C=Di(N,C,!1),C!==2){if(yi&&!V){N.errorRecoveryDisabledLanes|=u,Ia|=u,x=4;break e}u=Ut,Ut=x,u!==null&&(Ut===null?Ut=u:Ut.push.apply(Ut,u))}x=C}if(u=!1,x!==2)continue}}if(x===1){_r(t,0),Ea(t,s,0,!0);break}e:{switch(r=t,u=x,u){case 0:case 1:throw Error(l(345));case 4:if((s&4194048)!==s)break;case 6:Ea(r,s,os,!ha);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(l(329))}if((s&62914560)===s&&(x=Bi+300-Fe(),10<x)){if(Ea(r,s,os,!ha),El(r,0,!0)!==0)break e;r.timeoutHandle=Rm(lm.bind(null,r,a,Ut,oo,Ci,s,os,Ia,Dr,ha,u,2,-0,0),x);break e}lm(r,a,Ut,oo,Ci,s,os,Ia,Dr,ha,u,0,-0,0)}}break}while(!0);Fs(t)}function lm(t,s,a,r,x,u,C,N,V,W,le,xe,ee,te){if(t.timeoutHandle=-1,xe=s.subtreeFlags,(xe&8192||(xe&16785408)===16785408)&&(Qn={stylesheets:null,count:0,unsuspend:h9},Wu(s),xe=g9(),xe!==null)){t.cancelPendingCommit=xe(mm.bind(null,t,s,u,a,r,x,C,N,V,le,1,ee,te)),Ea(t,u,C,!W);return}mm(t,s,u,a,r,x,C,N,V)}function Mg(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var x=a[r],u=x.getSnapshot;x=x.value;try{if(!Qt(u(),x))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ea(t,s,a,r){s&=~vi,s&=~Ia,t.suspendedLanes|=s,t.pingedLanes&=~s,r&&(t.warmLanes|=s),r=t.expirationTimes;for(var x=s;0<x;){var u=31-pt(x),C=1<<u;r[u]=-1,x&=~C}a!==0&&pc(t,a,s)}function io(){return(Ue&6)===0?(Ln(0),!1):!0}function wi(){if(ke!==null){if(qe===0)var t=ke.return;else t=ke,Us=Va=null,H0(t),Ar=null,wn=0,t=ke;for(;t!==null;)Uu(t.alternate,t),t=t.return;ke=null}}function _r(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Kg(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),wi(),Ye=t,ke=a=Ps(t.current,null),Me=s,qe=0,Gt=null,ha=!1,Nr=Jr(t,s),yi=!1,Dr=os=vi=Ia=fa=We=0,Ut=Tn=null,Ci=!1,(s&8)!==0&&(s|=s&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=s;0<r;){var x=31-pt(r),u=1<<x;s|=t[x],r&=~u}return Gs=s,kl(),a}function om(t,s){je=null,S.H=Xl,s===En||s===Ul?(s=Ad(),qe=3):s===vd?(s=Ad(),qe=4):qe=s===Fu?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gt=s,ke===null&&(We=1,eo(t,ss(s,t.current)))}function im(){var t=S.H;return S.H=Xl,t===null?Xl:t}function xm(){var t=S.A;return S.A=Sg,t}function Ni(){We=4,ha||(Me&4194048)!==Me&&ls.current!==null||(Nr=!0),(fa&134217727)===0&&(Ia&134217727)===0||Ye===null||Ea(Ye,Me,os,!1)}function Di(t,s,a){var r=Ue;Ue|=2;var x=im(),u=xm();(Ye!==t||Me!==s)&&(oo=null,_r(t,s)),s=!1;var C=We;e:do try{if(qe!==0&&ke!==null){var N=ke,V=Gt;switch(qe){case 8:wi(),C=6;break e;case 3:case 2:case 9:case 6:ls.current===null&&(s=!0);var W=qe;if(qe=0,Gt=null,Mr(t,N,V,W),a&&Nr){C=0;break e}break;default:W=qe,qe=0,Gt=null,Mr(t,N,V,W)}}Rg(),C=We;break}catch(le){om(t,le)}while(!0);return s&&t.shellSuspendCounter++,Us=Va=null,Ue=r,S.H=x,S.A=u,ke===null&&(Ye=null,Me=0,kl()),C}function Rg(){for(;ke!==null;)cm(ke)}function Tg(t,s){var a=Ue;Ue|=2;var r=im(),x=xm();Ye!==t||Me!==s?(oo=null,lo=Fe()+500,_r(t,s)):Nr=Jr(t,s);e:do try{if(qe!==0&&ke!==null){s=ke;var u=Gt;t:switch(qe){case 1:qe=0,Gt=null,Mr(t,s,u,1);break;case 2:case 9:if(Cd(u)){qe=0,Gt=null,dm(s);break}s=function(){qe!==2&&qe!==9||Ye!==t||(qe=7),Fs(t)},u.then(s,s);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Cd(u)?(qe=0,Gt=null,dm(s)):(qe=0,Gt=null,Mr(t,s,u,7));break;case 5:var C=null;switch(ke.tag){case 26:C=ke.memoizedState;case 5:case 27:var N=ke;if(!C||Ym(C)){qe=0,Gt=null;var V=N.sibling;if(V!==null)ke=V;else{var W=N.return;W!==null?(ke=W,xo(W)):ke=null}break t}}qe=0,Gt=null,Mr(t,s,u,5);break;case 6:qe=0,Gt=null,Mr(t,s,u,6);break;case 8:wi(),We=6;break e;default:throw Error(l(462))}}Pg();break}catch(le){om(t,le)}while(!0);return Us=Va=null,S.H=r,S.A=x,Ue=a,ke!==null?0:(Ye=null,Me=0,kl(),We)}function Pg(){for(;ke!==null&&!Bt();)cm(ke)}function cm(t){var s=Lu(t.alternate,t,Gs);t.memoizedProps=t.pendingProps,s===null?xo(t):ke=s}function dm(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Su(a,s,s.pendingProps,s.type,void 0,Me);break;case 11:s=Su(a,s,s.pendingProps,s.type.render,s.ref,Me);break;case 5:H0(s);default:Uu(a,s),s=ke=ud(s,Gs),s=Lu(a,s,Gs)}t.memoizedProps=t.pendingProps,s===null?xo(t):ke=s}function Mr(t,s,a,r){Us=Va=null,H0(s),Ar=null,wn=0;var x=s.return;try{if(Fg(t,x,s,a,Me)){We=1,eo(t,ss(a,t.current)),ke=null;return}}catch(u){if(x!==null)throw ke=x,u;We=1,eo(t,ss(a,t.current)),ke=null;return}s.flags&32768?(Oe||r===1?t=!0:Nr||(Me&536870912)!==0?t=!1:(ha=t=!0,(r===2||r===9||r===3||r===6)&&(r=ls.current,r!==null&&r.tag===13&&(r.flags|=16384))),um(s,t)):xo(s)}function xo(t){var s=t;do{if((s.flags&32768)!==0){um(s,ha);return}t=s.return;var a=wg(s.alternate,s,Gs);if(a!==null){ke=a;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=t}while(s!==null);We===0&&(We=5)}function um(t,s){do{var a=Ng(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);We=6,ke=null}function mm(t,s,a,r,x,u,C,N,V){t.cancelPendingCommit=null;do co();while(bt!==0);if((Ue&6)!==0)throw Error(l(327));if(s!==null){if(s===t.current)throw Error(l(177));if(u=s.lanes|s.childLanes,u|=b0,h8(t,a,u,C,N,V),t===Ye&&(ke=Ye=null,Me=0),kr=s,pa=t,Sr=a,Ai=u,Fi=x,am=r,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qg(fe,function(){return Em(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||r){r=S.T,S.T=null,x=q.p,q.p=2,C=Ue,Ue|=4;try{Dg(t,s,a)}finally{Ue=C,q.p=x,S.T=r}}bt=1,hm(),fm(),gm()}}function hm(){if(bt===1){bt=0;var t=pa,s=kr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=S.T,S.T=null;var r=q.p;q.p=2;var x=Ue;Ue|=4;try{Zu(s,t);var u=zi,C=sd(t.containerInfo),N=u.focusedElem,V=u.selectionRange;if(C!==N&&N&&N.ownerDocument&&td(N.ownerDocument.documentElement,N)){if(V!==null&&h0(N)){var W=V.start,le=V.end;if(le===void 0&&(le=W),"selectionStart"in N)N.selectionStart=W,N.selectionEnd=Math.min(le,N.value.length);else{var xe=N.ownerDocument||document,ee=xe&&xe.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Ce=N.textContent.length,ye=Math.min(V.start,Ce),He=V.end===void 0?ye:Math.min(V.end,Ce);!te.extend&&ye>He&&(C=He,He=ye,ye=C);var I=ed(N,ye),Y=ed(N,He);if(I&&Y&&(te.rangeCount!==1||te.anchorNode!==I.node||te.anchorOffset!==I.offset||te.focusNode!==Y.node||te.focusOffset!==Y.offset)){var K=xe.createRange();K.setStart(I.node,I.offset),te.removeAllRanges(),ye>He?(te.addRange(K),te.extend(Y.node,Y.offset)):(K.setEnd(Y.node,Y.offset),te.addRange(K))}}}}for(xe=[],te=N;te=te.parentNode;)te.nodeType===1&&xe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<xe.length;N++){var oe=xe[N];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Bo=!!qi,zi=qi=null}finally{Ue=x,q.p=r,S.T=a}}t.current=s,bt=2}}function fm(){if(bt===2){bt=0;var t=pa,s=kr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=S.T,S.T=null;var r=q.p;q.p=2;var x=Ue;Ue|=4;try{Yu(t,s.alternate,s)}finally{Ue=x,q.p=r,S.T=a}}bt=3}}function gm(){if(bt===4||bt===3){bt=0,re();var t=pa,s=kr,a=Sr,r=am;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?bt=5:(bt=0,kr=pa=null,pm(t,t.pendingLanes));var x=t.pendingLanes;if(x===0&&(ga=null),Go(a),s=s.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(us,s,void 0,(s.current.flags&128)===128)}catch{}if(r!==null){s=S.T,x=q.p,q.p=2,S.T=null;try{for(var u=t.onRecoverableError,C=0;C<r.length;C++){var N=r[C];u(N.value,{componentStack:N.stack})}}finally{S.T=s,q.p=x}}(Sr&3)!==0&&co(),Fs(t),x=t.pendingLanes,(a&4194090)!==0&&(x&42)!==0?t===ji?Pn++:(Pn=0,ji=t):Pn=0,Ln(0)}}function pm(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,gn(s)))}function co(t){return hm(),fm(),gm(),Em()}function Em(){if(bt!==5)return!1;var t=pa,s=Ai;Ai=0;var a=Go(Sr),r=S.T,x=q.p;try{q.p=32>a?32:a,S.T=null,a=Fi,Fi=null;var u=pa,C=Sr;if(bt=0,kr=pa=null,Sr=0,(Ue&6)!==0)throw Error(l(331));var N=Ue;if(Ue|=4,tm(u.current),Ju(u,u.current,C,a),Ue=N,Ln(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(us,u)}catch{}return!0}finally{q.p=x,S.T=r,pm(t,s)}}function bm(t,s,a){s=ss(a,s),s=ri(t.stateNode,s,2),t=oa(t,s,2),t!==null&&(Wr(t,2),Fs(t))}function $e(t,s,a){if(t.tag===3)bm(t,t,a);else for(;s!==null;){if(s.tag===3){bm(s,t,a);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ga===null||!ga.has(r))){t=ss(a,t),a=Bu(2),r=oa(s,a,2),r!==null&&(Au(a,r,s,t),Wr(r,2),Fs(r));break}}s=s.return}}function ki(t,s,a){var r=t.pingCache;if(r===null){r=t.pingCache=new _g;var x=new Set;r.set(s,x)}else x=r.get(s),x===void 0&&(x=new Set,r.set(s,x));x.has(a)||(yi=!0,x.add(a),t=Lg.bind(null,t,s,a),s.then(t,t))}function Lg(t,s,a){var r=t.pingCache;r!==null&&r.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ye===t&&(Me&a)===a&&(We===4||We===3&&(Me&62914560)===Me&&300>Fe()-Bi?(Ue&2)===0&&_r(t,0):vi|=a,Dr===Me&&(Dr=0)),Fs(t)}function ym(t,s){s===0&&(s=gc()),t=hr(t,s),t!==null&&(Wr(t,s),Fs(t))}function Og(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),ym(t,a)}function Ug(t,s){var a=0;switch(t.tag){case 13:var r=t.stateNode,x=t.memoizedState;x!==null&&(a=x.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(s),ym(t,a)}function qg(t,s){return Wt(t,s)}var uo=null,Rr=null,Si=!1,mo=!1,_i=!1,Xa=0;function Fs(t){t!==Rr&&t.next===null&&(Rr===null?uo=Rr=t:Rr=Rr.next=t),mo=!0,Si||(Si=!0,Vg())}function Ln(t,s){if(!_i&&mo){_i=!0;do for(var a=!1,r=uo;r!==null;){if(t!==0){var x=r.pendingLanes;if(x===0)var u=0;else{var C=r.suspendedLanes,N=r.pingedLanes;u=(1<<31-pt(42|t)+1)-1,u&=x&~(C&~N),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Am(r,u))}else u=Me,u=El(r,r===Ye?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Jr(r,u)||(a=!0,Am(r,u));r=r.next}while(a);_i=!1}}function zg(){vm()}function vm(){mo=Si=!1;var t=0;Xa!==0&&(Zg()&&(t=Xa),Xa=0);for(var s=Fe(),a=null,r=uo;r!==null;){var x=r.next,u=Cm(r,s);u===0?(r.next=null,a===null?uo=x:a.next=x,x===null&&(Rr=a)):(a=r,(t!==0||(u&3)!==0)&&(mo=!0)),r=x}Ln(t)}function Cm(t,s){for(var a=t.suspendedLanes,r=t.pingedLanes,x=t.expirationTimes,u=t.pendingLanes&-62914561;0<u;){var C=31-pt(u),N=1<<C,V=x[C];V===-1?((N&a)===0||(N&r)!==0)&&(x[C]=m8(N,s)):V<=s&&(t.expiredLanes|=N),u&=~N}if(s=Ye,a=Me,a=El(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,a===0||t===s&&(qe===2||qe===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Vt(r),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jr(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(r!==null&&Vt(r),Go(a)){case 2:case 8:a=Pe;break;case 32:a=fe;break;case 268435456:a=bs;break;default:a=fe}return r=Bm.bind(null,t),a=Wt(a,r),t.callbackPriority=s,t.callbackNode=a,s}return r!==null&&r!==null&&Vt(r),t.callbackPriority=2,t.callbackNode=null,2}function Bm(t,s){if(bt!==0&&bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(co()&&t.callbackNode!==a)return null;var r=Me;return r=El(t,t===Ye?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(nm(t,r,s),Cm(t,Fe()),t.callbackNode!=null&&t.callbackNode===a?Bm.bind(null,t):null)}function Am(t,s){if(co())return null;nm(t,s,!0)}function Vg(){Jg(function(){(Ue&6)!==0?Wt(me,zg):vm()})}function Mi(){return Xa===0&&(Xa=fc()),Xa}function Fm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bl(""+t)}function jm(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function Qg(t,s,a,r,x){if(s==="submit"&&a&&a.stateNode===x){var u=Fm((x[Tt]||null).action),C=r.submitter;C&&(s=(s=C[Tt]||null)?Fm(s.formAction):C.getAttribute("formAction"),s!==null&&(u=s,C=null));var N=new wl("action","action",null,r,x);t.push({event:N,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Xa!==0){var V=C?jm(x,C):new FormData(x);W0(a,{pending:!0,data:V,method:x.method,action:u},null,V)}}else typeof u=="function"&&(N.preventDefault(),V=C?jm(x,C):new FormData(x),W0(a,{pending:!0,data:V,method:x.method,action:u},u,V))},currentTarget:x}]})}}for(var Ri=0;Ri<E0.length;Ri++){var Ti=E0[Ri],Hg=Ti.toLowerCase(),$g=Ti[0].toUpperCase()+Ti.slice(1);ms(Hg,"on"+$g)}ms(nd,"onAnimationEnd"),ms(ld,"onAnimationIteration"),ms(od,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(ig,"onTransitionRun"),ms(xg,"onTransitionStart"),ms(cg,"onTransitionCancel"),ms(id,"onTransitionEnd"),rr("onMouseEnter",["mouseout","mouseover"]),rr("onMouseLeave",["mouseout","mouseover"]),rr("onPointerEnter",["pointerout","pointerover"]),rr("onPointerLeave",["pointerout","pointerover"]),Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var On="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(On));function wm(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],x=r.event;r=r.listeners;e:{var u=void 0;if(s)for(var C=r.length-1;0<=C;C--){var N=r[C],V=N.instance,W=N.currentTarget;if(N=N.listener,V!==u&&x.isPropagationStopped())break e;u=N,x.currentTarget=W;try{u(x)}catch(le){Wl(le)}x.currentTarget=null,u=V}else for(C=0;C<r.length;C++){if(N=r[C],V=N.instance,W=N.currentTarget,N=N.listener,V!==u&&x.isPropagationStopped())break e;u=N,x.currentTarget=W;try{u(x)}catch(le){Wl(le)}x.currentTarget=null,u=V}}}}function Se(t,s){var a=s[Io];a===void 0&&(a=s[Io]=new Set);var r=t+"__bubble";a.has(r)||(Nm(s,t,2,!1),a.add(r))}function Pi(t,s,a){var r=0;s&&(r|=4),Nm(a,t,r,s)}var ho="_reactListening"+Math.random().toString(36).slice(2);function Li(t){if(!t[ho]){t[ho]=!0,vc.forEach(function(a){a!=="selectionchange"&&(Yg.has(a)||Pi(a,!1,t),Pi(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[ho]||(s[ho]=!0,Pi("selectionchange",!1,s))}}function Nm(t,s,a,r){switch(Jm(s)){case 2:var x=b9;break;case 8:x=y9;break;default:x=Ki}a=x.bind(null,s,a,t),x=void 0,!n0||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),r?x!==void 0?t.addEventListener(s,a,{capture:!0,passive:x}):t.addEventListener(s,a,!0):x!==void 0?t.addEventListener(s,a,{passive:x}):t.addEventListener(s,a,!1)}function Oi(t,s,a,r,x){var u=r;if((s&1)===0&&(s&2)===0&&r!==null)e:for(;;){if(r===null)return;var C=r.tag;if(C===3||C===4){var N=r.stateNode.containerInfo;if(N===x)break;if(C===4)for(C=r.return;C!==null;){var V=C.tag;if((V===3||V===4)&&C.stateNode.containerInfo===x)return;C=C.return}for(;N!==null;){if(C=tr(N),C===null)return;if(V=C.tag,V===5||V===6||V===26||V===27){r=u=C;continue e}N=N.parentNode}}r=r.return}Tc(function(){var W=u,le=a0(a),xe=[];e:{var ee=xd.get(t);if(ee!==void 0){var te=wl,Ce=t;switch(t){case"keypress":if(Fl(a)===0)break e;case"keydown":case"keyup":te=q8;break;case"focusin":Ce="focus",te=x0;break;case"focusout":Ce="blur",te=x0;break;case"beforeblur":case"afterblur":te=x0;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=N8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Q8;break;case nd:case ld:case od:te=S8;break;case id:te=$8;break;case"scroll":case"scrollend":te=j8;break;case"wheel":te=G8;break;case"copy":case"cut":case"paste":te=M8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=qc;break;case"toggle":case"beforetoggle":te=X8}var ye=(s&4)!==0,He=!ye&&(t==="scroll"||t==="scrollend"),I=ye?ee!==null?ee+"Capture":null:ee;ye=[];for(var Y=W,K;Y!==null;){var oe=Y;if(K=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||K===null||I===null||(oe=sn(Y,I),oe!=null&&ye.push(Un(Y,oe,K))),He)break;Y=Y.return}0<ye.length&&(ee=new te(ee,Ce,null,a,le),xe.push({event:ee,listeners:ye}))}}if((s&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",ee&&a!==s0&&(Ce=a.relatedTarget||a.fromElement)&&(tr(Ce)||Ce[er]))break e;if((te||ee)&&(ee=le.window===le?le:(ee=le.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Ce=a.relatedTarget||a.toElement,te=W,Ce=Ce?tr(Ce):null,Ce!==null&&(He=d(Ce),ye=Ce.tag,Ce!==He||ye!==5&&ye!==27&&ye!==6)&&(Ce=null)):(te=null,Ce=W),te!==Ce)){if(ye=Oc,oe="onMouseLeave",I="onMouseEnter",Y="mouse",(t==="pointerout"||t==="pointerover")&&(ye=qc,oe="onPointerLeave",I="onPointerEnter",Y="pointer"),He=te==null?ee:tn(te),K=Ce==null?ee:tn(Ce),ee=new ye(oe,Y+"leave",te,a,le),ee.target=He,ee.relatedTarget=K,oe=null,tr(le)===W&&(ye=new ye(I,Y+"enter",Ce,a,le),ye.target=K,ye.relatedTarget=He,oe=ye),He=oe,te&&Ce)t:{for(ye=te,I=Ce,Y=0,K=ye;K;K=Tr(K))Y++;for(K=0,oe=I;oe;oe=Tr(oe))K++;for(;0<Y-K;)ye=Tr(ye),Y--;for(;0<K-Y;)I=Tr(I),K--;for(;Y--;){if(ye===I||I!==null&&ye===I.alternate)break t;ye=Tr(ye),I=Tr(I)}ye=null}else ye=null;te!==null&&Dm(xe,ee,te,ye,!1),Ce!==null&&He!==null&&Dm(xe,He,Ce,ye,!0)}}e:{if(ee=W?tn(W):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var ge=Ic;else if(Yc(ee))if(Xc)ge=ng;else{ge=ag;var De=sg}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?W&&t0(W.elementType)&&(ge=Ic):ge=rg;if(ge&&(ge=ge(t,W))){Gc(xe,ge,a,le);break e}De&&De(t,ee,W),t==="focusout"&&W&&ee.type==="number"&&W.memoizedProps.value!=null&&e0(ee,"number",ee.value)}switch(De=W?tn(W):window,t){case"focusin":(Yc(De)||De.contentEditable==="true")&&(dr=De,f0=W,dn=null);break;case"focusout":dn=f0=dr=null;break;case"mousedown":g0=!0;break;case"contextmenu":case"mouseup":case"dragend":g0=!1,ad(xe,a,le);break;case"selectionchange":if(og)break;case"keydown":case"keyup":ad(xe,a,le)}var pe;if(d0)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else cr?Hc(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(zc&&a.locale!=="ko"&&(cr||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&cr&&(pe=Pc()):(aa=le,l0="value"in aa?aa.value:aa.textContent,cr=!0)),De=fo(W,ve),0<De.length&&(ve=new Uc(ve,t,null,a,le),xe.push({event:ve,listeners:De}),pe?ve.data=pe:(pe=$c(a),pe!==null&&(ve.data=pe)))),(pe=K8?J8(t,a):W8(t,a))&&(ve=fo(W,"onBeforeInput"),0<ve.length&&(De=new Uc("onBeforeInput","beforeinput",null,a,le),xe.push({event:De,listeners:ve}),De.data=pe)),Qg(xe,t,W,a,le)}wm(xe,s)})}function Un(t,s,a){return{instance:t,listener:s,currentTarget:a}}function fo(t,s){for(var a=s+"Capture",r=[];t!==null;){var x=t,u=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||u===null||(x=sn(t,a),x!=null&&r.unshift(Un(t,x,u)),x=sn(t,s),x!=null&&r.push(Un(t,x,u))),t.tag===3)return r;t=t.return}return[]}function Tr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dm(t,s,a,r,x){for(var u=s._reactName,C=[];a!==null&&a!==r;){var N=a,V=N.alternate,W=N.stateNode;if(N=N.tag,V!==null&&V===r)break;N!==5&&N!==26&&N!==27||W===null||(V=W,x?(W=sn(a,u),W!=null&&C.unshift(Un(a,W,V))):x||(W=sn(a,u),W!=null&&C.push(Un(a,W,V)))),a=a.return}C.length!==0&&t.push({event:s,listeners:C})}var Gg=/\r\n?/g,Ig=/\u0000|\uFFFD/g;function km(t){return(typeof t=="string"?t:""+t).replace(Gg,`
`).replace(Ig,"")}function Sm(t,s){return s=km(s),km(t)===s}function go(){}function Qe(t,s,a,r,x,u){switch(a){case"children":typeof r=="string"?s==="body"||s==="textarea"&&r===""||or(t,r):(typeof r=="number"||typeof r=="bigint")&&s!=="body"&&or(t,""+r);break;case"className":yl(t,"class",r);break;case"tabIndex":yl(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":yl(t,a,r);break;case"style":Mc(t,r,u);break;case"data":if(s!=="object"){yl(t,"data",r);break}case"src":case"href":if(r===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=Bl(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(s!=="input"&&Qe(t,s,"name",x.name,x,null),Qe(t,s,"formEncType",x.formEncType,x,null),Qe(t,s,"formMethod",x.formMethod,x,null),Qe(t,s,"formTarget",x.formTarget,x,null)):(Qe(t,s,"encType",x.encType,x,null),Qe(t,s,"method",x.method,x,null),Qe(t,s,"target",x.target,x,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=Bl(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=go);break;case"onScroll":r!=null&&Se("scroll",t);break;case"onScrollEnd":r!=null&&Se("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(x.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=Bl(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":Se("beforetoggle",t),Se("toggle",t),bl(t,"popover",r);break;case"xlinkActuate":Rs(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Rs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Rs(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Rs(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Rs(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Rs(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Rs(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Rs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Rs(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":bl(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=A8.get(a)||a,bl(t,a,r))}}function Ui(t,s,a,r,x,u){switch(a){case"style":Mc(t,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(x.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"children":typeof r=="string"?or(t,r):(typeof r=="number"||typeof r=="bigint")&&or(t,""+r);break;case"onScroll":r!=null&&Se("scroll",t);break;case"onScrollEnd":r!=null&&Se("scrollend",t);break;case"onClick":r!=null&&(t.onclick=go);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(x=a.endsWith("Capture"),s=a.slice(2,x?a.length-7:void 0),u=t[Tt]||null,u=u!=null?u[a]:null,typeof u=="function"&&t.removeEventListener(s,u,x),typeof r=="function")){typeof u!="function"&&u!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,r,x);break e}a in t?t[a]=r:r===!0?t.setAttribute(a,""):bl(t,a,r)}}}function yt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",t),Se("load",t);var r=!1,x=!1,u;for(u in a)if(a.hasOwnProperty(u)){var C=a[u];if(C!=null)switch(u){case"src":r=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,s));default:Qe(t,s,u,C,a,null)}}x&&Qe(t,s,"srcSet",a.srcSet,a,null),r&&Qe(t,s,"src",a.src,a,null);return;case"input":Se("invalid",t);var N=u=C=x=null,V=null,W=null;for(r in a)if(a.hasOwnProperty(r)){var le=a[r];if(le!=null)switch(r){case"name":x=le;break;case"type":C=le;break;case"checked":V=le;break;case"defaultChecked":W=le;break;case"value":u=le;break;case"defaultValue":N=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(l(137,s));break;default:Qe(t,s,r,le,a,null)}}Dc(t,u,N,V,W,C,x,!1),vl(t);return;case"select":Se("invalid",t),r=C=u=null;for(x in a)if(a.hasOwnProperty(x)&&(N=a[x],N!=null))switch(x){case"value":u=N;break;case"defaultValue":C=N;break;case"multiple":r=N;default:Qe(t,s,x,N,a,null)}s=u,a=C,t.multiple=!!r,s!=null?lr(t,!!r,s,!1):a!=null&&lr(t,!!r,a,!0);return;case"textarea":Se("invalid",t),u=x=r=null;for(C in a)if(a.hasOwnProperty(C)&&(N=a[C],N!=null))switch(C){case"value":r=N;break;case"defaultValue":x=N;break;case"children":u=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(91));break;default:Qe(t,s,C,N,a,null)}Sc(t,r,x,u),vl(t);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(r=a[V],r!=null))switch(V){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Qe(t,s,V,r,a,null)}return;case"dialog":Se("beforetoggle",t),Se("toggle",t),Se("cancel",t),Se("close",t);break;case"iframe":case"object":Se("load",t);break;case"video":case"audio":for(r=0;r<On.length;r++)Se(On[r],t);break;case"image":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"embed":case"source":case"link":Se("error",t),Se("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in a)if(a.hasOwnProperty(W)&&(r=a[W],r!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,s));default:Qe(t,s,W,r,a,null)}return;default:if(t0(s)){for(le in a)a.hasOwnProperty(le)&&(r=a[le],r!==void 0&&Ui(t,s,le,r,a,void 0));return}}for(N in a)a.hasOwnProperty(N)&&(r=a[N],r!=null&&Qe(t,s,N,r,a,null))}function Xg(t,s,a,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,u=null,C=null,N=null,V=null,W=null,le=null;for(te in a){var xe=a[te];if(a.hasOwnProperty(te)&&xe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":V=xe;default:r.hasOwnProperty(te)||Qe(t,s,te,null,r,xe)}}for(var ee in r){var te=r[ee];if(xe=a[ee],r.hasOwnProperty(ee)&&(te!=null||xe!=null))switch(ee){case"type":u=te;break;case"name":x=te;break;case"checked":W=te;break;case"defaultChecked":le=te;break;case"value":C=te;break;case"defaultValue":N=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(l(137,s));break;default:te!==xe&&Qe(t,s,ee,te,r,xe)}}Wo(t,C,N,V,W,le,u,x);return;case"select":te=C=N=ee=null;for(u in a)if(V=a[u],a.hasOwnProperty(u)&&V!=null)switch(u){case"value":break;case"multiple":te=V;default:r.hasOwnProperty(u)||Qe(t,s,u,null,r,V)}for(x in r)if(u=r[x],V=a[x],r.hasOwnProperty(x)&&(u!=null||V!=null))switch(x){case"value":ee=u;break;case"defaultValue":N=u;break;case"multiple":C=u;default:u!==V&&Qe(t,s,x,u,r,V)}s=N,a=C,r=te,ee!=null?lr(t,!!a,ee,!1):!!r!=!!a&&(s!=null?lr(t,!!a,s,!0):lr(t,!!a,a?[]:"",!1));return;case"textarea":te=ee=null;for(N in a)if(x=a[N],a.hasOwnProperty(N)&&x!=null&&!r.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Qe(t,s,N,null,r,x)}for(C in r)if(x=r[C],u=a[C],r.hasOwnProperty(C)&&(x!=null||u!=null))switch(C){case"value":ee=x;break;case"defaultValue":te=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(91));break;default:x!==u&&Qe(t,s,C,x,r,u)}kc(t,ee,te);return;case"option":for(var Ce in a)if(ee=a[Ce],a.hasOwnProperty(Ce)&&ee!=null&&!r.hasOwnProperty(Ce))switch(Ce){case"selected":t.selected=!1;break;default:Qe(t,s,Ce,null,r,ee)}for(V in r)if(ee=r[V],te=a[V],r.hasOwnProperty(V)&&ee!==te&&(ee!=null||te!=null))switch(V){case"selected":t.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Qe(t,s,V,ee,r,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)ee=a[ye],a.hasOwnProperty(ye)&&ee!=null&&!r.hasOwnProperty(ye)&&Qe(t,s,ye,null,r,ee);for(W in r)if(ee=r[W],te=a[W],r.hasOwnProperty(W)&&ee!==te&&(ee!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(l(137,s));break;default:Qe(t,s,W,ee,r,te)}return;default:if(t0(s)){for(var He in a)ee=a[He],a.hasOwnProperty(He)&&ee!==void 0&&!r.hasOwnProperty(He)&&Ui(t,s,He,void 0,r,ee);for(le in r)ee=r[le],te=a[le],!r.hasOwnProperty(le)||ee===te||ee===void 0&&te===void 0||Ui(t,s,le,ee,r,te);return}}for(var I in a)ee=a[I],a.hasOwnProperty(I)&&ee!=null&&!r.hasOwnProperty(I)&&Qe(t,s,I,null,r,ee);for(xe in r)ee=r[xe],te=a[xe],!r.hasOwnProperty(xe)||ee===te||ee==null&&te==null||Qe(t,s,xe,ee,r,te)}var qi=null,zi=null;function po(t){return t.nodeType===9?t:t.ownerDocument}function _m(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mm(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Vi(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qi=null;function Zg(){var t=window.event;return t&&t.type==="popstate"?t===Qi?!1:(Qi=t,!0):(Qi=null,!1)}var Rm=typeof setTimeout=="function"?setTimeout:void 0,Kg=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,Jg=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(t){return Tm.resolve(null).then(t).catch(Wg)}:Rm;function Wg(t){setTimeout(function(){throw t})}function ba(t){return t==="head"}function Pm(t,s){var a=s,r=0,x=0;do{var u=a.nextSibling;if(t.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(0<r&&8>r){a=r;var C=t.ownerDocument;if(a&1&&qn(C.documentElement),a&2&&qn(C.body),a&4)for(a=C.head,qn(a),C=a.firstChild;C;){var N=C.nextSibling,V=C.nodeName;C[en]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&C.rel.toLowerCase()==="stylesheet"||a.removeChild(C),C=N}}if(x===0){t.removeChild(u),In(s);return}x--}else a==="$"||a==="$?"||a==="$!"?x++:r=a.charCodeAt(0)-48;else r=0;a=u}while(a);In(s)}function Hi(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hi(a),Xo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function e9(t,s,a,r){for(;t.nodeType===1;){var x=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[en])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(u=t.getAttribute("rel"),u==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(u!==x.rel||t.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||t.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||t.getAttribute("title")!==(x.title==null?null:x.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(u=t.getAttribute("src"),(u!==(x.src==null?null:x.src)||t.getAttribute("type")!==(x.type==null?null:x.type)||t.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&u&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var u=x.name==null?null:""+x.name;if(x.type==="hidden"&&t.getAttribute("name")===u)return t}else return t;if(t=fs(t.nextSibling),t===null)break}return null}function t9(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=fs(t.nextSibling),t===null))return null;return t}function $i(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function s9(t,s){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")s();else{var r=function(){s(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function fs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var Yi=null;function Lm(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}function Om(t,s,a){switch(s=po(a),t){case"html":if(t=s.documentElement,!t)throw Error(l(452));return t;case"head":if(t=s.head,!t)throw Error(l(453));return t;case"body":if(t=s.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function qn(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Xo(t)}var is=new Map,Um=new Set;function Eo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Is=q.d;q.d={f:a9,r:r9,D:n9,C:l9,L:o9,m:i9,X:c9,S:x9,M:d9};function a9(){var t=Is.f(),s=io();return t||s}function r9(t){var s=sr(t);s!==null&&s.tag===5&&s.type==="form"?nu(s):Is.r(t)}var Pr=typeof document>"u"?null:document;function qm(t,s,a){var r=Pr;if(r&&typeof s=="string"&&s){var x=ts(s);x='link[rel="'+t+'"][href="'+x+'"]',typeof a=="string"&&(x+='[crossorigin="'+a+'"]'),Um.has(x)||(Um.add(x),t={rel:t,crossOrigin:a,href:s},r.querySelector(x)===null&&(s=r.createElement("link"),yt(s,"link",t),mt(s),r.head.appendChild(s)))}}function n9(t){Is.D(t),qm("dns-prefetch",t,null)}function l9(t,s){Is.C(t,s),qm("preconnect",t,s)}function o9(t,s,a){Is.L(t,s,a);var r=Pr;if(r&&t&&s){var x='link[rel="preload"][as="'+ts(s)+'"]';s==="image"&&a&&a.imageSrcSet?(x+='[imagesrcset="'+ts(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(x+='[imagesizes="'+ts(a.imageSizes)+'"]')):x+='[href="'+ts(t)+'"]';var u=x;switch(s){case"style":u=Lr(t);break;case"script":u=Or(t)}is.has(u)||(t=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),is.set(u,t),r.querySelector(x)!==null||s==="style"&&r.querySelector(zn(u))||s==="script"&&r.querySelector(Vn(u))||(s=r.createElement("link"),yt(s,"link",t),mt(s),r.head.appendChild(s)))}}function i9(t,s){Is.m(t,s);var a=Pr;if(a&&t){var r=s&&typeof s.as=="string"?s.as:"script",x='link[rel="modulepreload"][as="'+ts(r)+'"][href="'+ts(t)+'"]',u=x;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Or(t)}if(!is.has(u)&&(t=E({rel:"modulepreload",href:t},s),is.set(u,t),a.querySelector(x)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vn(u)))return}r=a.createElement("link"),yt(r,"link",t),mt(r),a.head.appendChild(r)}}}function x9(t,s,a){Is.S(t,s,a);var r=Pr;if(r&&t){var x=ar(r).hoistableStyles,u=Lr(t);s=s||"default";var C=x.get(u);if(!C){var N={loading:0,preload:null};if(C=r.querySelector(zn(u)))N.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":s},a),(a=is.get(u))&&Gi(t,a);var V=C=r.createElement("link");mt(V),yt(V,"link",t),V._p=new Promise(function(W,le){V.onload=W,V.onerror=le}),V.addEventListener("load",function(){N.loading|=1}),V.addEventListener("error",function(){N.loading|=2}),N.loading|=4,bo(C,s,r)}C={type:"stylesheet",instance:C,count:1,state:N},x.set(u,C)}}}function c9(t,s){Is.X(t,s);var a=Pr;if(a&&t){var r=ar(a).hoistableScripts,x=Or(t),u=r.get(x);u||(u=a.querySelector(Vn(x)),u||(t=E({src:t,async:!0},s),(s=is.get(x))&&Ii(t,s),u=a.createElement("script"),mt(u),yt(u,"link",t),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(x,u))}}function d9(t,s){Is.M(t,s);var a=Pr;if(a&&t){var r=ar(a).hoistableScripts,x=Or(t),u=r.get(x);u||(u=a.querySelector(Vn(x)),u||(t=E({src:t,async:!0,type:"module"},s),(s=is.get(x))&&Ii(t,s),u=a.createElement("script"),mt(u),yt(u,"link",t),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(x,u))}}function zm(t,s,a,r){var x=(x=ce.current)?Eo(x):null;if(!x)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Lr(a.href),a=ar(x).hoistableStyles,r=a.get(s),r||(r={type:"style",instance:null,count:0,state:null},a.set(s,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Lr(a.href);var u=ar(x).hoistableStyles,C=u.get(t);if(C||(x=x.ownerDocument||x,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(t,C),(u=x.querySelector(zn(t)))&&!u._p&&(C.instance=u,C.state.loading=5),is.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},is.set(t,a),u||u9(x,t,a,C.state))),s&&r===null)throw Error(l(528,""));return C}if(s&&r!==null)throw Error(l(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Or(a),a=ar(x).hoistableScripts,r=a.get(s),r||(r={type:"script",instance:null,count:0,state:null},a.set(s,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Lr(t){return'href="'+ts(t)+'"'}function zn(t){return'link[rel="stylesheet"]['+t+"]"}function Vm(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function u9(t,s,a,r){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?r.loading=1:(s=t.createElement("link"),r.preload=s,s.addEventListener("load",function(){return r.loading|=1}),s.addEventListener("error",function(){return r.loading|=2}),yt(s,"link",a),mt(s),t.head.appendChild(s))}function Or(t){return'[src="'+ts(t)+'"]'}function Vn(t){return"script[async]"+t}function Qm(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var r=t.querySelector('style[data-href~="'+ts(a.href)+'"]');if(r)return s.instance=r,mt(r),r;var x=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),mt(r),yt(r,"style",x),bo(r,a.precedence,t),s.instance=r;case"stylesheet":x=Lr(a.href);var u=t.querySelector(zn(x));if(u)return s.state.loading|=4,s.instance=u,mt(u),u;r=Vm(a),(x=is.get(x))&&Gi(r,x),u=(t.ownerDocument||t).createElement("link"),mt(u);var C=u;return C._p=new Promise(function(N,V){C.onload=N,C.onerror=V}),yt(u,"link",r),s.state.loading|=4,bo(u,a.precedence,t),s.instance=u;case"script":return u=Or(a.src),(x=t.querySelector(Vn(u)))?(s.instance=x,mt(x),x):(r=a,(x=is.get(u))&&(r=E({},a),Ii(r,x)),t=t.ownerDocument||t,x=t.createElement("script"),mt(x),yt(x,"link",r),t.head.appendChild(x),s.instance=x);case"void":return null;default:throw Error(l(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(r=s.instance,s.state.loading|=4,bo(r,a.precedence,t));return s.instance}function bo(t,s,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=r.length?r[r.length-1]:null,u=x,C=0;C<r.length;C++){var N=r[C];if(N.dataset.precedence===s)u=N;else if(u!==x)break}u?u.parentNode.insertBefore(t,u.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Gi(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Ii(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var yo=null;function Hm(t,s,a){if(yo===null){var r=new Map,x=yo=new Map;x.set(a,r)}else x=yo,r=x.get(a),r||(r=new Map,x.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),x=0;x<a.length;x++){var u=a[x];if(!(u[en]||u[Ft]||t==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var C=u.getAttribute(s)||"";C=t+C;var N=r.get(C);N?N.push(u):r.set(C,[u])}}return r}function $m(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function m9(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ym(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Qn=null;function h9(){}function f9(t,s,a){if(Qn===null)throw Error(l(475));var r=Qn;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var x=Lr(a.href),u=t.querySelector(zn(x));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=vo.bind(r),t.then(r,r)),s.state.loading|=4,s.instance=u,mt(u);return}u=t.ownerDocument||t,a=Vm(a),(x=is.get(x))&&Gi(a,x),u=u.createElement("link"),mt(u);var C=u;C._p=new Promise(function(N,V){C.onload=N,C.onerror=V}),yt(u,"link",a),s.instance=u}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(r.count++,s=vo.bind(r),t.addEventListener("load",s),t.addEventListener("error",s))}}function g9(){if(Qn===null)throw Error(l(475));var t=Qn;return t.stylesheets&&t.count===0&&Xi(t,t.stylesheets),0<t.count?function(s){var a=setTimeout(function(){if(t.stylesheets&&Xi(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(a)}}:null}function vo(){if(this.count--,this.count===0){if(this.stylesheets)Xi(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Co=null;function Xi(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Co=new Map,s.forEach(p9,t),Co=null,vo.call(t))}function p9(t,s){if(!(s.state.loading&4)){var a=Co.get(t);if(a)var r=a.get(null);else{a=new Map,Co.set(t,a);for(var x=t.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<x.length;u++){var C=x[u];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(a.set(C.dataset.precedence,C),r=C)}r&&a.set(null,r)}x=s.instance,C=x.getAttribute("data-precedence"),u=a.get(C)||r,u===r&&a.set(null,x),a.set(C,x),this.count++,r=vo.bind(this),x.addEventListener("load",r),x.addEventListener("error",r),u?u.parentNode.insertBefore(x,u.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(x,t.firstChild)),s.state.loading|=4}}var Hn={$$typeof:w,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function E9(t,s,a,r,x,u,C,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$o(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.hiddenUpdates=$o(null),this.identifierPrefix=r,this.onUncaughtError=x,this.onCaughtError=u,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Gm(t,s,a,r,x,u,C,N,V,W,le,xe){return t=new E9(t,s,a,C,N,V,W,xe),s=1,u===!0&&(s|=24),u=Ht(3,null,null,s),t.current=u,u.stateNode=t,s=k0(),s.refCount++,t.pooledCache=s,s.refCount++,u.memoizedState={element:r,isDehydrated:a,cache:s},R0(u),t}function Im(t){return t?(t=fr,t):fr}function Xm(t,s,a,r,x,u){x=Im(x),r.context===null?r.context=x:r.pendingContext=x,r=la(s),r.payload={element:a},u=u===void 0?null:u,u!==null&&(r.callback=u),a=oa(t,r,s),a!==null&&(Xt(a,t,s),yn(a,t,s))}function Zm(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Zi(t,s){Zm(t,s),(t=t.alternate)&&Zm(t,s)}function Km(t){if(t.tag===13){var s=hr(t,67108864);s!==null&&Xt(s,t,67108864),Zi(t,67108864)}}var Bo=!0;function b9(t,s,a,r){var x=S.T;S.T=null;var u=q.p;try{q.p=2,Ki(t,s,a,r)}finally{q.p=u,S.T=x}}function y9(t,s,a,r){var x=S.T;S.T=null;var u=q.p;try{q.p=8,Ki(t,s,a,r)}finally{q.p=u,S.T=x}}function Ki(t,s,a,r){if(Bo){var x=Ji(r);if(x===null)Oi(t,s,r,Ao,a),Wm(t,r);else if(C9(x,t,s,a,r))r.stopPropagation();else if(Wm(t,r),s&4&&-1<v9.indexOf(t)){for(;x!==null;){var u=sr(x);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var C=_a(u.pendingLanes);if(C!==0){var N=u;for(N.pendingLanes|=2,N.entangledLanes|=2;C;){var V=1<<31-pt(C);N.entanglements[1]|=V,C&=~V}Fs(u),(Ue&6)===0&&(lo=Fe()+500,Ln(0))}}break;case 13:N=hr(u,2),N!==null&&Xt(N,u,2),io(),Zi(u,2)}if(u=Ji(r),u===null&&Oi(t,s,r,Ao,a),u===x)break;x=u}x!==null&&r.stopPropagation()}else Oi(t,s,r,null,a)}}function Ji(t){return t=a0(t),Wi(t)}var Ao=null;function Wi(t){if(Ao=null,t=tr(t),t!==null){var s=d(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=m(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Ao=t,null}function Jm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(J()){case me:return 2;case Pe:return 8;case fe:case dt:return 32;case bs:return 268435456;default:return 32}default:return 32}}var ex=!1,ya=null,va=null,Ca=null,$n=new Map,Yn=new Map,Ba=[],v9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wm(t,s){switch(t){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":$n.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yn.delete(s.pointerId)}}function Gn(t,s,a,r,x,u){return t===null||t.nativeEvent!==u?(t={blockedOn:s,domEventName:a,eventSystemFlags:r,nativeEvent:u,targetContainers:[x]},s!==null&&(s=sr(s),s!==null&&Km(s)),t):(t.eventSystemFlags|=r,s=t.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),t)}function C9(t,s,a,r,x){switch(s){case"focusin":return ya=Gn(ya,t,s,a,r,x),!0;case"dragenter":return va=Gn(va,t,s,a,r,x),!0;case"mouseover":return Ca=Gn(Ca,t,s,a,r,x),!0;case"pointerover":var u=x.pointerId;return $n.set(u,Gn($n.get(u)||null,t,s,a,r,x)),!0;case"gotpointercapture":return u=x.pointerId,Yn.set(u,Gn(Yn.get(u)||null,t,s,a,r,x)),!0}return!1}function eh(t){var s=tr(t.target);if(s!==null){var a=d(s);if(a!==null){if(s=a.tag,s===13){if(s=m(a),s!==null){t.blockedOn=s,f8(t.priority,function(){if(a.tag===13){var r=It();r=Yo(r);var x=hr(a,r);x!==null&&Xt(x,a,r),Zi(a,r)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fo(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Ji(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);s0=r,a.target.dispatchEvent(r),s0=null}else return s=sr(a),s!==null&&Km(s),t.blockedOn=a,!1;s.shift()}return!0}function th(t,s,a){Fo(t)&&a.delete(s)}function B9(){ex=!1,ya!==null&&Fo(ya)&&(ya=null),va!==null&&Fo(va)&&(va=null),Ca!==null&&Fo(Ca)&&(Ca=null),$n.forEach(th),Yn.forEach(th)}function jo(t,s){t.blockedOn===s&&(t.blockedOn=null,ex||(ex=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,B9)))}var wo=null;function sh(t){wo!==t&&(wo=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){wo===t&&(wo=null);for(var s=0;s<t.length;s+=3){var a=t[s],r=t[s+1],x=t[s+2];if(typeof r!="function"){if(Wi(r||a)===null)continue;break}var u=sr(a);u!==null&&(t.splice(s,3),s-=3,W0(u,{pending:!0,data:x,method:a.method,action:r},r,x))}}))}function In(t){function s(V){return jo(V,t)}ya!==null&&jo(ya,t),va!==null&&jo(va,t),Ca!==null&&jo(Ca,t),$n.forEach(s),Yn.forEach(s);for(var a=0;a<Ba.length;a++){var r=Ba[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ba.length&&(a=Ba[0],a.blockedOn===null);)eh(a),a.blockedOn===null&&Ba.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var x=a[r],u=a[r+1],C=x[Tt]||null;if(typeof u=="function")C||sh(a);else if(C){var N=null;if(u&&u.hasAttribute("formAction")){if(x=u,C=u[Tt]||null)N=C.formAction;else if(Wi(x)!==null)continue}else N=C.action;typeof N=="function"?a[r+1]=N:(a.splice(r,3),r-=3),sh(a)}}}function tx(t){this._internalRoot=t}No.prototype.render=tx.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(l(409));var a=s.current,r=It();Xm(a,r,t,s,null,null)},No.prototype.unmount=tx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Xm(t.current,2,null,t,null,null),io(),s[er]=null}};function No(t){this._internalRoot=t}No.prototype.unstable_scheduleHydration=function(t){if(t){var s=bc();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Ba.length&&s!==0&&s<Ba[a].priority;a++);Ba.splice(a,0,t),a===0&&eh(t)}};var ah=n.version;if(ah!=="19.1.1")throw Error(l(527,ah,"19.1.1"));q.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=h(s),t=t!==null?f(t):null,t=t===null?null:t.stateNode,t};var A9={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Do=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Do.isDisabled&&Do.supportsFiber)try{us=Do.inject(A9),At=Do}catch{}}return Zn.createRoot=function(t,s){if(!c(t))throw Error(l(299));var a=!1,r="",x=bu,u=yu,C=vu,N=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onUncaughtError!==void 0&&(x=s.onUncaughtError),s.onCaughtError!==void 0&&(u=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks)),s=Gm(t,1,!1,null,null,a,r,x,u,C,N,null),t[er]=s.current,Li(t),new tx(s)},Zn.hydrateRoot=function(t,s,a){if(!c(t))throw Error(l(299));var r=!1,x="",u=bu,C=yu,N=vu,V=null,W=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(x=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(C=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(V=a.unstable_transitionCallbacks),a.formState!==void 0&&(W=a.formState)),s=Gm(t,1,!0,s,a??null,r,x,u,C,N,V,W),s.context=Im(null),a=s.current,r=It(),r=Yo(r),x=la(r),x.callback=null,oa(a,x,r),a=r,s.current.lanes=a,Wr(s,a),Fs(s),t[er]=s.current,Li(t),new No(s)},Zn.version="19.1.1",Zn}var mh;function M9(){if(mh)return rx.exports;mh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),rx.exports=_9(),rx.exports}var R9=M9(),Ns=[],cs=[],T9=Uint8Array,ix="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ur=0,P9=ix.length;Ur<P9;++Ur)Ns[Ur]=ix[Ur],cs[ix.charCodeAt(Ur)]=Ur;cs[45]=62;cs[95]=63;function L9(o){var n=o.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=o.indexOf("=");i===-1&&(i=n);var l=i===n?0:4-i%4;return[i,l]}function O9(o,n,i){return(n+i)*3/4-i}function al(o){var n,i=L9(o),l=i[0],c=i[1],d=new T9(O9(o,l,c)),m=0,g=c>0?l-4:l,h;for(h=0;h<g;h+=4)n=cs[o.charCodeAt(h)]<<18|cs[o.charCodeAt(h+1)]<<12|cs[o.charCodeAt(h+2)]<<6|cs[o.charCodeAt(h+3)],d[m++]=n>>16&255,d[m++]=n>>8&255,d[m++]=n&255;return c===2&&(n=cs[o.charCodeAt(h)]<<2|cs[o.charCodeAt(h+1)]>>4,d[m++]=n&255),c===1&&(n=cs[o.charCodeAt(h)]<<10|cs[o.charCodeAt(h+1)]<<4|cs[o.charCodeAt(h+2)]>>2,d[m++]=n>>8&255,d[m++]=n&255),d}function U9(o){return Ns[o>>18&63]+Ns[o>>12&63]+Ns[o>>6&63]+Ns[o&63]}function q9(o,n,i){for(var l,c=[],d=n;d<i;d+=3)l=(o[d]<<16&16711680)+(o[d+1]<<8&65280)+(o[d+2]&255),c.push(U9(l));return c.join("")}function rl(o){for(var n,i=o.length,l=i%3,c=[],d=16383,m=0,g=i-l;m<g;m+=d)c.push(q9(o,m,m+d>g?g:m+d));return l===1?(n=o[i-1],c.push(Ns[n>>2]+Ns[n<<4&63]+"==")):l===2&&(n=(o[i-2]<<8)+o[i-1],c.push(Ns[n>>10]+Ns[n>>4&63]+Ns[n<<2&63]+"=")),c.join("")}function Zs(o){if(o===void 0)return{};if(!gf(o))throw new Error(`The arguments to a Convex function must be an object. Received: ${o}`);return o}function z9(o){if(typeof o>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof o!="string")throw new Error(`Invalid deployment address: found ${o}".`);if(!(o.startsWith("http:")||o.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${o}".`);try{new URL(o)}catch{throw new Error(`Invalid deployment address: "${o}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(o.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${o}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function gf(o){const n=typeof o=="object",i=Object.getPrototypeOf(o),l=i===null||i===Object.prototype||i?.constructor?.name==="Object";return n&&l}const pf=!0,Qr=BigInt("-9223372036854775808"),Jx=BigInt("9223372036854775807"),qx=BigInt("0"),V9=BigInt("8"),Q9=BigInt("256");function Ef(o){return Number.isNaN(o)||!Number.isFinite(o)||Object.is(o,-0)}function H9(o){o<qx&&(o-=Qr+Qr);let n=o.toString(16);n.length%2===1&&(n="0"+n);const i=new Uint8Array(new ArrayBuffer(8));let l=0;for(const c of n.match(/.{2}/g).reverse())i.set([parseInt(c,16)],l++),o>>=V9;return rl(i)}function $9(o){const n=al(o);if(n.byteLength!==8)throw new Error(`Received ${n.byteLength} bytes, expected 8 for $integer`);let i=qx,l=qx;for(const c of n)i+=BigInt(c)*Q9**l,l++;return i>Jx&&(i+=Qr+Qr),i}function Y9(o){if(o<Qr||Jx<o)throw new Error(`BigInt ${o} does not fit into a 64-bit signed integer.`);const n=new ArrayBuffer(8);return new DataView(n).setBigInt64(0,o,!0),rl(new Uint8Array(n))}function G9(o){const n=al(o);if(n.byteLength!==8)throw new Error(`Received ${n.byteLength} bytes, expected 8 for $integer`);return new DataView(n.buffer).getBigInt64(0,!0)}const I9=DataView.prototype.setBigInt64?Y9:H9,X9=DataView.prototype.getBigInt64?G9:$9,hh=1024;function bf(o){if(o.length>hh)throw new Error(`Field name ${o} exceeds maximum field name length ${hh}.`);if(o.startsWith("$"))throw new Error(`Field name ${o} starts with a '$', which is reserved.`);for(let n=0;n<o.length;n+=1){const i=o.charCodeAt(n);if(i<32||i>=127)throw new Error(`Field name ${o} has invalid character '${o[n]}': Field names can only contain non-control ASCII characters`)}}function Hr(o){if(o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string")return o;if(Array.isArray(o))return o.map(l=>Hr(l));if(typeof o!="object")throw new Error(`Unexpected type of ${o}`);const n=Object.entries(o);if(n.length===1){const l=n[0][0];if(l==="$bytes"){if(typeof o.$bytes!="string")throw new Error(`Malformed $bytes field on ${o}`);return al(o.$bytes).buffer}if(l==="$integer"){if(typeof o.$integer!="string")throw new Error(`Malformed $integer field on ${o}`);return X9(o.$integer)}if(l==="$float"){if(typeof o.$float!="string")throw new Error(`Malformed $float field on ${o}`);const c=al(o.$float);if(c.byteLength!==8)throw new Error(`Received ${c.byteLength} bytes, expected 8 for $float`);const m=new DataView(c.buffer).getFloat64(0,pf);if(!Ef(m))throw new Error(`Float ${m} should be encoded as a number`);return m}if(l==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(l==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const i={};for(const[l,c]of Object.entries(o))bf(l),i[l]=Hr(c);return i}function el(o){return JSON.stringify(o,(n,i)=>i===void 0?"undefined":typeof i=="bigint"?`${i.toString()}n`:i)}function zx(o,n,i,l){if(o===void 0){const m=i&&` (present at path ${i} in original object ${el(n)})`;throw new Error(`undefined is not a valid Convex value${m}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(o===null)return o;if(typeof o=="bigint"){if(o<Qr||Jx<o)throw new Error(`BigInt ${o} does not fit into a 64-bit signed integer.`);return{$integer:I9(o)}}if(typeof o=="number")if(Ef(o)){const m=new ArrayBuffer(8);return new DataView(m).setFloat64(0,o,pf),{$float:rl(new Uint8Array(m))}}else return o;if(typeof o=="boolean"||typeof o=="string")return o;if(o instanceof ArrayBuffer)return{$bytes:rl(new Uint8Array(o))};if(Array.isArray(o))return o.map((m,g)=>zx(m,n,i+`[${g}]`));if(o instanceof Set)throw new Error(xx(i,"Set",[...o],n));if(o instanceof Map)throw new Error(xx(i,"Map",[...o],n));if(!gf(o)){const m=o?.constructor?.name,g=m?`${m} `:"";throw new Error(xx(i,g,o,n))}const c={},d=Object.entries(o);d.sort(([m,g],[h,f])=>m===h?0:m<h?-1:1);for(const[m,g]of d)g!==void 0&&(bf(m),c[m]=zx(g,n,i+`.${m}`));return c}function xx(o,n,i,l){return o?`${n}${el(i)} is not a supported Convex type (present at path ${o} in original object ${el(l)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${n}${el(i)} is not a supported Convex type.`}function Na(o){return zx(o,o,"")}var Z9=Object.defineProperty,K9=(o,n,i)=>n in o?Z9(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,cx=(o,n,i)=>K9(o,typeof n!="symbol"?n+"":n,i),fh,gh;const J9=Symbol.for("ConvexError");class Vx extends(gh=Error,fh=J9,gh){constructor(n){super(typeof n=="string"?n:el(n)),cx(this,"name","ConvexError"),cx(this,"data"),cx(this,fh,!0),this.data=n}}const yf=()=>Array.from({length:4},()=>0);yf();yf();const ph="1.26.1";var W9=Object.defineProperty,e2=(o,n,i)=>n in o?W9(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,Eh=(o,n,i)=>e2(o,typeof n!="symbol"?n+"":n,i);const t2="color:rgb(0, 145, 255)";function vf(o){switch(o){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class Cf{constructor(n){Eh(this,"_onLogLineFuncs"),Eh(this,"_verbose"),this._onLogLineFuncs={},this._verbose=n.verbose}addLogLineListener(n){let i=Math.random().toString(36).substring(2,15);for(let l=0;l<10&&this._onLogLineFuncs[i]!==void 0;l++)i=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[i]=n,()=>{delete this._onLogLineFuncs[i]}}logVerbose(...n){if(this._verbose)for(const i of Object.values(this._onLogLineFuncs))i("debug",`${new Date().toISOString()}`,...n)}log(...n){for(const i of Object.values(this._onLogLineFuncs))i("info",...n)}warn(...n){for(const i of Object.values(this._onLogLineFuncs))i("warn",...n)}error(...n){for(const i of Object.values(this._onLogLineFuncs))i("error",...n)}}function Bf(o){const n=new Cf(o);return n.addLogLineListener((i,...l)=>{switch(i){case"debug":console.debug(...l);break;case"info":console.log(...l);break;case"warn":console.warn(...l);break;case"error":console.error(...l);break;default:console.log(...l)}}),n}function Af(o){return new Cf(o)}function Uo(o,n,i,l,c){const d=vf(i);if(typeof c=="object"&&(c=`ConvexError ${JSON.stringify(c.errorData,null,2)}`),n==="info"){const m=c.match(/^\[.*?\] /);if(m===null){o.error(`[CONVEX ${d}(${l})] Could not parse console.log`);return}const g=c.slice(1,m[0].length-2),h=c.slice(m[0].length);o.log(`%c[CONVEX ${d}(${l})] [${g}]`,t2,h)}else o.error(`[CONVEX ${d}(${l})] ${c}`)}function s2(o,n){const i=`[CONVEX FATAL ERROR] ${n}`;return o.error(i),new Error(i)}function zr(o,n,i){return`[CONVEX ${vf(o)}(${n})] ${i.errorMessage}
  Called by client`}function Qx(o,n){return n.data=o.errorData,n}function qo(o){const n=o.split(":");let i,l;return n.length===1?(i=n[0],l="default"):(i=n.slice(0,n.length-1).join(":"),l=n[n.length-1]),i.endsWith(".js")&&(i=i.slice(0,-3)),`${i}:${l}`}function Za(o,n){return JSON.stringify({udfPath:qo(o),args:Na(n)})}var a2=Object.defineProperty,r2=(o,n,i)=>n in o?a2(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,js=(o,n,i)=>r2(o,typeof n!="symbol"?n+"":n,i);class n2{constructor(){js(this,"nextQueryId"),js(this,"querySetVersion"),js(this,"querySet"),js(this,"queryIdToToken"),js(this,"identityVersion"),js(this,"auth"),js(this,"outstandingQueriesOlderThanRestart"),js(this,"outstandingAuthOlderThanRestart"),js(this,"paused"),js(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(n,i,l,c){const d=qo(n),m=Za(d,i),g=this.querySet.get(m);if(g!==void 0)return g.numSubscribers+=1,{queryToken:m,modification:null,unsubscribe:()=>this.removeSubscriber(m)};{const h=this.nextQueryId++,f={id:h,canonicalizedUdfPath:d,args:i,numSubscribers:1,journal:l,componentPath:c};this.querySet.set(m,f),this.queryIdToToken.set(h,m);const E=this.querySetVersion,p=this.querySetVersion+1,v={type:"Add",queryId:h,udfPath:d,args:[Na(i)],journal:l,componentPath:c};return this.paused?this.pendingQuerySetModifications.set(h,v):this.querySetVersion=p,{queryToken:m,modification:{type:"ModifyQuerySet",baseVersion:E,newVersion:p,modifications:[v]},unsubscribe:()=>this.removeSubscriber(m)}}}transition(n){for(const i of n.modifications)switch(i.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(i.queryId);const l=i.journal;if(l!==void 0){const c=this.queryIdToToken.get(i.queryId);c!==void 0&&(this.querySet.get(c).journal=l)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(i.queryId);break}default:throw new Error(`Invalid modification ${i.type}`)}}queryId(n,i){const l=qo(n),c=Za(l,i),d=this.querySet.get(c);return d!==void 0?d.id:null}isCurrentOrNewerAuthVersion(n){return n>=this.identityVersion}setAuth(n){this.auth={tokenType:"User",value:n};const i=this.identityVersion;return this.paused||(this.identityVersion=i+1),{type:"Authenticate",baseVersion:i,...this.auth}}setAdminAuth(n,i){const l={tokenType:"Admin",value:n,impersonating:i};this.auth=l;const c=this.identityVersion;return this.paused||(this.identityVersion=c+1),{type:"Authenticate",baseVersion:c,...l}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const n=this.identityVersion;return this.paused||(this.identityVersion=n+1),{type:"Authenticate",tokenType:"None",baseVersion:n}}hasAuth(){return!!this.auth}isNewAuth(n){return this.auth?.value!==n}queryPath(n){const i=this.queryIdToToken.get(n);return i?this.querySet.get(i).canonicalizedUdfPath:null}queryArgs(n){const i=this.queryIdToToken.get(n);return i?this.querySet.get(i).args:null}queryToken(n){return this.queryIdToToken.get(n)??null}queryJournal(n){return this.querySet.get(n)?.journal}restart(n){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const i=[];for(const d of this.querySet.values()){const m={type:"Add",queryId:d.id,udfPath:d.canonicalizedUdfPath,args:[Na(d.args)],journal:d.journal,componentPath:d.componentPath};i.push(m),n.has(d.id)||this.outstandingQueriesOlderThanRestart.add(d.id)}this.querySetVersion=1;const l={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:i};if(!this.auth)return this.identityVersion=0,[l,void 0];this.outstandingAuthOlderThanRestart=!0;const c={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[l,c]}pause(){this.paused=!0}resume(){const n=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,i=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[n,i]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(n){const i=this.querySet.get(n);if(i.numSubscribers>1)return i.numSubscribers-=1,null;{this.querySet.delete(n),this.queryIdToToken.delete(i.id),this.outstandingQueriesOlderThanRestart.delete(i.id);const l=this.querySetVersion,c=this.querySetVersion+1,d={type:"Remove",queryId:i.id};return this.paused?this.pendingQuerySetModifications.has(i.id)?this.pendingQuerySetModifications.delete(i.id):this.pendingQuerySetModifications.set(i.id,d):this.querySetVersion=c,{type:"ModifyQuerySet",baseVersion:l,newVersion:c,modifications:[d]}}}}var l2=Object.defineProperty,o2=(o,n,i)=>n in o?l2(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,ko=(o,n,i)=>o2(o,typeof n!="symbol"?n+"":n,i);class i2{constructor(n,i){this.logger=n,this.markConnectionStateDirty=i,ko(this,"inflightRequests"),ko(this,"requestsOlderThanRestart"),ko(this,"inflightMutationsCount",0),ko(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(n,i){const l=new Promise(c=>{const d=i?"Requested":"NotSent";this.inflightRequests.set(n.requestId,{message:n,status:{status:d,requestedAt:new Date,onResult:c}}),n.type==="Mutation"?this.inflightMutationsCount++:n.type==="Action"&&this.inflightActionsCount++});return this.markConnectionStateDirty(),l}onResponse(n){const i=this.inflightRequests.get(n.requestId);if(i===void 0||i.status.status==="Completed")return null;const l=i.message.type==="Mutation"?"mutation":"action",c=i.message.udfPath;for(const h of n.logLines)Uo(this.logger,"info",l,c,h);const d=i.status;let m,g;if(n.success)m={success:!0,logLines:n.logLines,value:Hr(n.result)},g=()=>d.onResult(m);else{const h=n.result,{errorData:f}=n;Uo(this.logger,"error",l,c,h),m={success:!1,errorMessage:h,errorData:f!==void 0?Hr(f):void 0,logLines:n.logLines},g=()=>d.onResult(m)}return n.type==="ActionResponse"||!n.success?(g(),this.inflightRequests.delete(n.requestId),this.requestsOlderThanRestart.delete(n.requestId),i.message.type==="Action"?this.inflightActionsCount--:i.message.type==="Mutation"&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:n.requestId,result:m}):(i.status={status:"Completed",result:m,ts:n.ts,onResolve:g},null)}removeCompleted(n){const i=new Map;for(const[l,c]of this.inflightRequests.entries()){const d=c.status;d.status==="Completed"&&d.ts.lessThanOrEqual(n)&&(d.onResolve(),i.set(l,d.result),c.message.type==="Mutation"?this.inflightMutationsCount--:c.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(l),this.requestsOlderThanRestart.delete(l))}return i.size>0&&this.markConnectionStateDirty(),i}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const n=[];for(const[i,l]of this.inflightRequests){if(l.status.status==="NotSent"){l.status.status="Requested",n.push(l.message);continue}if(l.message.type==="Mutation")n.push(l.message);else if(l.message.type==="Action"){if(this.inflightRequests.delete(i),this.requestsOlderThanRestart.delete(i),this.inflightActionsCount--,l.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");l.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),n}resume(){const n=[];for(const[,i]of this.inflightRequests)if(i.status.status==="NotSent"){i.status.status="Requested",n.push(i.message);continue}return n}hasIncompleteRequests(){for(const n of this.inflightRequests.values())if(n.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let n=Date.now();for(const i of this.inflightRequests.values())i.status.status!=="Completed"&&i.status.requestedAt.getTime()<n&&(n=i.status.requestedAt.getTime());return new Date(n)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const nl=Symbol.for("functionName"),x2=Symbol.for("toReferencePath");function c2(o){return o[x2]??null}function d2(o){return o.startsWith("function://")}function u2(o){let n;if(typeof o=="string")d2(o)?n={functionHandle:o}:n={name:o};else if(o[nl])n={name:o[nl]};else{const i=c2(o);if(!i)throw new Error(`${o} is not a functionReference`);n={reference:i}}return n}function Kt(o){const n=u2(o);if(n.name===void 0)throw n.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${n.functionHandle}`):n.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${n.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(n)}`);if(typeof o=="string")return o;const i=o[nl];if(!i)throw new Error(`${o} is not a functionReference`);return i}function Ff(o){return{[nl]:o}}function jf(o=[]){const n={get(i,l){if(typeof l=="string"){const c=[...o,l];return jf(c)}else if(l===nl){if(o.length<2){const m=["api",...o].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${m}\``)}const c=o.slice(0,-1).join("/"),d=o[o.length-1];return d==="default"?c:c+":"+d}else return l===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},n)}const m2=jf();var h2=Object.defineProperty,f2=(o,n,i)=>n in o?h2(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,zo=(o,n,i)=>f2(o,typeof n!="symbol"?n+"":n,i);class ll{constructor(n){zo(this,"queryResults"),zo(this,"modifiedQueries"),this.queryResults=n,this.modifiedQueries=[]}getQuery(n,...i){const l=Zs(i[0]),c=Kt(n),d=this.queryResults.get(Za(c,l));if(d!==void 0)return ll.queryValue(d.result)}getAllQueries(n){const i=[],l=Kt(n);for(const c of this.queryResults.values())c.udfPath===qo(l)&&i.push({args:c.args,value:ll.queryValue(c.result)});return i}setQuery(n,i,l){const c=Zs(i),d=Kt(n),m=Za(d,c);let g;l===void 0?g=void 0:g={success:!0,value:l,logLines:[]};const h={udfPath:d,args:c,result:g};this.queryResults.set(m,h),this.modifiedQueries.push(m)}static queryValue(n){if(n!==void 0)return n.success?n.value:void 0}}class g2{constructor(){zo(this,"queryResults"),zo(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(n,i){this.optimisticUpdates=this.optimisticUpdates.filter(m=>!i.has(m.mutationId));const l=this.queryResults;this.queryResults=new Map(n);const c=new ll(this.queryResults);for(const m of this.optimisticUpdates)m.update(c);const d=[];for(const[m,g]of this.queryResults){const h=l.get(m);(h===void 0||h.result!==g.result)&&d.push(m)}return d}applyOptimisticUpdate(n,i){this.optimisticUpdates.push({update:n,mutationId:i});const l=new ll(this.queryResults);return n(l),l.modifiedQueries}rawQueryResult(n){return this.queryResults.get(n)}queryResult(n){const i=this.queryResults.get(n);if(i===void 0)return;const l=i.result;if(l!==void 0){if(l.success)return l.value;throw l.errorData!==void 0?Qx(l,new Vx(zr("query",i.udfPath,l))):new Error(zr("query",i.udfPath,l))}}hasQueryResult(n){return this.queryResults.get(n)!==void 0}queryLogs(n){return this.queryResults.get(n)?.result?.logLines}}var p2=Object.defineProperty,E2=(o,n,i)=>n in o?p2(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,dx=(o,n,i)=>E2(o,typeof n!="symbol"?n+"":n,i);class Zt{constructor(n,i){dx(this,"low"),dx(this,"high"),dx(this,"__isUnsignedLong__"),this.low=n|0,this.high=i|0,this.__isUnsignedLong__=!0}static isLong(n){return(n&&n.__isUnsignedLong__)===!0}static fromBytesLE(n){return new Zt(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24)}toBytesLE(){const n=this.high,i=this.low;return[i&255,i>>>8&255,i>>>16&255,i>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]}static fromNumber(n){return isNaN(n)||n<0?bh:n>=b2?y2:new Zt(n%tl|0,n/tl|0)}toString(){return(BigInt(this.high)*BigInt(tl)+BigInt(this.low)).toString()}equals(n){return Zt.isLong(n)||(n=Zt.fromValue(n)),this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low}notEquals(n){return!this.equals(n)}comp(n){return Zt.isLong(n)||(n=Zt.fromValue(n)),this.equals(n)?0:n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(n){return this.comp(n)<=0}static fromValue(n){return typeof n=="number"?Zt.fromNumber(n):new Zt(n.low,n.high)}}const bh=new Zt(0,0),yh=65536,tl=yh*yh,b2=tl*tl,y2=new Zt(-1,-1);var v2=Object.defineProperty,C2=(o,n,i)=>n in o?v2(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,So=(o,n,i)=>C2(o,typeof n!="symbol"?n+"":n,i);class vh{constructor(n,i){So(this,"version"),So(this,"remoteQuerySet"),So(this,"queryPath"),So(this,"logger"),this.version={querySet:0,ts:Zt.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=n,this.logger=i}transition(n){const i=n.startVersion;if(this.version.querySet!==i.querySet||this.version.ts.notEquals(i.ts)||this.version.identity!==i.identity)throw new Error(`Invalid start version: ${i.ts.toString()}:${i.querySet}`);for(const l of n.modifications)switch(l.type){case"QueryUpdated":{const c=this.queryPath(l.queryId);if(c)for(const m of l.logLines)Uo(this.logger,"info","query",c,m);const d=Hr(l.value??null);this.remoteQuerySet.set(l.queryId,{success:!0,value:d,logLines:l.logLines});break}case"QueryFailed":{const c=this.queryPath(l.queryId);if(c)for(const m of l.logLines)Uo(this.logger,"info","query",c,m);const{errorData:d}=l;this.remoteQuerySet.set(l.queryId,{success:!1,errorMessage:l.errorMessage,errorData:d!==void 0?Hr(d):void 0,logLines:l.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(l.queryId);break}default:throw new Error(`Invalid modification ${l.type}`)}this.version=n.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function ux(o){const n=al(o);return Zt.fromBytesLE(Array.from(n))}function B2(o){const n=new Uint8Array(o.toBytesLE());return rl(n)}function A2(o){switch(o.type){case"FatalError":case"AuthError":case"ActionResponse":case"Ping":return{...o};case"MutationResponse":return o.success?{...o,ts:ux(o.ts)}:{...o};case"Transition":return{...o,startVersion:{...o.startVersion,ts:ux(o.startVersion.ts)},endVersion:{...o.endVersion,ts:ux(o.endVersion.ts)}}}}function F2(o){switch(o.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...o};case"Connect":return o.maxObservedTimestamp!==void 0?{...o,maxObservedTimestamp:B2(o.maxObservedTimestamp)}:{...o,maxObservedTimestamp:void 0}}}var j2=Object.defineProperty,w2=(o,n,i)=>n in o?j2(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,Nt=(o,n,i)=>w2(o,typeof n!="symbol"?n+"":n,i);const N2=1e3,D2=1001,k2=1005,S2=4040,wf={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function _2(o){if(o===void 0)return"Unknown";for(const n of Object.keys(wf))if(o.startsWith(n))return n;return"Unknown"}class M2{constructor(n,i,l,c,d){this.markConnectionStateDirty=d,Nt(this,"socket"),Nt(this,"connectionCount"),Nt(this,"_hasEverConnected",!1),Nt(this,"lastCloseReason"),Nt(this,"defaultInitialBackoff"),Nt(this,"maxBackoff"),Nt(this,"retries"),Nt(this,"serverInactivityThreshold"),Nt(this,"reconnectDueToServerInactivityTimeout"),Nt(this,"uri"),Nt(this,"onOpen"),Nt(this,"onResume"),Nt(this,"onMessage"),Nt(this,"webSocketConstructor"),Nt(this,"logger"),Nt(this,"onServerDisconnectError"),this.webSocketConstructor=l,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=n,this.onOpen=i.onOpen,this.onResume=i.onResume,this.onMessage=i.onMessage,this.onServerDisconnectError=i.onServerDisconnectError,this.logger=c,this.connect()}setSocketState(n){this.socket=n,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const n=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:n,paused:"no"}),this.resetServerInactivityTimeout(),n.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:n,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason})),this.lastCloseReason!=="InitialConnect"&&this.logger.log("WebSocket reconnected"),this.connectionCount+=1,this.lastCloseReason=null},n.onerror=i=>{const l=i.message;this.logger.log(`WebSocket error: ${l}`)},n.onmessage=i=>{this.resetServerInactivityTimeout();const l=A2(JSON.parse(i.data));this._logVerbose(`received ws message with type ${l.type}`),this.onMessage(l).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},n.onclose=i=>{if(this._logVerbose("begin ws.onclose"),this.lastCloseReason===null&&(this.lastCloseReason=i.reason??"OnCloseInvoked"),i.code!==N2&&i.code!==D2&&i.code!==k2&&i.code!==S2){let c=`WebSocket closed with code ${i.code}`;i.reason&&(c+=`: ${i.reason}`),this.logger.log(c),this.onServerDisconnectError&&i.reason&&this.onServerDisconnectError(c)}const l=_2(i.reason);this.scheduleReconnect(l)}}socketState(){return this.socket.state}sendMessage(n){const i={type:n.type,...n.type==="Authenticate"&&n.tokenType==="User"?{value:`...${n.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const l=F2(n),c=JSON.stringify(l);try{this.socket.ws.send(c)}catch(d){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${d}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`sent message with type ${n.type}: ${JSON.stringify(i)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(i)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(n){this.socket={state:"disconnected"};const i=this.nextBackoff(n);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${i}ms`),setTimeout(()=>this.connect(),i)}closeAndReconnect(n){switch(this._logVerbose(`begin closeAndReconnect with reason ${n}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=n,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const n=this.socket.ws;return new Promise(i=>{n.onclose=()=>{this._logVerbose("Closed after connecting"),i()},n.onopen=()=>{this._logVerbose("Opened after connecting"),n.close()}})}case"ready":{this._logVerbose("ws.close called");const n=this.socket.ws,i=new Promise(l=>{n.onclose=()=>{l()}});return n.close(),i}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const n=this.close();return this.setSocketState({state:"terminated"}),n}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{const n=this.close();return this.socket={state:"stopped"},n}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(n){this.logger.logVerbose(n)}nextBackoff(n){const l=(n==="client"?100:n==="Unknown"?this.defaultInitialBackoff:wf[n].timeout)*Math.pow(2,this.retries);this.retries+=1;const c=Math.min(l,this.maxBackoff),d=c*(Math.random()-.5);return c+d}}function R2(){return T2()}function T2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,o=>{const n=Math.random()*16|0;return(o==="x"?n:n&3|8).toString(16)})}class Wn extends Error{}Wn.prototype.name="InvalidTokenError";function P2(o){return decodeURIComponent(atob(o).replace(/(.)/g,(n,i)=>{let l=i.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}))}function L2(o){let n=o.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return P2(n)}catch{return atob(n)}}function O2(o,n){if(typeof o!="string")throw new Wn("Invalid token specified: must be a string");n||(n={});const i=n.header===!0?0:1,l=o.split(".")[i];if(typeof l!="string")throw new Wn(`Invalid token specified: missing part #${i+1}`);let c;try{c=L2(l)}catch(d){throw new Wn(`Invalid token specified: invalid base64 for part #${i+1} (${d.message})`)}try{return JSON.parse(c)}catch(d){throw new Wn(`Invalid token specified: invalid json for part #${i+1} (${d.message})`)}}var U2=Object.defineProperty,q2=(o,n,i)=>n in o?U2(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,xs=(o,n,i)=>q2(o,typeof n!="symbol"?n+"":n,i);const z2=480*60*60*1e3,Ch=2;class V2{constructor(n,i,l){xs(this,"authState",{state:"noAuth"}),xs(this,"configVersion",0),xs(this,"syncState"),xs(this,"authenticate"),xs(this,"stopSocket"),xs(this,"tryRestartSocket"),xs(this,"pauseSocket"),xs(this,"resumeSocket"),xs(this,"clearAuth"),xs(this,"logger"),xs(this,"refreshTokenLeewaySeconds"),xs(this,"tokenConfirmationAttempts",0),this.syncState=n,this.authenticate=i.authenticate,this.stopSocket=i.stopSocket,this.tryRestartSocket=i.tryRestartSocket,this.pauseSocket=i.pauseSocket,this.resumeSocket=i.resumeSocket,this.clearAuth=i.clearAuth,this.logger=l.logger,this.refreshTokenLeewaySeconds=l.refreshTokenLeewaySeconds}async setConfig(n,i){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const l=await this.fetchTokenAndGuardAgainstRace(n,{forceRefreshToken:!1});l.isFromOutdatedConfig||(l.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:n,onAuthChange:i},hasRetried:!1}),this.authenticate(l.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:n,onAuthChange:i}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(n){if(this.syncState.isCurrentOrNewerAuthVersion(n.endVersion.identity)&&!(n.endVersion.identity<=n.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(n){if(n.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:i}=n;if(!this.syncState.isCurrentOrNewerAuthVersion(i+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(n)}async tryToReauthenticate(n){if(this._logVerbose(`attempting to reauthenticate: ${n.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=Ch){this.logger.error(`Failed to authenticate: "${n.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${Ch-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const i=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});i.isFromOutdatedConfig||(i.value&&this.syncState.isNewAuth(i.value)?(this.authenticate(i.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:i.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const n=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});n.isFromOutdatedConfig||(n.value?this.syncState.isNewAuth(n.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:n.value,config:this.authState.config}),this.authenticate(n.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(n){if(this.authState.state==="noAuth")return;const i=this.decodeToken(n);if(!i){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:l,exp:c}=i;if(!l||!c){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const d=c-l;if(d<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let m=Math.min(z2,(d-this.refreshTokenLeewaySeconds)*1e3);m<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${d}s`),m=0);const g=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},m);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:g,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${m}ms`)}async fetchTokenAndGuardAgainstRace(n,i){const l=++this.configVersion;this._logVerbose(`fetching token with config version ${l}`);const c=await n(i);return this.configVersion!==l?(this._logVerbose(`stale config version, expected ${l}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:c}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(n){n(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(n){const i=n.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:n.hadAuth,state:n.state,token:`...${n.token.slice(-7)}`}:{state:n.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(i)}`),n.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=n}decodeToken(n){try{return O2(n)}catch(i){return this._logVerbose(`Error decoding token: ${i instanceof Error?i.message:"Unknown error"}`),null}}_logVerbose(n){this.logger.logVerbose(`${n} [v${this.configVersion}]`)}}const Q2=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function H2(o,n){const i={sessionId:n};typeof performance>"u"||!performance.mark||performance.mark(o,{detail:i})}function $2(o){let n=o.name.slice(6);return n=n.charAt(0).toLowerCase()+n.slice(1),{name:n,startTime:o.startTime}}function Y2(o){if(typeof performance>"u"||!performance.getEntriesByName)return[];const n=[];for(const i of Q2){const l=performance.getEntriesByName(i).filter(c=>c.entryType==="mark").filter(c=>c.detail.sessionId===o);n.push(...l)}return n.map($2)}var G2=Object.defineProperty,I2=(o,n,i)=>n in o?G2(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,lt=(o,n,i)=>I2(o,typeof n!="symbol"?n+"":n,i);class X2{constructor(n,i,l){if(lt(this,"address"),lt(this,"state"),lt(this,"requestManager"),lt(this,"webSocketManager"),lt(this,"authenticationManager"),lt(this,"remoteQuerySet"),lt(this,"optimisticQueryResults"),lt(this,"_transitionHandlerCounter",0),lt(this,"_nextRequestId"),lt(this,"_onTransitionFns",new Map),lt(this,"_sessionId"),lt(this,"firstMessageReceived",!1),lt(this,"debug"),lt(this,"logger"),lt(this,"maxObservedTimestamp"),lt(this,"connectionStateSubscribers",new Map),lt(this,"nextConnectionStateSubscriberId",0),lt(this,"_lastPublishedConnectionState"),lt(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{const b=this.connectionState();if(JSON.stringify(b)!==JSON.stringify(this._lastPublishedConnectionState)){this._lastPublishedConnectionState=b;for(const B of this.connectionStateSubscribers.values())B(b)}})}),lt(this,"mark",b=>{this.debug&&H2(b,this.sessionId)}),typeof n=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");l?.skipConvexDeploymentUrlCheck!==!0&&z9(n),l={...l};const c=l.authRefreshTokenLeewaySeconds??2;let d=l.webSocketConstructor;if(!d&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");d=d||WebSocket,this.debug=l.reportDebugInfoToConvex??!1,this.address=n,this.logger=l.logger===!1?Af({verbose:l.verbose??!1}):l.logger!==!0&&l.logger?l.logger:Bf({verbose:l.verbose??!1});const m=n.search("://");if(m===-1)throw new Error("Provided address was not an absolute URL.");const g=n.substring(m+3),h=n.substring(0,m);let f;if(h==="http")f="ws";else if(h==="https")f="wss";else throw new Error(`Unknown parent protocol ${h}`);const E=`${f}://${g}/api/${ph}/sync`;this.state=new n2,this.remoteQuerySet=new vh(b=>this.state.queryPath(b),this.logger),this.requestManager=new i2(this.logger,this.markConnectionStateDirty);const p=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new V2(this.state,{authenticate:b=>{const B=this.state.setAuth(b);return this.webSocketManager.sendMessage(B),B.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:p,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:c}),this.optimisticQueryResults=new g2,this.addOnTransitionHandler(b=>{i(b.queries.map(B=>B.token))}),this._nextRequestId=0,this._sessionId=R2();const{unsavedChangesWarning:v}=l;if(typeof window>"u"||typeof window.addEventListener>"u"){if(v===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else v!==!1&&window.addEventListener("beforeunload",b=>{if(this.requestManager.hasIncompleteRequests()){b.preventDefault();const B="Are you sure you want to leave? Your changes may not be saved.";return(b||window.event).returnValue=B,B}});this.webSocketManager=new M2(E,{onOpen:b=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...b,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const B=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new vh(A=>this.state.queryPath(A),this.logger);const[y,_]=this.state.restart(B);_&&this.webSocketManager.sendMessage(_),this.webSocketManager.sendMessage(y);for(const A of this.requestManager.restart())this.webSocketManager.sendMessage(A)},onResume:()=>{const[b,B]=this.state.resume();B&&this.webSocketManager.sendMessage(B),b&&this.webSocketManager.sendMessage(b);for(const y of this.requestManager.resume())this.webSocketManager.sendMessage(y)},onMessage:b=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),b.type){case"Transition":{this.observedTimestamp(b.endVersion.ts),this.authenticationManager.onTransition(b),this.remoteQuerySet.transition(b),this.state.transition(b);const B=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(B);break}case"MutationResponse":{b.success&&this.observedTimestamp(b.ts);const B=this.requestManager.onResponse(b);B!==null&&this.notifyOnQueryResultChanges(new Map([[B.requestId,B.result]]));break}case"ActionResponse":{this.requestManager.onResponse(b);break}case"AuthError":{this.authenticationManager.onAuthError(b);break}case"FatalError":{const B=s2(this.logger,b.error);throw this.webSocketManager.terminate(),B}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:l.onServerDisconnectError},d,this.logger,this.markConnectionStateDirty),this.mark("convexClientConstructed"),l.expectAuth&&p()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(n){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(n))&&(this.maxObservedTimestamp=n)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(n){const i=this.remoteQuerySet.remoteQueryResults(),l=new Map;for(const[d,m]of i){const g=this.state.queryToken(d);if(g!==null){const h={result:m,udfPath:this.state.queryPath(d),args:this.state.queryArgs(d)};l.set(g,h)}}const c=this.optimisticQueryResults.ingestQueryResultsFromServer(l,new Set(n.keys()));this.handleTransition({queries:c.map(d=>{const m=this.optimisticQueryResults.rawQueryResult(d);return{token:d,modification:{kind:"Updated",result:m.result}}}),reflectedMutations:Array.from(n).map(([d,m])=>({requestId:d,result:m})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(n){for(const i of this._onTransitionFns.values())i(n)}addOnTransitionHandler(n){const i=this._transitionHandlerCounter++;return this._onTransitionFns.set(i,n),()=>this._onTransitionFns.delete(i)}setAuth(n,i){this.authenticationManager.setConfig(n,i)}hasAuth(){return this.state.hasAuth()}setAdminAuth(n,i){const l=this.state.setAdminAuth(n,i);this.webSocketManager.sendMessage(l)}clearAuth(){const n=this.state.clearAuth();this.webSocketManager.sendMessage(n)}subscribe(n,i,l){const c=Zs(i),{modification:d,queryToken:m,unsubscribe:g}=this.state.subscribe(n,c,l?.journal,l?.componentPath);return d!==null&&this.webSocketManager.sendMessage(d),{queryToken:m,unsubscribe:()=>{const h=g();h&&this.webSocketManager.sendMessage(h)}}}localQueryResult(n,i){const l=Zs(i),c=Za(n,l);return this.optimisticQueryResults.queryResult(c)}localQueryResultByToken(n){return this.optimisticQueryResults.queryResult(n)}hasLocalQueryResultByToken(n){return this.optimisticQueryResults.hasQueryResult(n)}localQueryLogs(n,i){const l=Zs(i),c=Za(n,l);return this.optimisticQueryResults.queryLogs(c)}queryJournal(n,i){const l=Zs(i),c=Za(n,l);return this.state.queryJournal(c)}connectionState(){const n=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:n.isConnected,hasEverConnected:n.hasEverConnected,connectionCount:n.connectionCount,connectionRetries:n.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(n){const i=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(i,n),()=>{this.connectionStateSubscribers.delete(i)}}async mutation(n,i,l){const c=await this.mutationInternal(n,i,l);if(!c.success)throw c.errorData!==void 0?Qx(c,new Vx(zr("mutation",n,c))):new Error(zr("mutation",n,c));return c.value}async mutationInternal(n,i,l,c){const{mutationPromise:d}=this.enqueueMutation(n,i,l,c);return d}enqueueMutation(n,i,l,c){const d=Zs(i);this.tryReportLongDisconnect();const m=this.nextRequestId;if(this._nextRequestId++,l!==void 0){const E=l.optimisticUpdate;if(E!==void 0){const p=B=>{E(B,d)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},b=this.optimisticQueryResults.applyOptimisticUpdate(p,m).map(B=>{const y=this.localQueryResultByToken(B);return{token:B,modification:{kind:"Updated",result:y===void 0?void 0:{success:!0,value:y,logLines:[]}}}});this.handleTransition({queries:b,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const g={type:"Mutation",requestId:m,udfPath:n,componentPath:c,args:[Na(d)]},h=this.webSocketManager.sendMessage(g),f=this.requestManager.request(g,h);return{requestId:m,mutationPromise:f}}async action(n,i){const l=await this.actionInternal(n,i);if(!l.success)throw l.errorData!==void 0?Qx(l,new Vx(zr("action",n,l))):new Error(zr("action",n,l));return l.value}async actionInternal(n,i,l){const c=Zs(i),d=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const m={type:"Action",requestId:d,udfPath:n,componentPath:l,args:[Na(c)]},g=this.webSocketManager.sendMessage(m);return this.requestManager.request(m,g)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const n=Y2(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:n})}}tryReportLongDisconnect(){if(!this.debug)return;const n=this.connectionState().timeOfOldestInflightRequest;if(n===null||Date.now()-n.getTime()<=60*1e3)return;const i=`${this.address}/api/debug_event`;fetch(i,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${ph}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(l=>{l.ok||this.logger.warn("Analytics request failed with response:",l.body)}).catch(l=>{this.logger.warn("Analytics response failed with error:",l)})}}function Z2({getCurrentValue:o,subscribe:n}){const[i,l]=F.useState(()=>({getCurrentValue:o,subscribe:n,value:o()}));let c=i.value;return(i.getCurrentValue!==o||i.subscribe!==n)&&(c=o(),l({getCurrentValue:o,subscribe:n,value:c})),F.useEffect(()=>{let d=!1;const m=()=>{d||l(h=>{if(h.getCurrentValue!==o||h.subscribe!==n)return h;const f=o();return h.value===f?h:{...h,value:f}})},g=n(m);return m(),()=>{d=!0,g()}},[o,n]),c}var K2=Object.defineProperty,J2=(o,n,i)=>n in o?K2(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,Fa=(o,n,i)=>J2(o,typeof n!="symbol"?n+"":n,i);const W2=5e3;if(typeof wa>"u")throw new Error("Required dependency 'react' not found");function Nf(o,n,i){function l(c){return a1(c),n.mutation(o,c,{optimisticUpdate:i})}return l.withOptimisticUpdate=function(d){if(i!==void 0)throw new Error(`Already specified optimistic update for mutation ${Kt(o)}`);return Nf(o,n,d)},l}class e1{constructor(n,i){if(Fa(this,"address"),Fa(this,"cachedSync"),Fa(this,"listeners"),Fa(this,"options"),Fa(this,"closed",!1),Fa(this,"_logger"),Fa(this,"adminAuth"),Fa(this,"fakeUserIdentity"),n===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof n!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof n} instead.`);if(!n.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=n,this.listeners=new Map,this._logger=i?.logger===!1?Af({verbose:i?.verbose??!1}):i?.logger!==!0&&i?.logger?i.logger:Bf({verbose:i?.verbose??!1}),this.options={...i,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new X2(this.address,n=>this.transition(n),this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedSync)}setAuth(n,i){if(typeof n=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(n,i??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(n,i){if(this.adminAuth=n,this.fakeUserIdentity=i,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(n,i)}watchQuery(n,...i){const[l,c]=i,d=Kt(n);return{onUpdate:m=>{const{queryToken:g,unsubscribe:h}=this.sync.subscribe(d,l,c),f=this.listeners.get(g);return f!==void 0?f.add(m):this.listeners.set(g,new Set([m])),()=>{if(this.closed)return;const E=this.listeners.get(g);E.delete(m),E.size===0&&this.listeners.delete(g),h()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(d,l)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(d,l)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(d,l)}}}prewarmQuery(n){const i=n.extendSubscriptionFor??W2,c=this.watchQuery(n.query,n.args||{}).onUpdate(()=>{});setTimeout(c,i)}mutation(n,...i){const[l,c]=i,d=Kt(n);return this.sync.mutation(d,l,c)}action(n,...i){const l=Kt(n);return this.sync.action(l,...i)}query(n,...i){const l=this.watchQuery(n,...i),c=l.localQueryResult();return c!==void 0?Promise.resolve(c):new Promise((d,m)=>{const g=l.onUpdate(()=>{g();try{d(l.localQueryResult())}catch(h){m(h)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(n){return this.sync.subscribeToConnectionState(n)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedSync){const n=this.cachedSync;this.cachedSync=void 0,await n.close()}}transition(n){for(const i of n){const l=this.listeners.get(i);if(l)for(const c of l)c()}}}const Wx=wa.createContext(void 0);function t1(){return F.useContext(Wx)}const s1=({client:o,children:n})=>wa.createElement(Wx.Provider,{value:o},n);function we(o,...n){const i=n[0]==="skip",l=n[0]==="skip"?{}:Zs(n[0]),c=typeof o=="string"?Ff(o):o,d=Kt(c),m=F.useMemo(()=>i?{}:{query:{query:c,args:l}},[JSON.stringify(Na(l)),d,i]),h=o1(m).query;if(h instanceof Error)throw h;return h}function Ne(o){const n=typeof o=="string"?Ff(o):o,i=F.useContext(Wx);if(i===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return F.useMemo(()=>Nf(n,i),[i,Kt(n)])}function a1(o){if(typeof o=="object"&&o!==null&&"bubbles"in o&&"persist"in o&&"isDefaultPrevented"in o)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var r1=Object.defineProperty,n1=(o,n,i)=>n in o?r1(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,mx=(o,n,i)=>n1(o,typeof n!="symbol"?n+"":n,i);class l1{constructor(n){mx(this,"createWatch"),mx(this,"queries"),mx(this,"listeners"),this.createWatch=n,this.queries={},this.listeners=new Set}setQueries(n){for(const i of Object.keys(n)){const{query:l,args:c}=n[i];if(Kt(l),this.queries[i]===void 0)this.addQuery(i,l,c);else{const d=this.queries[i];(Kt(l)!==Kt(d.query)||JSON.stringify(Na(c))!==JSON.stringify(Na(d.args)))&&(this.removeQuery(i),this.addQuery(i,l,c))}}for(const i of Object.keys(this.queries))n[i]===void 0&&this.removeQuery(i)}subscribe(n){return this.listeners.add(n),()=>{this.listeners.delete(n)}}getLocalResults(n){const i={};for(const l of Object.keys(n)){const{query:c,args:d}=n[l];Kt(c);const m=this.createWatch(c,d);let g;try{g=m.localQueryResult()}catch(h){if(h instanceof Error)g=h;else throw h}i[l]=g}return i}setCreateWatch(n){this.createWatch=n;for(const i of Object.keys(this.queries)){const{query:l,args:c,watch:d}=this.queries[i],m=d.journal();this.removeQuery(i),this.addQuery(i,l,c,m)}}destroy(){for(const n of Object.keys(this.queries))this.removeQuery(n);this.listeners=new Set}addQuery(n,i,l,c){if(this.queries[n]!==void 0)throw new Error(`Tried to add a new query with identifier ${n} when it already exists.`);const d=this.createWatch(i,l,c),m=d.onUpdate(()=>this.notifyListeners());this.queries[n]={query:i,args:l,watch:d,unsubscribe:m}}removeQuery(n){const i=this.queries[n];if(i===void 0)throw new Error(`No query found with identifier ${n}.`);i.unsubscribe(),delete this.queries[n]}notifyListeners(){for(const n of this.listeners)n()}}function o1(o){const n=t1();if(n===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const i=F.useMemo(()=>(l,c,d)=>n.watchQuery(l,c,{journal:d}),[n]);return i1(o,i)}function i1(o,n){const[i]=F.useState(()=>new l1(n));i.createWatch!==n&&i.setCreateWatch(n),F.useEffect(()=>()=>i.destroy(),[i]);const l=F.useMemo(()=>({getCurrentValue:()=>i.getLocalResults(o),subscribe:c=>(i.setQueries(o),i.subscribe(c))}),[i,o]);return Z2(l)}/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bh="popstate";function x1(o={}){function n(l,c){let{pathname:d,search:m,hash:g}=l.location;return Hx("",{pathname:d,search:m,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(l,c){return typeof c=="string"?c:ol(c)}return d1(n,i,null,o)}function Ze(o,n){if(o===!1||o===null||typeof o>"u")throw new Error(n)}function ps(o,n){if(!o){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function c1(){return Math.random().toString(36).substring(2,10)}function Ah(o,n){return{usr:o.state,key:o.key,idx:n}}function Hx(o,n,i=null,l){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof n=="string"?$r(n):n,state:i,key:n&&n.key||l||c1()}}function ol({pathname:o="/",search:n="",hash:i=""}){return n&&n!=="?"&&(o+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(o+=i.charAt(0)==="#"?i:"#"+i),o}function $r(o){let n={};if(o){let i=o.indexOf("#");i>=0&&(n.hash=o.substring(i),o=o.substring(0,i));let l=o.indexOf("?");l>=0&&(n.search=o.substring(l),o=o.substring(0,l)),o&&(n.pathname=o)}return n}function d1(o,n,i,l={}){let{window:c=document.defaultView,v5Compat:d=!1}=l,m=c.history,g="POP",h=null,f=E();f==null&&(f=0,m.replaceState({...m.state,idx:f},""));function E(){return(m.state||{idx:null}).idx}function p(){g="POP";let _=E(),A=_==null?null:_-f;f=_,h&&h({action:g,location:y.location,delta:A})}function v(_,A){g="PUSH";let Q=Hx(y.location,_,A);f=E()+1;let w=Ah(Q,f),j=y.createHref(Q);try{m.pushState(w,"",j)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;c.location.assign(j)}d&&h&&h({action:g,location:y.location,delta:1})}function b(_,A){g="REPLACE";let Q=Hx(y.location,_,A);f=E();let w=Ah(Q,f),j=y.createHref(Q);m.replaceState(w,"",j),d&&h&&h({action:g,location:y.location,delta:0})}function B(_){return u1(_)}let y={get action(){return g},get location(){return o(c,m)},listen(_){if(h)throw new Error("A history only accepts one active listener");return c.addEventListener(Bh,p),h=_,()=>{c.removeEventListener(Bh,p),h=null}},createHref(_){return n(c,_)},createURL:B,encodeLocation(_){let A=B(_);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:b,go(_){return m.go(_)}};return y}function u1(o,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(i,"No window.location.(origin|href) available to create URL");let l=typeof o=="string"?o:ol(o);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function Df(o,n,i="/"){return m1(o,n,i,!1)}function m1(o,n,i,l){let c=typeof n=="string"?$r(n):n,d=Ws(c.pathname||"/",i);if(d==null)return null;let m=kf(o);h1(m);let g=null;for(let h=0;g==null&&h<m.length;++h){let f=F1(d);g=B1(m[h],f,l)}return g}function kf(o,n=[],i=[],l=""){let c=(d,m,g)=>{let h={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};h.relativePath.startsWith("/")&&(Ze(h.relativePath.startsWith(l),`Absolute route path "${h.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(l.length));let f=Ks([l,h.relativePath]),E=i.concat(h);d.children&&d.children.length>0&&(Ze(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),kf(d.children,n,E,f)),!(d.path==null&&!d.index)&&n.push({path:f,score:v1(f,d.index),routesMeta:E})};return o.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))c(d,m);else for(let g of Sf(d.path))c(d,m,g)}),n}function Sf(o){let n=o.split("/");if(n.length===0)return[];let[i,...l]=n,c=i.endsWith("?"),d=i.replace(/\?$/,"");if(l.length===0)return c?[d,""]:[d];let m=Sf(l.join("/")),g=[];return g.push(...m.map(h=>h===""?d:[d,h].join("/"))),c&&g.push(...m),g.map(h=>o.startsWith("/")&&h===""?"/":h)}function h1(o){o.sort((n,i)=>n.score!==i.score?i.score-n.score:C1(n.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var f1=/^:[\w-]+$/,g1=3,p1=2,E1=1,b1=10,y1=-2,Fh=o=>o==="*";function v1(o,n){let i=o.split("/"),l=i.length;return i.some(Fh)&&(l+=y1),n&&(l+=p1),i.filter(c=>!Fh(c)).reduce((c,d)=>c+(f1.test(d)?g1:d===""?E1:b1),l)}function C1(o,n){return o.length===n.length&&o.slice(0,-1).every((l,c)=>l===n[c])?o[o.length-1]-n[n.length-1]:0}function B1(o,n,i=!1){let{routesMeta:l}=o,c={},d="/",m=[];for(let g=0;g<l.length;++g){let h=l[g],f=g===l.length-1,E=d==="/"?n:n.slice(d.length)||"/",p=Vo({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},E),v=h.route;if(!p&&f&&i&&!l[l.length-1].route.index&&(p=Vo({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},E)),!p)return null;Object.assign(c,p.params),m.push({params:c,pathname:Ks([d,p.pathname]),pathnameBase:D1(Ks([d,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(d=Ks([d,p.pathnameBase]))}return m}function Vo(o,n){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[i,l]=A1(o.path,o.caseSensitive,o.end),c=n.match(i);if(!c)return null;let d=c[0],m=d.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:l.reduce((f,{paramName:E,isOptional:p},v)=>{if(E==="*"){let B=g[v]||"";m=d.slice(0,d.length-B.length).replace(/(.)\/+$/,"$1")}const b=g[v];return p&&!b?f[E]=void 0:f[E]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:d,pathnameBase:m,pattern:o}}function A1(o,n=!1,i=!0){ps(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let l=[],c="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,g,h)=>(l.push({paramName:g,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(l.push({paramName:"*"}),c+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":o!==""&&o!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),l]}function F1(o){try{return o.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ps(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),o}}function Ws(o,n){if(n==="/")return o;if(!o.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,l=o.charAt(i);return l&&l!=="/"?null:o.slice(i)||"/"}function j1(o,n="/"){let{pathname:i,search:l="",hash:c=""}=typeof o=="string"?$r(o):o;return{pathname:i?i.startsWith("/")?i:w1(i,n):n,search:k1(l),hash:S1(c)}}function w1(o,n){let i=n.replace(/\/+$/,"").split("/");return o.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function hx(o,n,i,l){return`Cannot include a '${o}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N1(o){return o.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function ec(o){let n=N1(o);return n.map((i,l)=>l===n.length-1?i.pathname:i.pathnameBase)}function tc(o,n,i,l=!1){let c;typeof o=="string"?c=$r(o):(c={...o},Ze(!c.pathname||!c.pathname.includes("?"),hx("?","pathname","search",c)),Ze(!c.pathname||!c.pathname.includes("#"),hx("#","pathname","hash",c)),Ze(!c.search||!c.search.includes("#"),hx("#","search","hash",c)));let d=o===""||c.pathname==="",m=d?"/":c.pathname,g;if(m==null)g=i;else{let p=n.length-1;if(!l&&m.startsWith("..")){let v=m.split("/");for(;v[0]==="..";)v.shift(),p-=1;c.pathname=v.join("/")}g=p>=0?n[p]:"/"}let h=j1(c,g),f=m&&m!=="/"&&m.endsWith("/"),E=(d||m===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(f||E)&&(h.pathname+="/"),h}var Ks=o=>o.join("/").replace(/\/\/+/g,"/"),D1=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),k1=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,S1=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function _1(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var _f=["POST","PUT","PATCH","DELETE"];new Set(_f);var M1=["GET",..._f];new Set(M1);var Yr=F.createContext(null);Yr.displayName="DataRouter";var Qo=F.createContext(null);Qo.displayName="DataRouterState";F.createContext(!1);var Mf=F.createContext({isTransitioning:!1});Mf.displayName="ViewTransition";var R1=F.createContext(new Map);R1.displayName="Fetchers";var T1=F.createContext(null);T1.displayName="Await";var Es=F.createContext(null);Es.displayName="Navigation";var cl=F.createContext(null);cl.displayName="Location";var Ss=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ss.displayName="Route";var sc=F.createContext(null);sc.displayName="RouteError";function P1(o,{relative:n}={}){Ze(Gr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=F.useContext(Es),{hash:c,pathname:d,search:m}=dl(o,{relative:n}),g=d;return i!=="/"&&(g=d==="/"?i:Ks([i,d])),l.createHref({pathname:g,search:m,hash:c})}function Gr(){return F.useContext(cl)!=null}function ea(){return Ze(Gr(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(cl).location}var Rf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tf(o){F.useContext(Es).static||F.useLayoutEffect(o)}function Ir(){let{isDataRoute:o}=F.useContext(Ss);return o?X1():L1()}function L1(){Ze(Gr(),"useNavigate() may be used only in the context of a <Router> component.");let o=F.useContext(Yr),{basename:n,navigator:i}=F.useContext(Es),{matches:l}=F.useContext(Ss),{pathname:c}=ea(),d=JSON.stringify(ec(l)),m=F.useRef(!1);return Tf(()=>{m.current=!0}),F.useCallback((h,f={})=>{if(ps(m.current,Rf),!m.current)return;if(typeof h=="number"){i.go(h);return}let E=tc(h,JSON.parse(d),c,f.relative==="path");o==null&&n!=="/"&&(E.pathname=E.pathname==="/"?n:Ks([n,E.pathname])),(f.replace?i.replace:i.push)(E,f.state,f)},[n,i,d,c,o])}F.createContext(null);function dl(o,{relative:n}={}){let{matches:i}=F.useContext(Ss),{pathname:l}=ea(),c=JSON.stringify(ec(i));return F.useMemo(()=>tc(o,JSON.parse(c),l,n==="path"),[o,c,l,n])}function O1(o,n){return Pf(o,n)}function Pf(o,n,i,l){Ze(Gr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=F.useContext(Es),{matches:d}=F.useContext(Ss),m=d[d.length-1],g=m?m.params:{},h=m?m.pathname:"/",f=m?m.pathnameBase:"/",E=m&&m.route;{let A=E&&E.path||"";Lf(h,!E||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=ea(),v;if(n){let A=typeof n=="string"?$r(n):n;Ze(f==="/"||A.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),v=A}else v=p;let b=v.pathname||"/",B=b;if(f!=="/"){let A=f.replace(/^\//,"").split("/");B="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let y=Df(o,{pathname:B});ps(E||y!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ps(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Q1(y&&y.map(A=>Object.assign({},A,{params:Object.assign({},g,A.params),pathname:Ks([f,c.encodeLocation?c.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Ks([f,c.encodeLocation?c.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),d,i,l);return n&&_?F.createElement(cl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function U1(){let o=I1(),n=_1(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),i=o instanceof Error?o.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",o),m=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:d},"ErrorBoundary")," or"," ",F.createElement("code",{style:d},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},n),i?F.createElement("pre",{style:c},i):null,m)}var q1=F.createElement(U1,null),z1=class extends F.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,n){return n.location!==o.location||n.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:n.error,location:n.location,revalidation:o.revalidation||n.revalidation}}componentDidCatch(o,n){console.error("React Router caught the following error during render",o,n)}render(){return this.state.error!==void 0?F.createElement(Ss.Provider,{value:this.props.routeContext},F.createElement(sc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function V1({routeContext:o,match:n,children:i}){let l=F.useContext(Yr);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(Ss.Provider,{value:o},i)}function Q1(o,n=[],i=null,l=null){if(o==null){if(!i)return null;if(i.errors)o=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)o=i.matches;else return null}let c=o,d=i?.errors;if(d!=null){let h=c.findIndex(f=>f.route.id&&d?.[f.route.id]!==void 0);Ze(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,h+1))}let m=!1,g=-1;if(i)for(let h=0;h<c.length;h++){let f=c[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(g=h),f.route.id){let{loaderData:E,errors:p}=i,v=f.route.loader&&!E.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((h,f,E)=>{let p,v=!1,b=null,B=null;i&&(p=d&&f.route.id?d[f.route.id]:void 0,b=f.route.errorElement||q1,m&&(g<0&&E===0?(Lf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,B=null):g===E&&(v=!0,B=f.route.hydrateFallbackElement||null)));let y=n.concat(c.slice(0,E+1)),_=()=>{let A;return p?A=b:v?A=B:f.route.Component?A=F.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=h,F.createElement(V1,{match:f,routeContext:{outlet:h,matches:y,isDataRoute:i!=null},children:A})};return i&&(f.route.ErrorBoundary||f.route.errorElement||E===0)?F.createElement(z1,{location:i.location,revalidation:i.revalidation,component:b,error:p,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}function ac(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H1(o){let n=F.useContext(Yr);return Ze(n,ac(o)),n}function $1(o){let n=F.useContext(Qo);return Ze(n,ac(o)),n}function Y1(o){let n=F.useContext(Ss);return Ze(n,ac(o)),n}function rc(o){let n=Y1(o),i=n.matches[n.matches.length-1];return Ze(i.route.id,`${o} can only be used on routes that contain a unique "id"`),i.route.id}function G1(){return rc("useRouteId")}function I1(){let o=F.useContext(sc),n=$1("useRouteError"),i=rc("useRouteError");return o!==void 0?o:n.errors?.[i]}function X1(){let{router:o}=H1("useNavigate"),n=rc("useNavigate"),i=F.useRef(!1);return Tf(()=>{i.current=!0}),F.useCallback(async(c,d={})=>{ps(i.current,Rf),i.current&&(typeof c=="number"?o.navigate(c):await o.navigate(c,{fromRouteId:n,...d}))},[o,n])}var jh={};function Lf(o,n,i){!n&&!jh[o]&&(jh[o]=!0,ps(!1,i))}F.memo(Z1);function Z1({routes:o,future:n,state:i}){return Pf(o,void 0,i,n)}function il({to:o,replace:n,state:i,relative:l}){Ze(Gr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=F.useContext(Es);ps(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=F.useContext(Ss),{pathname:m}=ea(),g=Ir(),h=tc(o,ec(d),m,l==="path"),f=JSON.stringify(h);return F.useEffect(()=>{g(JSON.parse(f),{replace:n,state:i,relative:l})},[g,f,l,n,i]),null}function Xs(o){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K1({basename:o="/",children:n=null,location:i,navigationType:l="POP",navigator:c,static:d=!1}){Ze(!Gr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=o.replace(/^\/*/,"/"),g=F.useMemo(()=>({basename:m,navigator:c,static:d,future:{}}),[m,c,d]);typeof i=="string"&&(i=$r(i));let{pathname:h="/",search:f="",hash:E="",state:p=null,key:v="default"}=i,b=F.useMemo(()=>{let B=Ws(h,m);return B==null?null:{location:{pathname:B,search:f,hash:E,state:p,key:v},navigationType:l}},[m,h,f,E,p,v,l]);return ps(b!=null,`<Router basename="${m}"> is not able to match the URL "${h}${f}${E}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:F.createElement(Es.Provider,{value:g},F.createElement(cl.Provider,{children:n,value:b}))}function J1({children:o,location:n}){return O1($x(o),n)}function $x(o,n=[]){let i=[];return F.Children.forEach(o,(l,c)=>{if(!F.isValidElement(l))return;let d=[...n,c];if(l.type===F.Fragment){i.push.apply(i,$x(l.props.children,d));return}Ze(l.type===Xs,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=$x(l.props.children,d)),i.push(m)}),i}var Po="get",Lo="application/x-www-form-urlencoded";function Ho(o){return o!=null&&typeof o.tagName=="string"}function W1(o){return Ho(o)&&o.tagName.toLowerCase()==="button"}function e6(o){return Ho(o)&&o.tagName.toLowerCase()==="form"}function t6(o){return Ho(o)&&o.tagName.toLowerCase()==="input"}function s6(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function a6(o,n){return o.button===0&&(!n||n==="_self")&&!s6(o)}var _o=null;function r6(){if(_o===null)try{new FormData(document.createElement("form"),0),_o=!1}catch{_o=!0}return _o}var n6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fx(o){return o!=null&&!n6.has(o)?(ps(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lo}"`),null):o}function l6(o,n){let i,l,c,d,m;if(e6(o)){let g=o.getAttribute("action");l=g?Ws(g,n):null,i=o.getAttribute("method")||Po,c=fx(o.getAttribute("enctype"))||Lo,d=new FormData(o)}else if(W1(o)||t6(o)&&(o.type==="submit"||o.type==="image")){let g=o.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=o.getAttribute("formaction")||g.getAttribute("action");if(l=h?Ws(h,n):null,i=o.getAttribute("formmethod")||g.getAttribute("method")||Po,c=fx(o.getAttribute("formenctype"))||fx(g.getAttribute("enctype"))||Lo,d=new FormData(g,o),!r6()){let{name:f,type:E,value:p}=o;if(E==="image"){let v=f?`${f}.`:"";d.append(`${v}x`,"0"),d.append(`${v}y`,"0")}else f&&d.append(f,p)}}else{if(Ho(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Po,l=null,c=Lo,m=o}return d&&c==="text/plain"&&(m=d,d=void 0),{action:l,method:i.toLowerCase(),encType:c,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nc(o,n){if(o===!1||o===null||typeof o>"u")throw new Error(n)}function o6(o,n,i){let l=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return l.pathname==="/"?l.pathname=`_root.${i}`:n&&Ws(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function i6(o,n){if(o.id in n)return n[o.id];try{let i=await import(o.module);return n[o.id]=i,i}catch(i){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function x6(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function c6(o,n,i){let l=await Promise.all(o.map(async c=>{let d=n.routes[c.route.id];if(d){let m=await i6(d,i);return m.links?m.links():[]}return[]}));return h6(l.flat(1).filter(x6).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function wh(o,n,i,l,c,d){let m=(h,f)=>i[f]?h.route.id!==i[f].route.id:!0,g=(h,f)=>i[f].pathname!==h.pathname||i[f].route.path?.endsWith("*")&&i[f].params["*"]!==h.params["*"];return d==="assets"?n.filter((h,f)=>m(h,f)||g(h,f)):d==="data"?n.filter((h,f)=>{let E=l.routes[h.route.id];if(!E||!E.hasLoader)return!1;if(m(h,f)||g(h,f))return!0;if(h.route.shouldRevalidate){let p=h.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(o,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function d6(o,n,{includeHydrateFallback:i}={}){return u6(o.map(l=>{let c=n.routes[l.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function u6(o){return[...new Set(o)]}function m6(o){let n={},i=Object.keys(o).sort();for(let l of i)n[l]=o[l];return n}function h6(o,n){let i=new Set;return new Set(n),o.reduce((l,c)=>{let d=JSON.stringify(m6(c));return i.has(d)||(i.add(d),l.push({key:d,link:c})),l},[])}function Of(){let o=F.useContext(Yr);return nc(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function f6(){let o=F.useContext(Qo);return nc(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var lc=F.createContext(void 0);lc.displayName="FrameworkContext";function Uf(){let o=F.useContext(lc);return nc(o,"You must render this element inside a <HydratedRouter> element"),o}function g6(o,n){let i=F.useContext(lc),[l,c]=F.useState(!1),[d,m]=F.useState(!1),{onFocus:g,onBlur:h,onMouseEnter:f,onMouseLeave:E,onTouchStart:p}=n,v=F.useRef(null);F.useEffect(()=>{if(o==="render"&&m(!0),o==="viewport"){let y=A=>{A.forEach(Q=>{m(Q.isIntersecting)})},_=new IntersectionObserver(y,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[o]),F.useEffect(()=>{if(l){let y=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(y)}}},[l]);let b=()=>{c(!0)},B=()=>{c(!1),m(!1)};return i?o!=="intent"?[d,v,{}]:[d,v,{onFocus:Kn(g,b),onBlur:Kn(h,B),onMouseEnter:Kn(f,b),onMouseLeave:Kn(E,B),onTouchStart:Kn(p,b)}]:[!1,v,{}]}function Kn(o,n){return i=>{o&&o(i),i.defaultPrevented||n(i)}}function p6({page:o,...n}){let{router:i}=Of(),l=F.useMemo(()=>Df(i.routes,o,i.basename),[i.routes,o,i.basename]);return l?F.createElement(b6,{page:o,matches:l,...n}):null}function E6(o){let{manifest:n,routeModules:i}=Uf(),[l,c]=F.useState([]);return F.useEffect(()=>{let d=!1;return c6(o,n,i).then(m=>{d||c(m)}),()=>{d=!0}},[o,n,i]),l}function b6({page:o,matches:n,...i}){let l=ea(),{manifest:c,routeModules:d}=Uf(),{basename:m}=Of(),{loaderData:g,matches:h}=f6(),f=F.useMemo(()=>wh(o,n,h,c,l,"data"),[o,n,h,c,l]),E=F.useMemo(()=>wh(o,n,h,c,l,"assets"),[o,n,h,c,l]),p=F.useMemo(()=>{if(o===l.pathname+l.search+l.hash)return[];let B=new Set,y=!1;if(n.forEach(A=>{let Q=c.routes[A.route.id];!Q||!Q.hasLoader||(!f.some(w=>w.route.id===A.route.id)&&A.route.id in g&&d[A.route.id]?.shouldRevalidate||Q.hasClientLoader?y=!0:B.add(A.route.id))}),B.size===0)return[];let _=o6(o,m,"data");return y&&B.size>0&&_.searchParams.set("_routes",n.filter(A=>B.has(A.route.id)).map(A=>A.route.id).join(",")),[_.pathname+_.search]},[m,g,l,c,f,n,o,d]),v=F.useMemo(()=>d6(E,c),[E,c]),b=E6(E);return F.createElement(F.Fragment,null,p.map(B=>F.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...i})),v.map(B=>F.createElement("link",{key:B,rel:"modulepreload",href:B,...i})),b.map(({key:B,link:y})=>F.createElement("link",{key:B,...y})))}function y6(...o){return n=>{o.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var qf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qf&&(window.__reactRouterVersion="7.7.1")}catch{}function v6({basename:o,children:n,window:i}){let l=F.useRef();l.current==null&&(l.current=x1({window:i,v5Compat:!0}));let c=l.current,[d,m]=F.useState({action:c.action,location:c.location}),g=F.useCallback(h=>{F.startTransition(()=>m(h))},[m]);return F.useLayoutEffect(()=>c.listen(g),[c,g]),F.createElement(K1,{basename:o,children:n,location:d.location,navigationType:d.action,navigator:c})}var zf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ds=F.forwardRef(function({onClick:n,discover:i="render",prefetch:l="none",relative:c,reloadDocument:d,replace:m,state:g,target:h,to:f,preventScrollReset:E,viewTransition:p,...v},b){let{basename:B}=F.useContext(Es),y=typeof f=="string"&&zf.test(f),_,A=!1;if(typeof f=="string"&&y&&(_=f,qf))try{let D=new URL(window.location.href),z=f.startsWith("//")?new URL(D.protocol+f):new URL(f),P=Ws(z.pathname,B);z.origin===D.origin&&P!=null?f=P+z.search+z.hash:A=!0}catch{ps(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=P1(f,{relative:c}),[w,j,M]=g6(l,v),k=F6(f,{replace:m,state:g,target:h,preventScrollReset:E,relative:c,viewTransition:p});function T(D){n&&n(D),D.defaultPrevented||k(D)}let U=F.createElement("a",{...v,...M,href:_||Q,onClick:A||d?n:T,ref:y6(b,j),target:h,"data-discover":!y&&i==="render"?"true":void 0});return w&&!y?F.createElement(F.Fragment,null,U,F.createElement(p6,{page:Q})):U});Ds.displayName="Link";var C6=F.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:l="",end:c=!1,style:d,to:m,viewTransition:g,children:h,...f},E){let p=dl(m,{relative:f.relative}),v=ea(),b=F.useContext(Qo),{navigator:B,basename:y}=F.useContext(Es),_=b!=null&&k6(p)&&g===!0,A=B.encodeLocation?B.encodeLocation(p).pathname:p.pathname,Q=v.pathname,w=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(Q=Q.toLowerCase(),w=w?w.toLowerCase():null,A=A.toLowerCase()),w&&y&&(w=Ws(w,y)||w);const j=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let M=Q===A||!c&&Q.startsWith(A)&&Q.charAt(j)==="/",k=w!=null&&(w===A||!c&&w.startsWith(A)&&w.charAt(A.length)==="/"),T={isActive:M,isPending:k,isTransitioning:_},U=M?n:void 0,D;typeof l=="function"?D=l(T):D=[l,M?"active":null,k?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let z=typeof d=="function"?d(T):d;return F.createElement(Ds,{...f,"aria-current":U,className:D,ref:E,style:z,to:m,viewTransition:g},typeof h=="function"?h(T):h)});C6.displayName="NavLink";var B6=F.forwardRef(({discover:o="render",fetcherKey:n,navigate:i,reloadDocument:l,replace:c,state:d,method:m=Po,action:g,onSubmit:h,relative:f,preventScrollReset:E,viewTransition:p,...v},b)=>{let B=N6(),y=D6(g,{relative:f}),_=m.toLowerCase()==="get"?"get":"post",A=typeof g=="string"&&zf.test(g),Q=w=>{if(h&&h(w),w.defaultPrevented)return;w.preventDefault();let j=w.nativeEvent.submitter,M=j?.getAttribute("formmethod")||m;B(j||w.currentTarget,{fetcherKey:n,method:M,navigate:i,replace:c,state:d,relative:f,preventScrollReset:E,viewTransition:p})};return F.createElement("form",{ref:b,method:_,action:y,onSubmit:l?h:Q,...v,"data-discover":!A&&o==="render"?"true":void 0})});B6.displayName="Form";function A6(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vf(o){let n=F.useContext(Yr);return Ze(n,A6(o)),n}function F6(o,{target:n,replace:i,state:l,preventScrollReset:c,relative:d,viewTransition:m}={}){let g=Ir(),h=ea(),f=dl(o,{relative:d});return F.useCallback(E=>{if(a6(E,n)){E.preventDefault();let p=i!==void 0?i:ol(h)===ol(f);g(o,{replace:p,state:l,preventScrollReset:c,relative:d,viewTransition:m})}},[h,g,f,i,l,n,o,c,d,m])}var j6=0,w6=()=>`__${String(++j6)}__`;function N6(){let{router:o}=Vf("useSubmit"),{basename:n}=F.useContext(Es),i=G1();return F.useCallback(async(l,c={})=>{let{action:d,method:m,encType:g,formData:h,body:f}=l6(l,n);if(c.navigate===!1){let E=c.fetcherKey||w6();await o.fetch(E,i,c.action||d,{preventScrollReset:c.preventScrollReset,formData:h,body:f,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await o.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:h,body:f,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[o,n,i])}function D6(o,{relative:n}={}){let{basename:i}=F.useContext(Es),l=F.useContext(Ss);Ze(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),d={...dl(o||".",{relative:n})},m=ea();if(o==null){d.search=m.search;let g=new URLSearchParams(d.search),h=g.getAll("index");if(h.some(E=>E==="")){g.delete("index"),h.filter(p=>p).forEach(p=>g.append("index",p));let E=g.toString();d.search=E?`?${E}`:""}}return(!o||o===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:Ks([i,d.pathname])),ol(d)}function k6(o,{relative:n}={}){let i=F.useContext(Mf);Ze(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Vf("useViewTransitionState"),c=dl(o,{relative:n});if(!i.isTransitioning)return!1;let d=Ws(i.currentLocation.pathname,l)||i.currentLocation.pathname,m=Ws(i.nextLocation.pathname,l)||i.nextLocation.pathname;return Vo(c.pathname,m)!=null||Vo(c.pathname,d)!=null}var Qf=ff();const ue=m2,Hf=F.createContext(null),Mt=()=>{const o=F.useContext(Hf);if(!o)throw new Error("useAuth must be used within an AuthProvider");return o},S6=({children:o})=>{const[n,i]=F.useState(!1),[l,c]=F.useState(null),[d,m]=F.useState(!0),[g,h]=F.useState(null);F.useEffect(()=>{const y=localStorage.getItem("session_token");y?h(y):(m(!1),i(!1),c(null))},[]);const f=we(ue.services.auth.getCurrentUser,g?{sessionToken:g}:"skip"),E=Ne(ue.services.auth.loginUser),p=Ne(ue.services.auth.logoutUser);F.useEffect(()=>{g&&f!==void 0&&(m(!1),f?(i(!0),c({id:f.id,username:f.username,email:f.email,nickname:f.nickname,mobile_number:f.mobile_number,role:f.role,is_staff:f.role==="staff"||f.role==="admin"})):(i(!1),c(null),h(null),localStorage.removeItem("session_token")))},[f,g]);const B={isAuthenticated:n,user:l,loading:d,login:async(y,_)=>{try{console.log("Attempting login with:",{email:y});const A=await E({email:y,password:_});return console.log("Login result:",A),A?(localStorage.setItem("session_token",A.sessionToken),h(A.sessionToken),i(!0),c({id:A.user.id,username:A.user.username,email:A.user.email,nickname:A.user.nickname,mobile_number:A.user.mobile_number,role:A.user.role,is_staff:A.user.role==="staff"||A.user.role==="admin"}),{success:!0,data:A.user}):{success:!1,error:"Login failed"}}catch(A){return console.error("Login error:",A),{success:!1,error:A.message||"Login failed. Please try again."}}},logout:async()=>{try{g&&await p({sessionToken:g})}catch(y){console.error("Logout error:",y)}finally{localStorage.removeItem("session_token"),h(null),i(!1),c(null)}},sessionToken:g};return e.jsx(Hf.Provider,{value:B,children:o})},Mo=({children:o,requireStaff:n=!1})=>{const{isAuthenticated:i,user:l,loading:c}=Mt(),d=ea();return c?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#F5F5F5] to-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Loading..."})]})}):i?n&&!l?.is_staff?e.jsx(il,{to:"/customer/dashboard",replace:!0}):o:e.jsx(il,{to:"/auth/login",state:{from:d},replace:!0})},Nh=({children:o})=>{const{isAuthenticated:n,user:i,loading:l}=Mt();return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#F5F5F5] to-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Loading..."})]})}):n&&i?i.is_staff?e.jsx(il,{to:"/staff/dashboard",replace:!0}):e.jsx(il,{to:"/customer/dashboard",replace:!0}):o},oc="/assets/banner-CSqrWLZa.jpg";function _6(){const[o,n]=F.useState({email:"",password:""}),[i,l]=F.useState(!1),[c,d]=F.useState(""),m=Ir(),{login:g}=Mt(),h=E=>{n({...o,[E.target.name]:E.target.value})},f=async E=>{E.preventDefault(),l(!0),d("");try{const p=await g(o.email,o.password);if(p.success){const{role:v}=p.data;m(v==="staff"||v==="admin"?"/staff/dashboard":"/customer/dashboard")}else d(p.error)}catch{d("An unexpected error occurred. Please try again.")}finally{l(!1)}};return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"h-full bg-cover bg-center bg-no-repeat opacity-10",style:{backgroundImage:`url(${oc})`,filter:"brightness(0.3)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-100/20 to-orange-200/10"})]}),e.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-4xl font-light tracking-wider mb-2",style:{color:"#36454F"},children:[e.jsx("span",{className:"font-thin",children:"TipunoX Angeles"}),e.jsx("span",{className:"font-extralight ml-2",style:{color:"#F68B24"},children:"BARBERSHOP"})]}),e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("div",{className:"w-16 h-px bg-gradient-to-r from-transparent via-orange-400 to-transparent"})}),e.jsx("p",{className:"text-sm font-light tracking-widest uppercase",style:{color:"#8B8B8B"},children:"Welcome Back"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border",style:{borderColor:"#E0E0E0"},children:[e.jsxs("div",{className:"p-8",children:[c&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:c})}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Email"}),e.jsx("input",{type:"email",name:"email",value:o.email,onChange:h,placeholder:"Enter your email",required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Password"}),e.jsx("input",{type:"password",name:"password",value:o.password,onChange:h,placeholder:"Enter your password",required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsx("div",{className:"text-right",children:e.jsx("a",{href:"#",className:"text-sm font-medium hover:underline",style:{color:"#F68B24"},children:"Forgot Password?"})}),e.jsx("button",{type:"submit",disabled:i,className:"w-full h-12 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white font-semibold rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:transform-none disabled:shadow-lg",children:i?"Signing In...":"Sign In"}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-sm",style:{color:"#8B8B8B"},children:"Don't have an account? "}),e.jsx(Ds,{to:"/auth/register",className:"text-sm font-semibold hover:underline",style:{color:"#F68B24"},children:"Sign up"})]})]})]}),e.jsxs("div",{className:"border-t px-8 py-6 space-y-3",style:{borderColor:"#E0E0E0",backgroundColor:"#FAFAFA"},children:[e.jsx("p",{className:"text-xs font-medium text-center mb-4",style:{color:"#8B8B8B"},children:"Quick Access (Development)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ds,{to:"/staff/dashboard",className:"block w-full h-10 bg-gray-100 hover:bg-gray-200 text-center leading-10 text-sm font-medium rounded-lg transition-colors duration-200",style:{color:"#36454F"},children:"Staff Dashboard"}),e.jsx(Ds,{to:"/customer/client",className:"block w-full h-10 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white text-center leading-10 text-sm font-semibold rounded-lg transition-all duration-200 shadow-md",children:"Client Portal"}),e.jsx(Ds,{to:"/kiosk",className:"block w-full h-10 text-center leading-10 text-sm font-medium rounded-lg transition-all duration-200 border-2 hover:shadow-md",style:{borderColor:"#F68B24",color:"#F68B24"},children:"Kiosk Mode"})]})]})]})]})})]})}function M6(){const[o,n]=F.useState({username:"",password:"",confirmPassword:"",nickname:"",mobile_number:"",email:"",birthday:""}),[i,l]=F.useState(!1),[c,d]=F.useState(""),[m,g]=F.useState(""),h=Ir(),f=Ne(ue.services.auth.registerUser),E=v=>{n({...o,[v.target.name]:v.target.value})},p=async v=>{if(v.preventDefault(),l(!0),d(""),g(""),o.password!==o.confirmPassword){d("Passwords do not match"),l(!1);return}try{await f({username:o.username,password:o.password,nickname:o.nickname||void 0,mobile_number:o.mobile_number,email:o.email,birthday:o.birthday||void 0,role:"customer"}),g("Registration successful! Please log in with your credentials."),setTimeout(()=>{h("/auth/login")},2e3)}catch(b){console.error("Registration error:",b),d(b.message||"An unexpected error occurred. Please try again.")}finally{l(!1)}};return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"h-full bg-cover bg-center bg-no-repeat opacity-10",style:{backgroundImage:`url(${oc})`,filter:"brightness(0.3)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-100/20 to-orange-200/10"})]}),e.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-4xl font-light tracking-wider mb-2",style:{color:"#36454F"},children:[e.jsx("span",{className:"font-thin",children:"TipunoX Angeles"}),e.jsx("span",{className:"font-extralight ml-2",style:{color:"#F68B24"},children:"BARBERSHOP"})]}),e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("div",{className:"w-16 h-px bg-gradient-to-r from-transparent via-orange-400 to-transparent"})}),e.jsx("p",{className:"text-sm font-light tracking-widest uppercase",style:{color:"#8B8B8B"},children:"Create Account"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border",style:{borderColor:"#E0E0E0"},children:e.jsxs("div",{className:"p-8",children:[c&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:c})}),m&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-600",children:m})}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Username"}),e.jsx("input",{type:"text",name:"username",value:o.username,onChange:E,placeholder:"Enter your username",required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Nickname"}),e.jsx("input",{type:"text",name:"nickname",value:o.nickname,onChange:E,placeholder:"Enter your nickname",required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Email"}),e.jsx("input",{type:"email",name:"email",value:o.email,onChange:E,placeholder:"Enter your email",required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Mobile Number"}),e.jsx("input",{type:"tel",name:"mobile_number",value:o.mobile_number,onChange:E,placeholder:"Enter your mobile number",required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Birthday"}),e.jsx("input",{type:"date",name:"birthday",value:o.birthday,onChange:E,required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Password"}),e.jsx("input",{type:"password",name:"password",value:o.password,onChange:E,placeholder:"Create a password",required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#36454F"},children:"Confirm Password"}),e.jsx("input",{type:"password",name:"confirmPassword",value:o.confirmPassword,onChange:E,placeholder:"Confirm your password",required:!0,className:"w-full h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 text-sm",style:{color:"#36454F"}})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full h-12 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white font-semibold rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:transform-none disabled:shadow-lg",children:i?"Creating Account...":"Create Account"}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-sm",style:{color:"#8B8B8B"},children:"Already have an account? "}),e.jsx(Ds,{to:"/auth/login",className:"text-sm font-semibold hover:underline",style:{color:"#F68B24"},children:"Sign In"})]})]})]})})]})})]})}/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T6=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,l)=>l?l.toUpperCase():i.toLowerCase()),Dh=o=>{const n=T6(o);return n.charAt(0).toUpperCase()+n.slice(1)},$f=(...o)=>o.filter((n,i,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===i).join(" ").trim(),P6=o=>{for(const n in o)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=F.forwardRef(({color:o="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:m,...g},h)=>F.createElement("svg",{ref:h,...L6,width:n,height:n,stroke:o,strokeWidth:l?Number(i)*24/Number(n):i,className:$f("lucide",c),...!d&&!P6(g)&&{"aria-hidden":"true"},...g},[...m.map(([f,E])=>F.createElement(f,E)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(o,n)=>{const i=F.forwardRef(({className:l,...c},d)=>F.createElement(O6,{ref:d,iconNode:n,className:$f(`lucide-${R6(Dh(o))}`,`lucide-${o}`,l),...c}));return i.displayName=Dh(o),i};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],kh=he("archive",U6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ul=he("arrow-left",q6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],V6=he("award",z6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],H6=he("bell-ring",Q6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],sl=he("bell",$6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Yf=he("book-open",Y6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],I6=he("calendar-days",G6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Te=he("calendar",X6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],xl=he("camera",Z6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ic=he("chart-column",K6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Sh=he("check-check",J6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ro=he("chevron-down",W6);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],t5=he("chevron-right",e5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],et=he("circle-alert",s5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ze=he("circle-check-big",a5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],tt=he("circle-x",r5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ct=he("clock",n5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],o5=he("copy",l5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Yx=he("crown",i5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],qt=he("dollar-sign",x5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Gf=he("download",c5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],gx=he("ellipsis",d5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],m5=he("eye-off",u5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],If=he("eye",h5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Sa=he("funnel",f5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Xe=he("gift",g5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],E5=he("history",p5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],y5=he("house",b5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_h=he("info",v5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],B5=he("keyboard",C5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Mh=he("layout-dashboard",A5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xc=he("log-out",F5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Js=he("mail",j5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Xf=he("map-pin",w5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],D5=he("monitor",N5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Gx=he("package",k5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],_5=he("palette",S5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],R5=he("pen",M5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ml=he("phone",T5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jt=he("plus",P5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],O5=he("printer",L5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],ot=he("qr-code",U5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_t=he("refresh-cw",q5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ka=he("rotate-ccw",z5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xr=he("save",V5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],gs=he("scissors",Q5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ta=he("search",H5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cc=he("settings",$5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dc=he("shield",Y5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],I5=he("shopping-cart",G5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Z5=he("sparkles",X5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Zr=he("square-pen",K5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ds=he("star",J5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],ep=he("store",W5);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],sp=he("ticket",tp);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Da=he("trash-2",ap);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],uc=he("trending-down",rp);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Vr=he("trending-up",np);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],op=he("trophy",lp);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Rh=he("upload",ip);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ix=he("user-check",xp);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Zf=he("user-plus",cp);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Th=he("user-x",dp);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Re=he("user",up);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ka=he("users",mp);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hl=he("x",hp);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Xx=he("zap",fp),zt=({isOpen:o,onClose:n,title:i,children:l,size:c="md"})=>{if(!o)return null;const d={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"};return Qf.createPortal(e.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:n}),e.jsxs("div",{className:`relative w-full ${d[c]} transform rounded-3xl bg-white shadow-2xl transition-all z-[10000]`,children:[e.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-[#F5F5F5]",children:[e.jsx("h2",{className:"text-2xl font-black text-[#1A1A1A]",children:i}),e.jsx("button",{onClick:n,className:"w-10 h-10 rounded-2xl bg-[#F5F5F5] hover:bg-[#FF8C42]/10 flex items-center justify-center transition-colors duration-200",children:e.jsx(hl,{className:"w-5 h-5 text-[#6B6B6B] hover:text-[#FF8C42]"})})]}),e.jsx("div",{className:"p-8",children:l})]})]})}),document.body)};function ct({label:o,type:n="text",placeholder:i,value:l,onChange:c,required:d=!1,className:m=""}){return e.jsxs("div",{className:"w-full",children:[o&&e.jsxs("label",{className:"block text-primary-black font-medium text-base mb-2",children:[o,d&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:n,placeholder:i,value:l,onChange:c,required:d,className:`w-full h-12 px-4 border-2 border-gray-300 rounded-lg text-base focus:outline-none focus:border-primary-orange transition-colors duration-200 ${m}`})]})}const gp=({isOpen:o,onClose:n,onSave:i})=>{const[l,c]=F.useState({shopName:"TipunoX Angeles Barbershop",address:"123 Main Street, Quezon City, Philippines",phone:"+63 912 345 6789",email:"info@tpxbarbershop.com",openTime:"09:00",closeTime:"18:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"],currency:"PHP",taxRate:"12",loyaltyPointsRate:"1",maxConcurrentBookings:"3",bookingSlotDuration:"30",advanceBookingDays:"30",emailNotifications:!0,smsNotifications:!0,reminderHours:"24",sessionTimeout:"60",requireStaffPin:!1,auditLogging:!0,theme:"professional",language:"en",timezone:"Asia/Manila",dateFormat:"MM/DD/YYYY"}),d=(p,v)=>{c(b=>({...b,[p]:v}))},m=(p,v)=>{c(b=>({...b,[p]:v}))},g=p=>{c(v=>({...v,workingDays:v.workingDays.includes(p)?v.workingDays.filter(b=>b!==p):[...v.workingDays,p]}))},h=()=>{i?.(l),n()},f=()=>{c({shopName:"TipunoX Angeles Barbershop",address:"123 Main Street, Quezon City, Philippines",phone:"+63 912 345 6789",email:"info@tpxbarbershop.com",openTime:"09:00",closeTime:"18:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"],currency:"PHP",taxRate:"12",loyaltyPointsRate:"1",maxConcurrentBookings:"3",bookingSlotDuration:"30",advanceBookingDays:"30",emailNotifications:!0,smsNotifications:!0,reminderHours:"24",sessionTimeout:"60",requireStaffPin:!1,auditLogging:!0,theme:"professional",language:"en",timezone:"Asia/Manila",dateFormat:"MM/DD/YYYY"})},E=[{id:"monday",label:"Monday"},{id:"tuesday",label:"Tuesday"},{id:"wednesday",label:"Wednesday"},{id:"thursday",label:"Thursday"},{id:"friday",label:"Friday"},{id:"saturday",label:"Saturday"},{id:"sunday",label:"Sunday"}];return e.jsxs(zt,{isOpen:o,onClose:n,title:"System Settings",size:"xl",children:[e.jsxs("div",{className:"space-y-8 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(ep,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Barbershop Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ct,{label:"Shop Name",value:l.shopName,onChange:p=>d("shopName",p.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"}),e.jsx(ct,{label:"Phone Number",value:l.phone,onChange:p=>d("phone",p.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"}),e.jsx(ct,{label:"Email Address",type:"email",value:l.email,onChange:p=>d("email",p.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Address"}),e.jsx("textarea",{value:l.address,onChange:p=>d("address",p.target.value),rows:2,className:"w-full px-4 py-3 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200 resize-none"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(Ct,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Business Hours"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ct,{label:"Opening Time",type:"time",value:l.openTime,onChange:p=>d("openTime",p.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"}),e.jsx(ct,{label:"Closing Time",type:"time",value:l.closeTime,onChange:p=>d("closeTime",p.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-3",children:"Working Days"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(p=>e.jsx("button",{onClick:()=>g(p.id),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-200 ${l.workingDays.includes(p.id)?"bg-[#FF8C42] text-white":"bg-[#F5F5F5] text-[#6B6B6B] hover:bg-[#FF8C42]/10"}`,children:p.label},p.id))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(qt,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Pricing & Loyalty"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Currency"}),e.jsxs("select",{value:l.currency,onChange:p=>d("currency",p.target.value),className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200",children:[e.jsx("option",{value:"PHP",children:"Philippine Peso ()"}),e.jsx("option",{value:"USD",children:"US Dollar ($)"}),e.jsx("option",{value:"EUR",children:"Euro ()"})]})]}),e.jsx(ct,{label:"Tax Rate (%)",type:"number",value:l.taxRate,onChange:p=>d("taxRate",p.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"}),e.jsx(ct,{label:"Loyalty Points per 1",type:"number",value:l.loyaltyPointsRate,onChange:p=>d("loyaltyPointsRate",p.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(ka,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Staff & Booking Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(ct,{label:"Max Concurrent Bookings",type:"number",value:l.maxConcurrentBookings,onChange:p=>d("maxConcurrentBookings",p.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"}),e.jsx(ct,{label:"Booking Slot Duration (min)",type:"number",value:l.bookingSlotDuration,onChange:p=>d("bookingSlotDuration",p.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"}),e.jsx(ct,{label:"Advance Booking Days",type:"number",value:l.advanceBookingDays,onChange:p=>d("advanceBookingDays",p.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(sl,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Notifications"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"emailNotifications",checked:l.emailNotifications,onChange:p=>m("emailNotifications",p.target.checked),className:"w-5 h-5 text-[#FF8C42] rounded focus:ring-[#FF8C42]"}),e.jsx("label",{htmlFor:"emailNotifications",className:"text-[#1A1A1A] font-semibold",children:"Email Notifications"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"smsNotifications",checked:l.smsNotifications,onChange:p=>m("smsNotifications",p.target.checked),className:"w-5 h-5 text-[#FF8C42] rounded focus:ring-[#FF8C42]"}),e.jsx("label",{htmlFor:"smsNotifications",className:"text-[#1A1A1A] font-semibold",children:"SMS Notifications"})]})]}),e.jsx(ct,{label:"Reminder Hours Before Appointment",type:"number",value:l.reminderHours,onChange:p=>d("reminderHours",p.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(dc,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Security Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ct,{label:"Session Timeout (minutes)",type:"number",value:l.sessionTimeout,onChange:p=>d("sessionTimeout",p.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]"}),e.jsxs("div",{className:"space-y-3 pt-8",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"requireStaffPin",checked:l.requireStaffPin,onChange:p=>m("requireStaffPin",p.target.checked),className:"w-5 h-5 text-[#FF8C42] rounded focus:ring-[#FF8C42]"}),e.jsx("label",{htmlFor:"requireStaffPin",className:"text-[#1A1A1A] font-semibold",children:"Require Staff PIN for Actions"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"auditLogging",checked:l.auditLogging,onChange:p=>m("auditLogging",p.target.checked),className:"w-5 h-5 text-[#FF8C42] rounded focus:ring-[#FF8C42]"}),e.jsx("label",{htmlFor:"auditLogging",className:"text-[#1A1A1A] font-semibold",children:"Enable Audit Logging"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(_5,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"System Preferences"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Theme"}),e.jsxs("select",{value:l.theme,onChange:p=>d("theme",p.target.value),className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200",children:[e.jsx("option",{value:"professional",children:"Professional"}),e.jsx("option",{value:"modern",children:"Modern"}),e.jsx("option",{value:"classic",children:"Classic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Language"}),e.jsxs("select",{value:l.language,onChange:p=>d("language",p.target.value),className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"fil",children:"Filipino"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Timezone"}),e.jsxs("select",{value:l.timezone,onChange:p=>d("timezone",p.target.value),className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200",children:[e.jsx("option",{value:"Asia/Manila",children:"Asia/Manila"}),e.jsx("option",{value:"UTC",children:"UTC"}),e.jsx("option",{value:"America/New_York",children:"America/New_York"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Date Format"}),e.jsxs("select",{value:l.dateFormat,onChange:p=>d("dateFormat",p.target.value),className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200",children:[e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),e.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-8 border-t border-[#F5F5F5]",children:[e.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-4 py-2 text-[#6B6B6B] hover:text-[#1A1A1A] font-semibold transition-colors duration-200",children:[e.jsx(_t,{className:"w-4 h-4"}),e.jsx("span",{children:"Reset to Defaults"})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:n,className:"px-6 py-3 border-2 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white font-semibold rounded-xl transition-all duration-200",children:"Cancel"}),e.jsxs("button",{onClick:h,className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white hover:shadow-lg font-semibold rounded-xl transition-all duration-200",children:[e.jsx(Xr,{className:"w-4 h-4"}),e.jsx("span",{children:"Save Settings"})]})]})]})]})},pp=({isOpen:o,onClose:n,onConfirm:i})=>{const l=()=>{i(),n()};return e.jsx(zt,{isOpen:o,onClose:n,title:"",size:"sm",children:e.jsxs("div",{className:"text-center space-y-6 p-4",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center shadow-2xl ring-4 ring-red-100",children:e.jsx(xc,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h2",{className:"text-2xl font-black text-[#1A1A1A]",children:"Confirm Logout"}),e.jsx("p",{className:"text-[#6B6B6B] font-medium leading-relaxed",children:"Are you sure you want to log out of your staff session? You'll need to sign in again to access the dashboard."})]}),e.jsx("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(dc,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"text-sm font-bold text-amber-800 mb-1",children:"Security Notice"}),e.jsx("p",{className:"text-xs text-amber-700 leading-relaxed",children:"Your session data will be cleared and any unsaved changes may be lost. Make sure to complete any ongoing transactions before logging out."})]})]})}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsx("button",{onClick:n,className:"flex-1 py-3 px-6 border-2 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white font-semibold rounded-xl transition-all duration-200",children:"Cancel"}),e.jsx("button",{onClick:l,className:"flex-1 py-3 px-6 bg-gradient-to-r from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700 font-semibold rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl",children:"Yes, Logout"})]})]})})},Ep=({onLogout:o})=>{const[n,i]=F.useState(!1),[l,c]=F.useState(!1);return e.jsxs("div",{className:"bg-gradient-to-r from-[#1A1A1A] to-[#2A2A2A] shadow-xl",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-8",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#FF8C42] to-[#FF7A2B] rounded-3xl flex items-center justify-center shadow-2xl ring-4 ring-[#FF8C42]/20",children:e.jsx(gs,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"TipunoX Angeles Barbershop"}),e.jsx("p",{className:"text-sm font-medium text-[#FF8C42] mt-1",children:"Staff Dashboard"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-base font-semibold text-white",children:"Welcome back, Staff"}),e.jsx("p",{className:"text-xs text-gray-300 font-medium",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(Ds,{to:"/kiosk",className:"bg-blue-500/20 backdrop-blur-sm rounded-2xl flex items-center space-x-2 px-4 py-3 hover:bg-blue-500/30 transition-all duration-300 border border-blue-500/30 group",title:"Kiosk Mode",children:[e.jsx(D5,{className:"w-5 h-5 text-blue-300 group-hover:text-blue-200 transition-colors duration-300"}),e.jsx("span",{className:"text-blue-300 group-hover:text-blue-200 font-semibold text-sm transition-colors duration-300",children:"Kiosk Mode"})]}),e.jsx("button",{onClick:()=>i(!0),className:"w-12 h-12 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center hover:bg-white/20 transition-all duration-300 border border-white/20 group",title:"Settings",children:e.jsx(cc,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-300"})}),e.jsx("button",{onClick:()=>c(!0),className:"w-12 h-12 bg-red-500/20 backdrop-blur-sm rounded-2xl flex items-center justify-center hover:bg-red-500/30 transition-all duration-300 border border-red-500/30 group",title:"Logout",children:e.jsx(xc,{className:"w-5 h-5 text-red-300 group-hover:text-red-200 transition-colors duration-300"})}),e.jsx("div",{className:"w-12 h-12 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center hover:bg-white/20 transition-all duration-300 cursor-pointer border border-white/20",children:e.jsx(Re,{className:"w-5 h-5 text-white"})})]})]})]})}),e.jsx(gp,{isOpen:n,onClose:()=>i(!1),onSave:d=>{console.log("Settings saved:",d)}}),e.jsx(pp,{isOpen:l,onClose:()=>c(!1),onConfirm:o})]})};function ks({children:o,className:n=""}){return e.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-6 ${n}`,children:o})}function Ge({children:o,variant:n="primary",onClick:i,disabled:l=!1,className:c="",type:d="button"}){const m="w-full min-h-[48px] rounded-lg font-bold text-base transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",g={primary:"bg-primary-orange text-white hover:bg-orange-600 active:bg-orange-700",secondary:"bg-primary-black text-white hover:bg-gray-800 active:bg-gray-900",outline:"border-2 border-primary-orange text-primary-orange bg-transparent hover:bg-primary-orange hover:text-white"};return e.jsx("button",{type:d,onClick:i,disabled:l,className:`${m} ${g[n]} ${c}`,children:o})}const bp="modulepreload",yp=function(o){return"/"+o},Ph={},vp=function(n,i,l){let c=Promise.resolve();if(i&&i.length>0){let f=function(E){return Promise.all(E.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var m=f;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),h=g?.nonce||g?.getAttribute("nonce");c=f(i.map(E=>{if(E=yp(E),E in Ph)return;Ph[E]=!0;const p=E.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${v}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":bp,p||(b.as="script"),b.crossOrigin="",b.href=E,h&&b.setAttribute("nonce",h),document.head.appendChild(b),p)return new Promise((B,y)=>{b.addEventListener("load",B),b.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${E}`)))})}))}function d(g){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=g,window.dispatchEvent(h),!h.defaultPrevented)throw g}return c.then(g=>{for(const h of g||[])h.status==="rejected"&&d(h.reason);return n().catch(d)})};class Ae{constructor(n,i,l,c,d){this._legacyCanvasSize=Ae.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=n,this.$canvas=document.createElement("canvas"),l&&typeof l=="object"?this._onDecode=i:(console.warn(l||c||d?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=i),i=typeof l=="object"?l:{},this._onDecodeError=i.onDecodeError||(typeof l=="function"?l:this._onDecodeError),this._calculateScanRegion=i.calculateScanRegion||(typeof c=="function"?c:this._calculateScanRegion),this._preferredCamera=i.preferredCamera||d||this._preferredCamera,this._legacyCanvasSize=typeof l=="number"?l:typeof c=="number"?c:this._legacyCanvasSize,this._maxScansPerSecond=i.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),n.disablePictureInPicture=!0,n.playsInline=!0,n.muted=!0;let m=!1;if(n.hidden&&(n.hidden=!1,m=!0),document.body.contains(n)||(document.body.appendChild(n),m=!0),l=n.parentElement,i.highlightScanRegion||i.highlightCodeOutline){if(c=!!i.overlay,this.$overlay=i.overlay||document.createElement("div"),d=this.$overlay.style,d.position="absolute",d.display="none",d.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!c&&i.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}l.insertBefore(this.$overlay,this.$video.nextSibling)}i.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(n),requestAnimationFrame(()=>{let g=window.getComputedStyle(n);g.display==="none"&&(n.style.setProperty("display","block","important"),m=!0),g.visibility!=="visible"&&(n.style.setProperty("visibility","visible","important"),m=!0),m&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),n.style.opacity="0",n.style.width="0",n.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),n.addEventListener("play",this._onPlay),n.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=Ae.createQrEngine()}static set WORKER_PATH(n){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await Ae.listCameras(!1)).length}catch{return!1}}static async listCameras(n=!1){if(!navigator.mediaDevices)return[];let i=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(c=>c.kind==="videoinput"),l;try{n&&(await i()).every(c=>!c.label)&&(l=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await i()).map((c,d)=>({id:c.deviceId,label:c.label||(d===0?"Default Camera":`Camera ${d+1}`)}))}finally{l&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),Ae._stopVideoStream(l))}}async hasFlash(){let n;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;n=this.$video.srcObject}else n=(await this._getCameraStream()).stream;return"torch"in n.getVideoTracks()[0].getSettings()}catch{return!1}finally{n&&n!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),Ae._stopVideoStream(n))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(n){throw this._flashOn=!1,n}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),Ae._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:n,facingMode:i}=await this._getCameraStream();!this._active||this._paused?Ae._stopVideoStream(n):(this._setVideoMirror(i),this.$video.srcObject=n,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(n){if(!this._paused)throw this._active=!1,n}}stop(){this.pause(),this._active=!1}async pause(n=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let i=()=>{this.$video.srcObject instanceof MediaStream&&(Ae._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return n?(i(),!0):(await new Promise(l=>setTimeout(l,300)),this._paused?(i(),!0):!1)}async setCamera(n){n!==this._preferredCamera&&(this._preferredCamera=n,await this._restartVideoStream())}static async scanImage(n,i,l,c,d=!1,m=!1){let g,h=!1;i&&("scanRegion"in i||"qrEngine"in i||"canvas"in i||"disallowCanvasResizing"in i||"alsoTryWithoutScanRegion"in i||"returnDetailedScanResult"in i)?(g=i.scanRegion,l=i.qrEngine,c=i.canvas,d=i.disallowCanvasResizing||!1,m=i.alsoTryWithoutScanRegion||!1,h=!0):console.warn(i||l||c||d||m?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),i=!!l;try{let f,E;[l,f]=await Promise.all([l||Ae.createQrEngine(),Ae._loadImage(n)]),[c,E]=Ae._drawToCanvas(f,g,c,d);let p;if(l instanceof Worker){let v=l;i||Ae._postWorkerMessageSync(v,"inversionMode","both"),p=await new Promise((b,B)=>{let y,_,A,Q=-1;_=j=>{j.data.id===Q&&(v.removeEventListener("message",_),v.removeEventListener("error",A),clearTimeout(y),j.data.data!==null?b({data:j.data.data,cornerPoints:Ae._convertPoints(j.data.cornerPoints,g)}):B(Ae.NO_QR_CODE_FOUND))},A=j=>{v.removeEventListener("message",_),v.removeEventListener("error",A),clearTimeout(y),B("Scanner error: "+(j?j.message||j:"Unknown Error"))},v.addEventListener("message",_),v.addEventListener("error",A),y=setTimeout(()=>A("timeout"),1e4);let w=E.getImageData(0,0,c.width,c.height);Q=Ae._postWorkerMessageSync(v,"decode",w,[w.data.buffer])})}else p=await Promise.race([new Promise((v,b)=>window.setTimeout(()=>b("Scanner error: timeout"),1e4)),(async()=>{try{var[v]=await l.detect(c);if(!v)throw Ae.NO_QR_CODE_FOUND;return{data:v.rawValue,cornerPoints:Ae._convertPoints(v.cornerPoints,g)}}catch(b){if(v=b.message||b,/not implemented|service unavailable/.test(v))return Ae._disableBarcodeDetector=!0,Ae.scanImage(n,{scanRegion:g,canvas:c,disallowCanvasResizing:d,alsoTryWithoutScanRegion:m});throw`Scanner error: ${v}`}})()]);return h?p:p.data}catch(f){if(!g||!m)throw f;let E=await Ae.scanImage(n,{qrEngine:l,canvas:c,disallowCanvasResizing:d});return h?E:E.data}finally{i||Ae._postWorkerMessage(l,"close")}}setGrayscaleWeights(n,i,l,c=!0){Ae._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:n,green:i,blue:l,useIntegerApproximation:c})}setInversionMode(n){Ae._postWorkerMessage(this._qrEnginePromise,"inversionMode",n)}static async createQrEngine(n){if(n&&console.warn("Specifying a worker path is not required and not supported anymore."),n=()=>vp(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[]).then(l=>l.createWorker()),!(!Ae._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return n();let i=navigator.userAgentData;return i&&i.brands.some(({brand:l})=>/Chromium/i.test(l))&&/mac ?OS/i.test(i.platform)&&await i.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:l,platformVersion:c})=>/arm/i.test(l||"arm")&&13<=parseInt(c||"13")).catch(()=>!0)?n():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(n){let i=Math.round(.6666666666666666*Math.min(n.videoWidth,n.videoHeight));return{x:Math.round((n.videoWidth-i)/2),y:Math.round((n.videoHeight-i)/2),width:i,height:i,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var n=this.$video,i=n.videoWidth,l=n.videoHeight,c=n.offsetWidth,d=n.offsetHeight,m=n.offsetLeft,g=n.offsetTop,h=window.getComputedStyle(n),f=h.objectFit,E=i/l,p=c/d;switch(f){case"none":var v=i,b=l;break;case"fill":v=c,b=d;break;default:(f==="cover"?E>p:E<p)?(b=d,v=b*E):(v=c,b=v/E),f==="scale-down"&&(v=Math.min(v,i),b=Math.min(b,l))}var[B,y]=h.objectPosition.split(" ").map((A,Q)=>{const w=parseFloat(A);return A.endsWith("%")?(Q?d-b:c-v)*w/100:w});h=this._scanRegion.width||i,p=this._scanRegion.height||l,f=this._scanRegion.x||0;var _=this._scanRegion.y||0;E=this.$overlay.style,E.width=`${h/i*v}px`,E.height=`${p/l*b}px`,E.top=`${g+y+_/l*b}px`,l=/scaleX\(-1\)/.test(n.style.transform),E.left=`${m+(l?c-B-v:B)+(l?i-f-h:f)/i*v}px`,E.transform=n.style.transform}})}static _convertPoints(n,i){if(!i)return n;let l=i.x||0,c=i.y||0,d=i.width&&i.downScaledWidth?i.width/i.downScaledWidth:1;i=i.height&&i.downScaledHeight?i.height/i.downScaledHeight:1;for(let m of n)m.x=m.x*d+l,m.y=m.y*i+c;return n}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var n=Date.now()-this._lastScanTimestamp,i=1e3/this._maxScansPerSecond;n<i&&await new Promise(c=>setTimeout(c,i-n)),this._lastScanTimestamp=Date.now();try{var l=await Ae.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(c){if(!this._active)return;this._onDecodeError(c)}!Ae._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=Ae.createQrEngine()),l?(this._onDecode?this._onDecode(l):this._legacyOnDecode&&this._legacyOnDecode(l.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",l.cornerPoints.map(({x:c,y:d})=>`${c},${d}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(n){n!==Ae.NO_QR_CODE_FOUND&&console.log(n)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let n=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",i=[{width:{min:1024}},{width:{min:768}},{}],l=i.map(c=>Object.assign({},c,{[n]:{exact:this._preferredCamera}}));for(let c of[...l,...i])try{let d=await navigator.mediaDevices.getUserMedia({video:c,audio:!1}),m=this._getFacingMode(d)||(c.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:d,facingMode:m}}catch{}throw"Camera not found."}async _restartVideoStream(){let n=this._paused;await this.pause(!0)&&!n&&this._active&&await this.start()}static _stopVideoStream(n){for(let i of n.getTracks())i.stop(),n.removeTrack(i)}_setVideoMirror(n){this.$video.style.transform="scaleX("+(n==="user"?-1:1)+")"}_getFacingMode(n){return(n=n.getVideoTracks()[0])?/rear|back|environment/i.test(n.label)?"environment":/front|user|face/i.test(n.label)?"user":null:null}static _drawToCanvas(n,i,l,c=!1){l=l||document.createElement("canvas");let d=i&&i.x?i.x:0,m=i&&i.y?i.y:0,g=i&&i.width?i.width:n.videoWidth||n.width,h=i&&i.height?i.height:n.videoHeight||n.height;return c||(c=i&&i.downScaledWidth?i.downScaledWidth:g,i=i&&i.downScaledHeight?i.downScaledHeight:h,l.width!==c&&(l.width=c),l.height!==i&&(l.height=i)),i=l.getContext("2d",{alpha:!1}),i.imageSmoothingEnabled=!1,i.drawImage(n,d,m,g,h,0,0,l.width,l.height),[l,i]}static async _loadImage(n){if(n instanceof Image)return await Ae._awaitImageLoad(n),n;if(n instanceof HTMLVideoElement||n instanceof HTMLCanvasElement||n instanceof SVGImageElement||"OffscreenCanvas"in window&&n instanceof OffscreenCanvas||"ImageBitmap"in window&&n instanceof ImageBitmap)return n;if(n instanceof File||n instanceof Blob||n instanceof URL||typeof n=="string"){let i=new Image;i.src=n instanceof File||n instanceof Blob?URL.createObjectURL(n):n.toString();try{return await Ae._awaitImageLoad(i),i}finally{(n instanceof File||n instanceof Blob)&&URL.revokeObjectURL(i.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(n){n.complete&&n.naturalWidth!==0||await new Promise((i,l)=>{let c=d=>{n.removeEventListener("load",c),n.removeEventListener("error",c),d instanceof ErrorEvent?l("Image load error"):i()};n.addEventListener("load",c),n.addEventListener("error",c)})}static async _postWorkerMessage(n,i,l,c){return Ae._postWorkerMessageSync(await n,i,l,c)}static _postWorkerMessageSync(n,i,l,c){if(!(n instanceof Worker))return-1;let d=Ae._workerMessageId++;return n.postMessage({id:d,type:i,data:l},c),d}}Ae.DEFAULT_CANVAS_SIZE=400;Ae.NO_QR_CODE_FOUND="No QR code found";Ae._disableBarcodeDetector=!1;Ae._workerMessageId=0;const Kf=({onQRDetected:o,onClose:n,isOpen:i,title:l})=>{const c=F.useRef(null),d=F.useRef(null),[m,g]=F.useState(!1),[h,f]=F.useState(""),[E,p]=F.useState(null),[v,b]=F.useState([]),[B,y]=F.useState(null),[_,A]=F.useState(!1),[Q,w]=F.useState(null),[j,M]=F.useState(!1),[k,T]=F.useState(null),[U,D]=F.useState(null),[z,P]=F.useState(null),$=Ne(ue.services.bookings.updateBooking),ae=Ne(ue.services.vouchers.redeemVoucher),H=Ne(ue.services.bookings.validateBookingByCode);F.useEffect(()=>(i&&se(),()=>{q()}),[i]);const se=async()=>{try{if(!Ae.hasCamera()){f("No camera found on this device");return}const G=await Ae.listCameras(!0);b(G);const de=G.find(ce=>ce.label.toLowerCase().includes("back")||ce.label.toLowerCase().includes("rear")||ce.label.toLowerCase().includes("environment"));y(de||G[0])}catch(G){console.error("Error initializing cameras:",G),f("Failed to access camera. Please check permissions.")}},S=async()=>{if(!(!c.current||!B))try{g(!0),f(""),p(null),T(null),d.current=new Ae(c.current,G=>ne(G),{onDecodeError:G=>{console.debug("QR decode error:",G)},highlightScanRegion:!0,highlightCodeOutline:!0,preferredCamera:B.id,maxScansPerSecond:5}),await d.current.start(),p(!0)}catch(G){console.error("Error starting QR scanner:",G),g(!1),G.name==="NotAllowedError"?(f("Camera permission denied. Please allow camera access and try again."),p(!1)):G.name==="NotFoundError"?f("No camera found. Please check your device."):G.name==="NotSupportedError"?f("Camera not supported on this device."):f("Failed to start camera. Please try again.")}},q=()=>{d.current&&(d.current.stop(),d.current.destroy(),d.current=null),g(!1),w(null),M(!1),T(null),D(null),P(null)},ne=async G=>{if(!j){M(!0),w(G.data),T(null),D(null),P(null),navigator.vibrate&&navigator.vibrate(200);try{let de,ce=!1;try{de=JSON.parse(G.data)}catch{if(/^[A-Z0-9]{8}$/.test(G.data))ce=!0,de={bookingCode:G.data};else throw new Error("Invalid QR code format. Please scan a valid booking or voucher QR code.")}if(ce||de.bookingId&&de.bookingCode||de.bookingCode)await ie(de);else if(de.voucherId&&de.code)await R(de);else throw new Error("Unknown QR code type. Please scan a valid booking or voucher QR code.")}catch(de){console.error("Error processing QR result:",de),T(de.message||"Failed to process QR code. Please try again."),w(null),navigator.vibrate&&navigator.vibrate([100,50,100])}setTimeout(()=>{M(!1),k||(w(null),P(null))},4e3)}},ie=async G=>{D("booking"),console.log("Processing booking QR:",G);try{const de=G.bookingCode||G,ce=await H({bookingCode:de});if(!ce)throw new Error(`Booking not found with code: ${de}`);if(ce.status==="confirmed")throw new Error("This booking is already confirmed.");if(ce.status==="cancelled")throw new Error("This booking has been cancelled and cannot be confirmed.");if(ce.status==="completed")throw new Error("This booking is already completed.");await $({id:ce._id,status:"confirmed"}),P({type:"booking",bookingCode:de,service:ce.service_name,customerName:ce.customer_name,date:ce.formattedDate,time:ce.formattedTime,barber:ce.barber_name}),navigator.vibrate&&navigator.vibrate([200,100,200]),o&&await o({type:"booking",success:!0,data:G,booking:ce})}catch(de){throw new Error(de.message||"Failed to confirm booking. Please try again.")}},R=async G=>{D("voucher"),console.log("Processing voucher QR:",G);try{const de=await ae({code:G.code,redeemed_by:"staff",redeemed_at:Date.now()});if(!de.success)throw new Error(de.error||"Failed to redeem voucher");P({type:"voucher",code:G.code,value:G.value,username:G.username}),navigator.vibrate&&navigator.vibrate([200,100,200]),o&&await o({type:"voucher",success:!0,data:G,result:de})}catch(de){throw new Error(de.message||"Failed to redeem voucher. Please try again.")}},O=async G=>{if(!(!G||G.id===B?.id)&&(y(G),A(!1),m&&d.current))try{await d.current.setCamera(G.id)}catch(de){console.error("Error switching camera:",de),f("Failed to switch camera")}},L=G=>G.label.toLowerCase().includes("back")||G.label.toLowerCase().includes("rear")||G.label.toLowerCase().includes("environment")?"Back Camera":G.label.toLowerCase().includes("front")||G.label.toLowerCase().includes("user")?"Front Camera":G.label||"Camera",Z=async()=>{f(""),p(null),await S()};return e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-[#E0E0E0]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-[#1A1A1A]",children:l||"QR Code Scanner"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[v.length>1&&e.jsx("button",{onClick:()=>A(!_),className:"p-2 rounded-lg border border-[#E0E0E0] hover:bg-gray-50 transition-colors",title:"Camera Settings",children:e.jsx(cc,{className:"w-5 h-5 text-[#6B6B6B]"})}),e.jsx("button",{onClick:n,className:"p-2 rounded-lg border border-[#E0E0E0] hover:bg-gray-50 transition-colors",children:e.jsx(tt,{className:"w-5 h-5 text-[#6B6B6B]"})})]})]}),_&&e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-xl border border-[#E0E0E0]",children:[e.jsx("h4",{className:"font-semibold text-[#1A1A1A] mb-3",children:"Select Camera"}),e.jsx("div",{className:"space-y-2",children:v.map(G=>e.jsxs("button",{onClick:()=>O(G),className:`w-full p-3 rounded-lg border-2 text-left transition-colors ${B?.id===G.id?"border-[#FF8C42] bg-orange-50 text-[#FF8C42]":"border-[#E0E0E0] hover:border-[#FF8C42] hover:bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:L(G)}),B?.id===G.id&&e.jsx(ze,{className:"w-5 h-5"})]}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:G.label})]},G.id))})]}),e.jsxs("div",{className:"relative bg-black rounded-xl overflow-hidden mb-4",style:{aspectRatio:"4/3"},children:[e.jsx("video",{ref:c,className:"w-full h-full object-cover",playsInline:!0,muted:!0,autoPlay:!0,style:{transform:B?.label.toLowerCase().includes("front")?"scaleX(-1)":"none"}}),m&&!Q&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-48 h-48 border-2 border-[#FF8C42] rounded-2xl animate-pulse",children:e.jsx("div",{className:"absolute inset-4 border border-[#FF8C42] rounded-xl opacity-50"})})}),z&&!k&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm border-2 border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(ze,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"font-bold text-[#1A1A1A]",children:z.type==="booking"?"Booking Confirmed!":"Voucher Redeemed!"})]}),z.type==="booking"&&e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B6B6B]",children:"Code:"}),e.jsx("span",{className:"font-semibold text-[#1A1A1A]",children:z.bookingCode})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B6B6B]",children:"Service:"}),e.jsx("span",{className:"font-semibold text-[#1A1A1A]",children:z.service})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B6B6B]",children:"Customer:"}),e.jsx("span",{className:"font-semibold text-[#1A1A1A]",children:z.customerName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B6B6B]",children:"Time:"}),e.jsx("span",{className:"font-semibold text-[#1A1A1A]",children:z.time})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B6B6B]",children:"Barber:"}),e.jsx("span",{className:"font-semibold text-[#1A1A1A]",children:z.barber})]})]}),z.type==="voucher"&&e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B6B6B]",children:"Code:"}),e.jsx("span",{className:"font-semibold text-[#1A1A1A]",children:z.code})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B6B6B]",children:"Value:"}),e.jsxs("span",{className:"font-semibold text-green-600",children:["",z.value]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B6B6B]",children:"Customer:"}),e.jsx("span",{className:"font-semibold text-[#1A1A1A]",children:z.username})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!1),w(null)},className:"w-full mt-4 bg-green-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:"Continue Scanning"})]})}),k&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm border-2 border-red-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(tt,{className:"w-6 h-6 text-red-600"}),e.jsx("span",{className:"font-bold text-[#1A1A1A]",children:"Scan Error"})]}),e.jsx("div",{className:"text-sm text-red-700 mb-4",children:k}),e.jsx("button",{onClick:()=>{T(null),M(!1),w(null)},className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Try Again"})]})}),!m&&!h&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx(xl,{className:"w-16 h-16 mx-auto mb-4 opacity-60"}),e.jsx("p",{className:"text-lg font-semibold",children:"Ready to Scan"}),e.jsx("p",{className:"text-sm opacity-80",children:"Position QR code in the frame"})]})})]}),h&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-xl",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(et,{className:"w-5 h-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-800 font-medium",children:h}),E===!1&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Please enable camera permissions in your browser settings and refresh the page."})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[m?e.jsxs("button",{onClick:q,className:"flex-1 bg-red-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-red-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(tt,{className:"w-5 h-5"}),e.jsx("span",{children:"Stop Scanning"})]}):e.jsxs("button",{onClick:S,disabled:!B||!!h,className:"flex-1 bg-[#FF8C42] text-white py-3 px-6 rounded-xl font-semibold hover:bg-[#FF7A2B] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[e.jsx(xl,{className:"w-5 h-5"}),e.jsx("span",{children:"Start Scanning"})]}),h&&E===!1&&e.jsxs("button",{onClick:Z,className:"px-6 py-3 border-2 border-[#FF8C42] text-[#FF8C42] rounded-xl font-semibold hover:bg-[#FF8C42] hover:text-white transition-colors flex items-center space-x-2",children:[e.jsx(Ka,{className:"w-5 h-5"}),e.jsx("span",{children:"Retry"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:[e.jsx("p",{className:"text-blue-800 text-sm mb-2",children:e.jsx("strong",{children:"Supported QR Codes:"})}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-blue-700",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Te,{className:"w-4 h-4"}),e.jsx("span",{children:"Booking QRs  Confirms booking"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),e.jsx("span",{children:"Voucher QRs  Redeems voucher"})]})]}),e.jsx("p",{className:"text-blue-800 text-xs mt-2",children:"Hold steady and ensure the QR code is well-lit and clearly visible."})]})]})},Cp=({isOpen:o,onClose:n,onVoucherScanned:i})=>{const[l,c]=F.useState(null),[d,m]=F.useState(null),[g,h]=F.useState(!1),[f,E]=F.useState(null),[p,v]=F.useState(null),[b,B]=F.useState(!0),y=Ne(ue.services.vouchers.redeemVoucher),_=Ne(ue.services.bookings.validateBookingByCode),A=Ne(ue.services.bookings.updateBooking),Q=async U=>{console.log("QR Data detected:",U);try{if(h(!0),m(null),B(!1),/^[A-Z0-9]{8}$/.test(U)){console.log("Detected booking code:",U),v("booking");const z=await _({bookingCode:U});if(!z){const $="Booking not found. Please check the QR code.";return m($),h(!1),B(!0),{error:$}}const P={id:z._id,code:z.booking_code,customer_name:z.customer_name,service_name:z.service_name,barber_name:z.barber_name,date:z.formattedDate,time:z.formattedTime,price:z.price,status:"scanned",type:"booking",brand:"TipunoX Angeles Barbershop"};return c(P),h(!1),{success:!0,data:P}}else if(U.startsWith("{")){console.log("Detected voucher JSON"),v("voucher");let z=null;try{z=JSON.parse(U),console.log("Parsed voucher data:",z)}catch{const $="Invalid voucher QR code format.";return m($),h(!1),B(!0),{error:$}}if(!z.code){const $="Missing voucher code in QR data.";return m($),h(!1),B(!0),{error:$}}const P={id:z.voucherId||"N/A",code:z.code,value:z.value||"N/A",expires_at:z.expires_at||"N/A",user:z.user||z.username||"N/A",redeemed:z.redeemed||!1,status:"scanned",type:"voucher",brand:z.brand||"TipunoX Angeles Barbershop"};return c(P),E(z),h(!1),{success:!0,data:P}}else{v("voucher");const z={id:"N/A",code:U,value:"N/A",expires_at:"N/A",user:"N/A",redeemed:!1,status:"scanned",type:"voucher",brand:"TipunoX Angeles Barbershop"};return c(z),E({code:U}),h(!1),{success:!0,data:z}}}catch(D){console.error("Error processing QR code:",D);const z="Failed to process QR code. Please try again.";return m(z),h(!1),B(!0),{error:z}}},w=async()=>{if(!l||!l.code){m("No item to process.");return}try{if(h(!0),m(null),p==="booking"){console.log("Confirming booking:",l.code),await A({id:l.id,status:"confirmed"});const U={...l,status:"confirmed"};c(U),m("")}else if(p==="voucher"){const U={code:l.code};l.user&&l.user!=="N/A"&&l.user.trim()&&(U.redeemed_by=l.user),console.log("Attempting voucher redemption with:",U);const D=await y(U);if(console.log("Voucher redemption response:",D),D.success||D.value){const z={...l,status:"redeemed",value:D.value||l.value,user:l.user};c(z),m("")}else throw new Error("Voucher redemption failed - no success indicator in response")}}catch(U){console.error("Error processing item:",U);let D=`Failed to process ${p}. Please try again.`;U.response?.data?.error?D=U.response.data.error:U.response?.data?.detail&&(D=U.response.data.detail),p==="voucher"?D.includes("expired")||D.includes("Voucher has expired")?D="This voucher has expired and cannot be redeemed.":D.includes("Invalid voucher code")?D="Invalid voucher code. Please verify the QR code.":D.includes("Target user not found")?D="Target user not found. Please check the username.":D.includes("already assigned")||D.includes("Voucher already assigned")?D="This voucher has already been assigned to the user.":D.includes("Voucher code is required")&&(D="Voucher code is missing. Please scan a valid QR code."):p==="booking"&&(D.includes("not found")?D="Booking not found. Please verify the QR code.":D.includes("already confirmed")&&(D="This booking has already been confirmed.")),m(D)}finally{h(!1)}},j=()=>{c(null),m(null),h(!1),E(null),v(null),B(!0),n()},M=()=>{c(null),m(null),h(!1),E(null),v(null),B(!0)},k=U=>{switch(U){case"redeemed":return"text-green-700 bg-green-100 border-green-200";case"assigned":return"text-emerald-700 bg-emerald-100 border-emerald-200";case"scanned":return"text-blue-700 bg-blue-100 border-blue-200";case"expired":return"text-red-700 bg-red-100 border-red-200";case"used_up":return"text-orange-700 bg-orange-100 border-orange-200";case"invalid":return"text-red-700 bg-red-100 border-red-200";default:return"text-gray-700 bg-gray-100 border-gray-200"}},T=U=>{switch(U){case"redeemed":return e.jsx(ze,{className:"w-5 h-5 text-green-600"});case"assigned":return e.jsx(ze,{className:"w-5 h-5 text-emerald-600"});case"scanned":return e.jsx(ot,{className:"w-5 h-5 text-blue-600"});case"expired":case"used_up":case"invalid":return e.jsx(tt,{className:"w-5 h-5 text-red-600"});default:return e.jsx(tt,{className:"w-5 h-5 text-gray-600"})}};return e.jsx(zt,{isOpen:o,onClose:j,title:"QR Code Scanner",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[b&&e.jsx(Kf,{onQRDetected:Q,onClose:j,isOpen:o,title:"QR Scanner"}),g&&e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(_t,{className:"w-6 h-6 text-[#FF8C42] animate-spin"}),e.jsxs("span",{className:"text-[#6B6B6B] font-medium",children:["Processing ",p||"QR code","..."]})]})}),l&&e.jsx("div",{className:"bg-white border-2 border-[#F5F5F5] rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:T(l.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-black text-[#1A1A1A] font-mono",children:l.code}),e.jsx("span",{className:`px-3 py-1 text-sm font-bold rounded-full border-2 uppercase ${k(l.status)}`,children:l.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"space-y-3",children:l.type==="booking"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Re,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Customer:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.customer_name})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(qt,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Price:"}),e.jsxs("p",{className:"text-[#FF8C42] font-black text-lg",children:["",l.price]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Re,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"User:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.user})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(qt,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Value:"}),e.jsxs("p",{className:"text-[#FF8C42] font-black text-lg",children:["",l.value]})]})]})]})}),e.jsx("div",{className:"space-y-3",children:l.type==="booking"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Te,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Date:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.date})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Xe,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Service:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.service_name})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Te,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Expires:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.expires_at!=="N/A"?new Date(l.expires_at).toLocaleDateString():"N/A"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Xe,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Type:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.type})]})]})]})})]}),l.type==="booking"&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"font-bold text-[#6B6B6B]",children:"Time:"}),e.jsx("span",{className:"text-[#1A1A1A] font-semibold",children:l.time})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"font-bold text-[#6B6B6B]",children:"Barber:"}),e.jsx("span",{className:"text-[#1A1A1A] font-semibold",children:l.barber_name})]})]}),l.brand!=="N/A"&&e.jsxs("div",{className:"mt-4 pt-3 border-t border-[#F5F5F5]",children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Brand:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.brand})]}),l.status==="confirmed"&&l.type==="booking"&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:e.jsx("p",{className:"text-green-800 font-bold text-sm",children:" Booking confirmed successfully!"})}),l.status==="redeemed"&&l.type==="voucher"&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:e.jsx("p",{className:"text-green-800 font-bold text-sm",children:" Voucher redeemed successfully!"})}),l.status==="assigned"&&l.type==="voucher"&&e.jsx("div",{className:"mt-4 p-3 bg-emerald-50 border border-emerald-200 rounded-xl",children:e.jsx("p",{className:"text-emerald-800 font-bold text-sm",children:" Voucher assigned successfully!"})}),l.status==="scanned"&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:e.jsxs("p",{className:"text-blue-800 font-bold text-sm",children:[" ",l.type==="booking"?"Booking":"Voucher"," scanned - Ready to ",l.type==="booking"?"confirm":"redeem"]})}),l.status==="expired"&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsxs("p",{className:"text-red-800 font-bold text-sm",children:[" This ",l.type," has expired"]})}),l.status==="used_up"&&e.jsx("div",{className:"mt-4 p-3 bg-orange-50 border border-orange-200 rounded-xl",children:e.jsxs("p",{className:"text-orange-800 font-bold text-sm",children:[" This ",l.type," has reached its usage limit"]})}),l.status==="invalid"&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsxs("p",{className:"text-red-800 font-bold text-sm",children:[" Invalid ",l.type," code"]})})]})]})}),d&&e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(tt,{className:"w-6 h-6 text-red-600"}),e.jsx("p",{className:"text-red-800 font-bold",children:d})]})}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-4 border-t border-[#F5F5F5]",children:[l&&l.status==="scanned"&&e.jsx(Ge,{onClick:w,className:"px-8 bg-[#F68B24] hover:bg-[#E67A1A] text-white font-semibold",disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),l.type==="booking"?"Validate & Confirm Booking":"Validate & Redeem Voucher"]})}),l&&e.jsxs(Ge,{variant:"outline",onClick:M,className:"px-8 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white",disabled:g,children:[e.jsx(xl,{className:"w-4 h-4 mr-2"}),"Scan Again"]}),e.jsx(Ge,{variant:"outline",onClick:j,className:"px-8 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white",disabled:g,children:"Close"})]})]})})},Bp=({isOpen:o,onClose:n,onBookingScanned:i})=>{console.log("BookingQRScannerModal render - isOpen:",o);const[l,c]=F.useState(null),[d,m]=F.useState(null),[g,h]=F.useState(!1),f=Ne(ue.services.bookings.updateBooking),E=async y=>{console.log("Booking QR Data:",y);try{h(!0),m(null);let _=null;if(y.startsWith("{"))try{_=JSON.parse(y),console.log("Parsed booking data:",_)}catch{const Q="Invalid QR code format.";return m(Q),{error:Q}}else{const Q="Invalid QR code format. Expected JSON data.";return m(Q),{error:Q}}if(!_.bookingId){const Q="Missing booking ID in QR code.";return m(Q),{error:Q}}const A={id:_.bookingId,booking_code:_.bookingCode||"N/A",customer:"Customer",service:_.service||"N/A",date:_.date||"N/A",time:_.time||"N/A",staff:_.barber||"N/A",status:"scanned",phone:"N/A",barbershop:_.barbershop||"N/A"};return c(A),{success:!0,data:A}}catch(_){console.error("Error processing booking QR code:",_);const A="Failed to process booking QR code. Please try again.";return m(A),{error:A}}finally{h(!1)}},p=async()=>{if(!l||!l.id){m("No booking to validate.");return}try{h(!0),m(null);const y=await f({id:l.id,status:"confirmed"});console.log("Booking confirmed:",y);const _={...l,status:"confirmed"};c(_),m(null)}catch(y){console.error("Error confirming booking:",y),m("Failed to confirm booking. Please try again.")}finally{h(!1)}},v=()=>{c(null),m(null),h(!1),n()},b=y=>{switch(y){case"confirmed":return"text-green-700 bg-green-100 border-green-200";case"pending":return"text-yellow-700 bg-yellow-100 border-yellow-200";case"completed":return"text-blue-700 bg-blue-100 border-blue-200";case"cancelled":return"text-red-700 bg-red-100 border-red-200";default:return"text-gray-700 bg-gray-100 border-gray-200"}},B=y=>{switch(y){case"confirmed":case"pending":return e.jsx(ze,{className:"w-5 h-5 text-green-600"});case"completed":return e.jsx(ze,{className:"w-5 h-5 text-blue-600"});case"cancelled":case"invalid":return e.jsx(tt,{className:"w-5 h-5 text-red-600"});default:return e.jsx(tt,{className:"w-5 h-5 text-gray-600"})}};return e.jsx(zt,{isOpen:o,onClose:v,title:"Booking QR Scanner",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(Kf,{onQRDetected:E,onClose:v,isOpen:o,title:"Booking Scanner"}),g&&e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(_t,{className:"w-6 h-6 text-[#FF8C42] animate-spin"}),e.jsx("span",{className:"text-[#6B6B6B] font-medium",children:"Processing booking..."})]})}),l&&e.jsx("div",{className:"bg-white border-2 border-[#F5F5F5] rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:B(l.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-black text-[#1A1A1A] font-mono",children:l.id}),e.jsx("span",{className:`px-3 py-1 text-sm font-bold rounded-full border-2 uppercase ${b(l.status)}`,children:l.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Re,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Customer:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.customer})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ot,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Service:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.service})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Te,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Date & Time:"}),e.jsxs("p",{className:"text-[#1A1A1A] font-semibold",children:[l.date," at ",l.time]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Re,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Staff:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.staff})]})]})]})]}),l.phone!=="N/A"&&e.jsxs("div",{className:"mt-4 pt-3 border-t border-[#F5F5F5]",children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Phone:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:l.phone})]}),l.status==="confirmed"&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:e.jsx("p",{className:"text-green-800 font-bold text-sm",children:" Booking confirmed - Ready for service!"})}),l.status==="pending"&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-xl",children:e.jsx("p",{className:"text-yellow-800 font-bold text-sm",children:" Confirming booking..."})}),l.status==="confirmed"&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:e.jsx("p",{className:"text-blue-800 font-bold text-sm",children:" Customer checked in - Service in progress"})}),l.status==="completed"&&e.jsx("div",{className:"mt-4 p-3 bg-gray-50 border border-gray-200 rounded-xl",children:e.jsx("p",{className:"text-gray-800 font-bold text-sm",children:" This booking has already been completed"})}),l.status==="cancelled"&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-red-800 font-bold text-sm",children:" This booking has been cancelled"})}),l.status==="scanned"&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:e.jsx("p",{className:"text-blue-800 font-bold text-sm",children:" Booking scanned - Ready to validate"})}),l.status==="invalid"&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-red-800 font-bold text-sm",children:" Invalid booking QR code"})})]})]})}),d&&e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(tt,{className:"w-6 h-6 text-red-600"}),e.jsx("p",{className:"text-red-800 font-bold",children:d})]})}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-4 border-t border-[#F5F5F5]",children:[l&&l.status==="scanned"&&e.jsx(Ge,{onClick:p,className:"px-8 bg-[#F68B24] hover:bg-[#E67A1A] text-white font-semibold",disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Validating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),"Validate & Confirm Booking"]})}),e.jsx(Ge,{variant:"outline",onClick:v,className:"px-8 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white",disabled:g,children:"Return to Selection"})]})]})})},Ap=({isOpen:o,onClose:n,onSubmit:i})=>{const[l,c]=F.useState({username:"",password:"",nickname:"",email:"",mobile_number:"",birthday:""}),d=Ne(ue.services.auth.registerUser),[m,g]=F.useState(!1),[h,f]=F.useState(null),[E,p]=F.useState({}),v=async y=>{y.preventDefault(),g(!0),f(null),p({});try{const _={username:l.username.trim(),password:l.password,mobile_number:l.mobile_number.trim(),email:l.email.trim(),...l.nickname&&{nickname:l.nickname.trim()},...l.birthday&&{birthday:l.birthday}};console.log("Creating new customer:",_);const A={..._,role:"customer"},Q=await d(A);console.log("Customer created successfully:",Q),i&&await i(Q),b(),n()}catch(_){if(console.error("Error creating customer:",_),_.response?.data){const A=_.response.data;if(typeof A=="object")if(p(A),A.non_field_errors)f(A.non_field_errors[0]);else{const Q=Object.entries(A).filter(([w])=>w!=="non_field_errors").map(([w,j])=>`${w}: ${j[0]}`);f(`Please fix the following errors: ${Q.join(", ")}`)}else f(A||"Failed to create customer")}else f(_.message||"Failed to create customer. Please try again.")}finally{g(!1)}},b=()=>{c({username:"",password:"",nickname:"",email:"",mobile_number:"",birthday:""}),f(null),p({})},B=(y,_)=>{c(A=>({...A,[y]:_}))};return e.jsx(zt,{isOpen:o,onClose:n,title:"Add New Customer",size:"lg",children:e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[h&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:h})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(Re,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Account Information"]}),e.jsx(ct,{label:"Username",placeholder:"Enter unique username",value:l.username,onChange:y=>B("username",y.target.value),required:!0,className:"border-[#F5F5F5] focus:border-[#FF8C42]",error:E.username?.[0]}),e.jsx(ct,{label:"Password",type:"password",placeholder:"Enter secure password",value:l.password,onChange:y=>B("password",y.target.value),required:!0,className:"border-[#F5F5F5] focus:border-[#FF8C42]",error:E.password?.[0]}),e.jsx(ct,{label:"Email Address",type:"email",placeholder:"customer@example.com",value:l.email,onChange:y=>B("email",y.target.value),required:!0,className:"border-[#F5F5F5] focus:border-[#FF8C42]",error:E.email?.[0]}),e.jsx(ct,{label:"Mobile Number",type:"tel",placeholder:"09123456789",value:l.mobile_number,onChange:y=>B("mobile_number",y.target.value),required:!0,className:"border-[#F5F5F5] focus:border-[#FF8C42]",error:E.mobile_number?.[0]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(Te,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Personal Details"]}),e.jsx(ct,{label:"Nickname (Optional)",placeholder:"Preferred name or alias",value:l.nickname,onChange:y=>B("nickname",y.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]",error:E.nickname?.[0]}),e.jsx(ct,{label:"Birthday (Optional)",type:"date",value:l.birthday,onChange:y=>B("birthday",y.target.value),className:"border-[#F5F5F5] focus:border-[#FF8C42]",error:E.birthday?.[0]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Re,{className:"h-5 w-5 text-blue-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Customer Account"}),e.jsxs("div",{className:"mt-2 text-sm text-blue-700",children:[e.jsx("p",{children:"This will create a new customer account that they can use to:"}),e.jsxs("ul",{className:"list-disc pl-5 mt-1",children:[e.jsx("li",{children:"Book appointments online"}),e.jsx("li",{children:"View booking history"}),e.jsx("li",{children:"Manage loyalty points"})]})]})]})]})})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-[#F5F5F5]",children:[e.jsx(Ge,{type:"button",variant:"outline",onClick:()=>{b(),n()},disabled:m,className:"flex-1 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white",children:"Cancel"}),e.jsx(Ge,{type:"submit",disabled:m,className:"flex-1 bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white hover:shadow-lg disabled:opacity-50",children:m?"Creating...":"Create Customer"})]})]})})},Jf=({isOpen:o,onClose:n,onSubmit:i})=>{const[l,c]=F.useState({customer:"",service:"",barber:"",date:"",time:""}),[d,m]=F.useState(!1),[g,h]=F.useState(null),[f,E]=F.useState({}),p=we(ue.services.services.getAllServices),v=we(ue.services.barbers.getActiveBarbers),b=we(ue.services.auth.getAllUsers),B=Ne(ue.services.bookings.createBooking),y=async j=>{j.preventDefault(),m(!0),h(null),E({});try{if(!l.customer){E({customer:"Please select a customer"});return}const M=U=>{const[D,z]=U.split(" ");let[P,$]=D.split(":");return P==="12"&&(P="00"),z==="PM"&&(P=parseInt(P,10)+12),`${P.toString().padStart(2,"0")}:${$}`},k={customer:l.customer,service:l.service,barber:l.barber||void 0,date:l.date,time:M(l.time),status:"booked"};console.log("Creating booking:",k);const T=await B(k);console.log("Booking created successfully:",T),i&&await i({_id:T,...k}),_(),n()}catch(M){if(console.error("Error creating booking:",M),M.response?.data){const k=M.response.data;if(typeof k=="object")if(E(k),k.non_field_errors)h(k.non_field_errors[0]);else{const T=Object.entries(k).filter(([U])=>U!=="non_field_errors").map(([U,D])=>`${U}: ${D[0]}`);h(`Please fix the following errors: ${T.join(", ")}`)}else h(k||"Failed to create booking")}else h(M.message||"Failed to create booking. Please try again.")}finally{m(!1)}},_=()=>{c({customer:"",service:"",barber:"",date:"",time:""}),h(null),E({})},A=(j,M)=>{c(k=>({...k,[j]:M}))},Q=["9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM","5:30 PM"],w=j=>{const M=`${parseFloat(j.price).toFixed(2)}`,k=`${j.duration_minutes} min`;return`${j.name} - ${M} (${k})`};return e.jsx(zt,{isOpen:o,onClose:n,title:"Create New Booking",size:"lg",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[g&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:g})}),(!p||!v||!b)&&e.jsxs("div",{className:"flex items-center justify-center py-4",children:[e.jsx(_t,{className:"w-5 h-5 animate-spin text-orange-500 mr-2"}),e.jsx("span",{className:"text-gray-600",children:"Loading services and staff..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(gs,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Service & Staff"]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Service ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:l.service,onChange:j=>A("service",j.target.value),required:!0,disabled:!p||!v||!b,className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200 disabled:opacity-50",children:[e.jsx("option",{value:"",children:"Select a service"}),p?.map(j=>e.jsx("option",{value:j._id,children:w(j)},j._id))||[]]}),f.service&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.service[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Barber (Optional)"}),e.jsxs("select",{value:l.barber,onChange:j=>A("barber",j.target.value),disabled:!p||!v||!b,className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200 disabled:opacity-50",children:[e.jsx("option",{value:"",children:"Any available barber"}),v?.filter(j=>j.is_active).map(j=>e.jsx("option",{value:j._id,children:j.full_name},j._id))||[]]}),f.barber&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.barber[0]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Re,{className:"h-5 w-5 text-yellow-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Staff Booking"}),e.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e.jsx("p",{children:"This creates a booking for walk-in customers or phone bookings. The booking will be associated with the staff member making the reservation."})})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(Te,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Schedule"]}),e.jsx(ct,{label:"Date",type:"date",value:l.date,onChange:j=>A("date",j.target.value),required:!0,min:new Date().toISOString().split("T")[0],className:"border-[#F5F5F5] focus:border-[#FF8C42]",error:f.date?.[0]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:l.time,onChange:j=>A("time",j.target.value),required:!0,className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200",children:[e.jsx("option",{value:"",children:"Select time"}),Q.map(j=>e.jsx("option",{value:j,children:j},j))]}),f.time&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.time[0]})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Ct,{className:"h-5 w-5 text-green-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Booking Information"}),e.jsx("div",{className:"mt-2 text-sm text-green-700",children:e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:'Status will be set to "Booked"'}),e.jsx("li",{children:"Customer will receive confirmation"}),e.jsx("li",{children:"Booking can be managed from the Bookings tab"})]})})]})]})})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-[#F5F5F5]",children:[e.jsx(Ge,{type:"button",variant:"outline",onClick:()=>{_(),n()},disabled:d,className:"flex-1 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white",children:"Cancel"}),e.jsx(Ge,{type:"submit",disabled:d||!p||!v||!b,className:"flex-1 bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white hover:shadow-lg disabled:opacity-50",children:d?"Creating...":"Create Booking"})]})]})})};var qr={},px,Lh;function Fp(){return Lh||(Lh=1,px=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),px}var Ex={},ja={},Oh;function Ja(){if(Oh)return ja;Oh=1;let o;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return ja.getSymbolSize=function(l){if(!l)throw new Error('"version" cannot be null or undefined');if(l<1||l>40)throw new Error('"version" should be in range from 1 to 40');return l*4+17},ja.getSymbolTotalCodewords=function(l){return n[l]},ja.getBCHDigit=function(i){let l=0;for(;i!==0;)l++,i>>>=1;return l},ja.setToSJISFunction=function(l){if(typeof l!="function")throw new Error('"toSJISFunc" is not a valid function.');o=l},ja.isKanjiModeEnabled=function(){return typeof o<"u"},ja.toSJIS=function(l){return o(l)},ja}var bx={},Uh;function mc(){return Uh||(Uh=1,function(o){o.L={bit:1},o.M={bit:0},o.Q={bit:3},o.H={bit:2};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return o.L;case"m":case"medium":return o.M;case"q":case"quartile":return o.Q;case"h":case"high":return o.H;default:throw new Error("Unknown EC Level: "+i)}}o.isValid=function(l){return l&&typeof l.bit<"u"&&l.bit>=0&&l.bit<4},o.from=function(l,c){if(o.isValid(l))return l;try{return n(l)}catch{return c}}}(bx)),bx}var yx,qh;function jp(){if(qh)return yx;qh=1;function o(){this.buffer=[],this.length=0}return o.prototype={get:function(n){const i=Math.floor(n/8);return(this.buffer[i]>>>7-n%8&1)===1},put:function(n,i){for(let l=0;l<i;l++)this.putBit((n>>>i-l-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),n&&(this.buffer[i]|=128>>>this.length%8),this.length++}},yx=o,yx}var vx,zh;function wp(){if(zh)return vx;zh=1;function o(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}return o.prototype.set=function(n,i,l,c){const d=n*this.size+i;this.data[d]=l,c&&(this.reservedBit[d]=!0)},o.prototype.get=function(n,i){return this.data[n*this.size+i]},o.prototype.xor=function(n,i,l){this.data[n*this.size+i]^=l},o.prototype.isReserved=function(n,i){return this.reservedBit[n*this.size+i]},vx=o,vx}var Cx={},Vh;function Np(){return Vh||(Vh=1,function(o){const n=Ja().getSymbolSize;o.getRowColCoords=function(l){if(l===1)return[];const c=Math.floor(l/7)+2,d=n(l),m=d===145?26:Math.ceil((d-13)/(2*c-2))*2,g=[d-7];for(let h=1;h<c-1;h++)g[h]=g[h-1]-m;return g.push(6),g.reverse()},o.getPositions=function(l){const c=[],d=o.getRowColCoords(l),m=d.length;for(let g=0;g<m;g++)for(let h=0;h<m;h++)g===0&&h===0||g===0&&h===m-1||g===m-1&&h===0||c.push([d[g],d[h]]);return c}}(Cx)),Cx}var Bx={},Qh;function Dp(){if(Qh)return Bx;Qh=1;const o=Ja().getSymbolSize,n=7;return Bx.getPositions=function(l){const c=o(l);return[[0,0],[c-n,0],[0,c-n]]},Bx}var Ax={},Hh;function kp(){return Hh||(Hh=1,function(o){o.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n={N1:3,N2:3,N3:40,N4:10};o.isValid=function(c){return c!=null&&c!==""&&!isNaN(c)&&c>=0&&c<=7},o.from=function(c){return o.isValid(c)?parseInt(c,10):void 0},o.getPenaltyN1=function(c){const d=c.size;let m=0,g=0,h=0,f=null,E=null;for(let p=0;p<d;p++){g=h=0,f=E=null;for(let v=0;v<d;v++){let b=c.get(p,v);b===f?g++:(g>=5&&(m+=n.N1+(g-5)),f=b,g=1),b=c.get(v,p),b===E?h++:(h>=5&&(m+=n.N1+(h-5)),E=b,h=1)}g>=5&&(m+=n.N1+(g-5)),h>=5&&(m+=n.N1+(h-5))}return m},o.getPenaltyN2=function(c){const d=c.size;let m=0;for(let g=0;g<d-1;g++)for(let h=0;h<d-1;h++){const f=c.get(g,h)+c.get(g,h+1)+c.get(g+1,h)+c.get(g+1,h+1);(f===4||f===0)&&m++}return m*n.N2},o.getPenaltyN3=function(c){const d=c.size;let m=0,g=0,h=0;for(let f=0;f<d;f++){g=h=0;for(let E=0;E<d;E++)g=g<<1&2047|c.get(f,E),E>=10&&(g===1488||g===93)&&m++,h=h<<1&2047|c.get(E,f),E>=10&&(h===1488||h===93)&&m++}return m*n.N3},o.getPenaltyN4=function(c){let d=0;const m=c.data.length;for(let h=0;h<m;h++)d+=c.data[h];return Math.abs(Math.ceil(d*100/m/5)-10)*n.N4};function i(l,c,d){switch(l){case o.Patterns.PATTERN000:return(c+d)%2===0;case o.Patterns.PATTERN001:return c%2===0;case o.Patterns.PATTERN010:return d%3===0;case o.Patterns.PATTERN011:return(c+d)%3===0;case o.Patterns.PATTERN100:return(Math.floor(c/2)+Math.floor(d/3))%2===0;case o.Patterns.PATTERN101:return c*d%2+c*d%3===0;case o.Patterns.PATTERN110:return(c*d%2+c*d%3)%2===0;case o.Patterns.PATTERN111:return(c*d%3+(c+d)%2)%2===0;default:throw new Error("bad maskPattern:"+l)}}o.applyMask=function(c,d){const m=d.size;for(let g=0;g<m;g++)for(let h=0;h<m;h++)d.isReserved(h,g)||d.xor(h,g,i(c,h,g))},o.getBestMask=function(c,d){const m=Object.keys(o.Patterns).length;let g=0,h=1/0;for(let f=0;f<m;f++){d(f),o.applyMask(f,c);const E=o.getPenaltyN1(c)+o.getPenaltyN2(c)+o.getPenaltyN3(c)+o.getPenaltyN4(c);o.applyMask(f,c),E<h&&(h=E,g=f)}return g}}(Ax)),Ax}var To={},$h;function Wf(){if($h)return To;$h=1;const o=mc(),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return To.getBlocksCount=function(c,d){switch(d){case o.L:return n[(c-1)*4+0];case o.M:return n[(c-1)*4+1];case o.Q:return n[(c-1)*4+2];case o.H:return n[(c-1)*4+3];default:return}},To.getTotalCodewordsCount=function(c,d){switch(d){case o.L:return i[(c-1)*4+0];case o.M:return i[(c-1)*4+1];case o.Q:return i[(c-1)*4+2];case o.H:return i[(c-1)*4+3];default:return}},To}var Fx={},Jn={},Yh;function Sp(){if(Yh)return Jn;Yh=1;const o=new Uint8Array(512),n=new Uint8Array(256);return function(){let l=1;for(let c=0;c<255;c++)o[c]=l,n[l]=c,l<<=1,l&256&&(l^=285);for(let c=255;c<512;c++)o[c]=o[c-255]}(),Jn.log=function(l){if(l<1)throw new Error("log("+l+")");return n[l]},Jn.exp=function(l){return o[l]},Jn.mul=function(l,c){return l===0||c===0?0:o[n[l]+n[c]]},Jn}var Gh;function _p(){return Gh||(Gh=1,function(o){const n=Sp();o.mul=function(l,c){const d=new Uint8Array(l.length+c.length-1);for(let m=0;m<l.length;m++)for(let g=0;g<c.length;g++)d[m+g]^=n.mul(l[m],c[g]);return d},o.mod=function(l,c){let d=new Uint8Array(l);for(;d.length-c.length>=0;){const m=d[0];for(let h=0;h<c.length;h++)d[h]^=n.mul(c[h],m);let g=0;for(;g<d.length&&d[g]===0;)g++;d=d.slice(g)}return d},o.generateECPolynomial=function(l){let c=new Uint8Array([1]);for(let d=0;d<l;d++)c=o.mul(c,new Uint8Array([1,n.exp(d)]));return c}}(Fx)),Fx}var jx,Ih;function Mp(){if(Ih)return jx;Ih=1;const o=_p();function n(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}return n.prototype.initialize=function(l){this.degree=l,this.genPoly=o.generateECPolynomial(this.degree)},n.prototype.encode=function(l){if(!this.genPoly)throw new Error("Encoder not initialized");const c=new Uint8Array(l.length+this.degree);c.set(l);const d=o.mod(c,this.genPoly),m=this.degree-d.length;if(m>0){const g=new Uint8Array(this.degree);return g.set(d,m),g}return d},jx=n,jx}var wx={},Nx={},Dx={},Xh;function e8(){return Xh||(Xh=1,Dx.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}),Dx}var ws={},Zh;function t8(){if(Zh)return ws;Zh=1;const o="[0-9]+",n="[A-Z $%*+\\-./:]+";let i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");const l="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+`)(?:.|[\r
]))+`;ws.KANJI=new RegExp(i,"g"),ws.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ws.BYTE=new RegExp(l,"g"),ws.NUMERIC=new RegExp(o,"g"),ws.ALPHANUMERIC=new RegExp(n,"g");const c=new RegExp("^"+i+"$"),d=new RegExp("^"+o+"$"),m=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ws.testKanji=function(h){return c.test(h)},ws.testNumeric=function(h){return d.test(h)},ws.testAlphanumeric=function(h){return m.test(h)},ws}var Kh;function Wa(){return Kh||(Kh=1,function(o){const n=e8(),i=t8();o.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},o.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},o.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},o.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},o.MIXED={bit:-1},o.getCharCountIndicator=function(d,m){if(!d.ccBits)throw new Error("Invalid mode: "+d);if(!n.isValid(m))throw new Error("Invalid version: "+m);return m>=1&&m<10?d.ccBits[0]:m<27?d.ccBits[1]:d.ccBits[2]},o.getBestModeForData=function(d){return i.testNumeric(d)?o.NUMERIC:i.testAlphanumeric(d)?o.ALPHANUMERIC:i.testKanji(d)?o.KANJI:o.BYTE},o.toString=function(d){if(d&&d.id)return d.id;throw new Error("Invalid mode")},o.isValid=function(d){return d&&d.bit&&d.ccBits};function l(c){if(typeof c!="string")throw new Error("Param is not a string");switch(c.toLowerCase()){case"numeric":return o.NUMERIC;case"alphanumeric":return o.ALPHANUMERIC;case"kanji":return o.KANJI;case"byte":return o.BYTE;default:throw new Error("Unknown mode: "+c)}}o.from=function(d,m){if(o.isValid(d))return d;try{return l(d)}catch{return m}}}(Nx)),Nx}var Jh;function Rp(){return Jh||(Jh=1,function(o){const n=Ja(),i=Wf(),l=mc(),c=Wa(),d=e8(),m=7973,g=n.getBCHDigit(m);function h(v,b,B){for(let y=1;y<=40;y++)if(b<=o.getCapacity(y,B,v))return y}function f(v,b){return c.getCharCountIndicator(v,b)+4}function E(v,b){let B=0;return v.forEach(function(y){const _=f(y.mode,b);B+=_+y.getBitsLength()}),B}function p(v,b){for(let B=1;B<=40;B++)if(E(v,B)<=o.getCapacity(B,b,c.MIXED))return B}o.from=function(b,B){return d.isValid(b)?parseInt(b,10):B},o.getCapacity=function(b,B,y){if(!d.isValid(b))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=c.BYTE);const _=n.getSymbolTotalCodewords(b),A=i.getTotalCodewordsCount(b,B),Q=(_-A)*8;if(y===c.MIXED)return Q;const w=Q-f(y,b);switch(y){case c.NUMERIC:return Math.floor(w/10*3);case c.ALPHANUMERIC:return Math.floor(w/11*2);case c.KANJI:return Math.floor(w/13);case c.BYTE:default:return Math.floor(w/8)}},o.getBestVersionForData=function(b,B){let y;const _=l.from(B,l.M);if(Array.isArray(b)){if(b.length>1)return p(b,_);if(b.length===0)return 1;y=b[0]}else y=b;return h(y.mode,y.getLength(),_)},o.getEncodedBits=function(b){if(!d.isValid(b)||b<7)throw new Error("Invalid QR Code version");let B=b<<12;for(;n.getBCHDigit(B)-g>=0;)B^=m<<n.getBCHDigit(B)-g;return b<<12|B}}(wx)),wx}var kx={},Wh;function Tp(){if(Wh)return kx;Wh=1;const o=Ja(),n=1335,i=21522,l=o.getBCHDigit(n);return kx.getEncodedBits=function(d,m){const g=d.bit<<3|m;let h=g<<10;for(;o.getBCHDigit(h)-l>=0;)h^=n<<o.getBCHDigit(h)-l;return(g<<10|h)^i},kx}var Sx={},_x,ef;function Pp(){if(ef)return _x;ef=1;const o=Wa();function n(i){this.mode=o.NUMERIC,this.data=i.toString()}return n.getBitsLength=function(l){return 10*Math.floor(l/3)+(l%3?l%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(l){let c,d,m;for(c=0;c+3<=this.data.length;c+=3)d=this.data.substr(c,3),m=parseInt(d,10),l.put(m,10);const g=this.data.length-c;g>0&&(d=this.data.substr(c),m=parseInt(d,10),l.put(m,g*3+1))},_x=n,_x}var Mx,tf;function Lp(){if(tf)return Mx;tf=1;const o=Wa(),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(l){this.mode=o.ALPHANUMERIC,this.data=l}return i.getBitsLength=function(c){return 11*Math.floor(c/2)+6*(c%2)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(c){let d;for(d=0;d+2<=this.data.length;d+=2){let m=n.indexOf(this.data[d])*45;m+=n.indexOf(this.data[d+1]),c.put(m,11)}this.data.length%2&&c.put(n.indexOf(this.data[d]),6)},Mx=i,Mx}var Rx,sf;function Op(){if(sf)return Rx;sf=1;const o=Wa();function n(i){this.mode=o.BYTE,typeof i=="string"?this.data=new TextEncoder().encode(i):this.data=new Uint8Array(i)}return n.getBitsLength=function(l){return l*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){for(let l=0,c=this.data.length;l<c;l++)i.put(this.data[l],8)},Rx=n,Rx}var Tx,af;function Up(){if(af)return Tx;af=1;const o=Wa(),n=Ja();function i(l){this.mode=o.KANJI,this.data=l}return i.getBitsLength=function(c){return c*13},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(l){let c;for(c=0;c<this.data.length;c++){let d=n.toSJIS(this.data[c]);if(d>=33088&&d<=40956)d-=33088;else if(d>=57408&&d<=60351)d-=49472;else throw new Error("Invalid SJIS character: "+this.data[c]+`
Make sure your charset is UTF-8`);d=(d>>>8&255)*192+(d&255),l.put(d,13)}},Tx=i,Tx}var Px={exports:{}},rf;function qp(){return rf||(rf=1,function(o){var n={single_source_shortest_paths:function(i,l,c){var d={},m={};m[l]=0;var g=n.PriorityQueue.make();g.push(l,0);for(var h,f,E,p,v,b,B,y,_;!g.empty();){h=g.pop(),f=h.value,p=h.cost,v=i[f]||{};for(E in v)v.hasOwnProperty(E)&&(b=v[E],B=p+b,y=m[E],_=typeof m[E]>"u",(_||y>B)&&(m[E]=B,g.push(E,B),d[E]=f))}if(typeof c<"u"&&typeof m[c]>"u"){var A=["Could not find a path from ",l," to ",c,"."].join("");throw new Error(A)}return d},extract_shortest_path_from_predecessor_list:function(i,l){for(var c=[],d=l;d;)c.push(d),i[d],d=i[d];return c.reverse(),c},find_path:function(i,l,c){var d=n.single_source_shortest_paths(i,l,c);return n.extract_shortest_path_from_predecessor_list(d,c)},PriorityQueue:{make:function(i){var l=n.PriorityQueue,c={},d;i=i||{};for(d in l)l.hasOwnProperty(d)&&(c[d]=l[d]);return c.queue=[],c.sorter=i.sorter||l.default_sorter,c},default_sorter:function(i,l){return i.cost-l.cost},push:function(i,l){var c={value:i,cost:l};this.queue.push(c),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};o.exports=n}(Px)),Px.exports}var nf;function zp(){return nf||(nf=1,function(o){const n=Wa(),i=Pp(),l=Lp(),c=Op(),d=Up(),m=t8(),g=Ja(),h=qp();function f(A){return unescape(encodeURIComponent(A)).length}function E(A,Q,w){const j=[];let M;for(;(M=A.exec(w))!==null;)j.push({data:M[0],index:M.index,mode:Q,length:M[0].length});return j}function p(A){const Q=E(m.NUMERIC,n.NUMERIC,A),w=E(m.ALPHANUMERIC,n.ALPHANUMERIC,A);let j,M;return g.isKanjiModeEnabled()?(j=E(m.BYTE,n.BYTE,A),M=E(m.KANJI,n.KANJI,A)):(j=E(m.BYTE_KANJI,n.BYTE,A),M=[]),Q.concat(w,j,M).sort(function(T,U){return T.index-U.index}).map(function(T){return{data:T.data,mode:T.mode,length:T.length}})}function v(A,Q){switch(Q){case n.NUMERIC:return i.getBitsLength(A);case n.ALPHANUMERIC:return l.getBitsLength(A);case n.KANJI:return d.getBitsLength(A);case n.BYTE:return c.getBitsLength(A)}}function b(A){return A.reduce(function(Q,w){const j=Q.length-1>=0?Q[Q.length-1]:null;return j&&j.mode===w.mode?(Q[Q.length-1].data+=w.data,Q):(Q.push(w),Q)},[])}function B(A){const Q=[];for(let w=0;w<A.length;w++){const j=A[w];switch(j.mode){case n.NUMERIC:Q.push([j,{data:j.data,mode:n.ALPHANUMERIC,length:j.length},{data:j.data,mode:n.BYTE,length:j.length}]);break;case n.ALPHANUMERIC:Q.push([j,{data:j.data,mode:n.BYTE,length:j.length}]);break;case n.KANJI:Q.push([j,{data:j.data,mode:n.BYTE,length:f(j.data)}]);break;case n.BYTE:Q.push([{data:j.data,mode:n.BYTE,length:f(j.data)}])}}return Q}function y(A,Q){const w={},j={start:{}};let M=["start"];for(let k=0;k<A.length;k++){const T=A[k],U=[];for(let D=0;D<T.length;D++){const z=T[D],P=""+k+D;U.push(P),w[P]={node:z,lastCount:0},j[P]={};for(let $=0;$<M.length;$++){const ae=M[$];w[ae]&&w[ae].node.mode===z.mode?(j[ae][P]=v(w[ae].lastCount+z.length,z.mode)-v(w[ae].lastCount,z.mode),w[ae].lastCount+=z.length):(w[ae]&&(w[ae].lastCount=z.length),j[ae][P]=v(z.length,z.mode)+4+n.getCharCountIndicator(z.mode,Q))}}M=U}for(let k=0;k<M.length;k++)j[M[k]].end=0;return{map:j,table:w}}function _(A,Q){let w;const j=n.getBestModeForData(A);if(w=n.from(Q,j),w!==n.BYTE&&w.bit<j.bit)throw new Error('"'+A+'" cannot be encoded with mode '+n.toString(w)+`.
 Suggested mode is: `+n.toString(j));switch(w===n.KANJI&&!g.isKanjiModeEnabled()&&(w=n.BYTE),w){case n.NUMERIC:return new i(A);case n.ALPHANUMERIC:return new l(A);case n.KANJI:return new d(A);case n.BYTE:return new c(A)}}o.fromArray=function(Q){return Q.reduce(function(w,j){return typeof j=="string"?w.push(_(j,null)):j.data&&w.push(_(j.data,j.mode)),w},[])},o.fromString=function(Q,w){const j=p(Q,g.isKanjiModeEnabled()),M=B(j),k=y(M,w),T=h.find_path(k.map,"start","end"),U=[];for(let D=1;D<T.length-1;D++)U.push(k.table[T[D]].node);return o.fromArray(b(U))},o.rawSplit=function(Q){return o.fromArray(p(Q,g.isKanjiModeEnabled()))}}(Sx)),Sx}var lf;function Vp(){if(lf)return Ex;lf=1;const o=Ja(),n=mc(),i=jp(),l=wp(),c=Np(),d=Dp(),m=kp(),g=Wf(),h=Mp(),f=Rp(),E=Tp(),p=Wa(),v=zp();function b(k,T){const U=k.size,D=d.getPositions(T);for(let z=0;z<D.length;z++){const P=D[z][0],$=D[z][1];for(let ae=-1;ae<=7;ae++)if(!(P+ae<=-1||U<=P+ae))for(let H=-1;H<=7;H++)$+H<=-1||U<=$+H||(ae>=0&&ae<=6&&(H===0||H===6)||H>=0&&H<=6&&(ae===0||ae===6)||ae>=2&&ae<=4&&H>=2&&H<=4?k.set(P+ae,$+H,!0,!0):k.set(P+ae,$+H,!1,!0))}}function B(k){const T=k.size;for(let U=8;U<T-8;U++){const D=U%2===0;k.set(U,6,D,!0),k.set(6,U,D,!0)}}function y(k,T){const U=c.getPositions(T);for(let D=0;D<U.length;D++){const z=U[D][0],P=U[D][1];for(let $=-2;$<=2;$++)for(let ae=-2;ae<=2;ae++)$===-2||$===2||ae===-2||ae===2||$===0&&ae===0?k.set(z+$,P+ae,!0,!0):k.set(z+$,P+ae,!1,!0)}}function _(k,T){const U=k.size,D=f.getEncodedBits(T);let z,P,$;for(let ae=0;ae<18;ae++)z=Math.floor(ae/3),P=ae%3+U-8-3,$=(D>>ae&1)===1,k.set(z,P,$,!0),k.set(P,z,$,!0)}function A(k,T,U){const D=k.size,z=E.getEncodedBits(T,U);let P,$;for(P=0;P<15;P++)$=(z>>P&1)===1,P<6?k.set(P,8,$,!0):P<8?k.set(P+1,8,$,!0):k.set(D-15+P,8,$,!0),P<8?k.set(8,D-P-1,$,!0):P<9?k.set(8,15-P-1+1,$,!0):k.set(8,15-P-1,$,!0);k.set(D-8,8,1,!0)}function Q(k,T){const U=k.size;let D=-1,z=U-1,P=7,$=0;for(let ae=U-1;ae>0;ae-=2)for(ae===6&&ae--;;){for(let H=0;H<2;H++)if(!k.isReserved(z,ae-H)){let se=!1;$<T.length&&(se=(T[$]>>>P&1)===1),k.set(z,ae-H,se),P--,P===-1&&($++,P=7)}if(z+=D,z<0||U<=z){z-=D,D=-D;break}}}function w(k,T,U){const D=new i;U.forEach(function(H){D.put(H.mode.bit,4),D.put(H.getLength(),p.getCharCountIndicator(H.mode,k)),H.write(D)});const z=o.getSymbolTotalCodewords(k),P=g.getTotalCodewordsCount(k,T),$=(z-P)*8;for(D.getLengthInBits()+4<=$&&D.put(0,4);D.getLengthInBits()%8!==0;)D.putBit(0);const ae=($-D.getLengthInBits())/8;for(let H=0;H<ae;H++)D.put(H%2?17:236,8);return j(D,k,T)}function j(k,T,U){const D=o.getSymbolTotalCodewords(T),z=g.getTotalCodewordsCount(T,U),P=D-z,$=g.getBlocksCount(T,U),ae=D%$,H=$-ae,se=Math.floor(D/$),S=Math.floor(P/$),q=S+1,ne=se-S,ie=new h(ne);let R=0;const O=new Array($),L=new Array($);let Z=0;const G=new Uint8Array(k.buffer);for(let _e=0;_e<$;_e++){const Rt=_e<H?S:q;O[_e]=G.slice(R,R+Rt),L[_e]=ie.encode(O[_e]),R+=Rt,Z=Math.max(Z,Rt)}const de=new Uint8Array(D);let ce=0,Ee,be;for(Ee=0;Ee<Z;Ee++)for(be=0;be<$;be++)Ee<O[be].length&&(de[ce++]=O[be][Ee]);for(Ee=0;Ee<ne;Ee++)for(be=0;be<$;be++)de[ce++]=L[be][Ee];return de}function M(k,T,U,D){let z;if(Array.isArray(k))z=v.fromArray(k);else if(typeof k=="string"){let se=T;if(!se){const S=v.rawSplit(k);se=f.getBestVersionForData(S,U)}z=v.fromString(k,se||40)}else throw new Error("Invalid data");const P=f.getBestVersionForData(z,U);if(!P)throw new Error("The amount of data is too big to be stored in a QR Code");if(!T)T=P;else if(T<P)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+P+`.
`);const $=w(T,U,z),ae=o.getSymbolSize(T),H=new l(ae);return b(H,T),B(H),y(H,T),A(H,U,0),T>=7&&_(H,T),Q(H,$),isNaN(D)&&(D=m.getBestMask(H,A.bind(null,H,U))),m.applyMask(D,H),A(H,U,D),{modules:H,version:T,errorCorrectionLevel:U,maskPattern:D,segments:z}}return Ex.create=function(T,U){if(typeof T>"u"||T==="")throw new Error("No input text");let D=n.M,z,P;return typeof U<"u"&&(D=n.from(U.errorCorrectionLevel,n.M),z=f.from(U.version),P=m.from(U.maskPattern),U.toSJISFunc&&o.setToSJISFunction(U.toSJISFunc)),M(T,z,D,P)},Ex}var Lx={},Ox={},of;function s8(){return of||(of=1,function(o){function n(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let l=i.slice().replace("#","").split("");if(l.length<3||l.length===5||l.length>8)throw new Error("Invalid hex color: "+i);(l.length===3||l.length===4)&&(l=Array.prototype.concat.apply([],l.map(function(d){return[d,d]}))),l.length===6&&l.push("F","F");const c=parseInt(l.join(""),16);return{r:c>>24&255,g:c>>16&255,b:c>>8&255,a:c&255,hex:"#"+l.slice(0,6).join("")}}o.getOptions=function(l){l||(l={}),l.color||(l.color={});const c=typeof l.margin>"u"||l.margin===null||l.margin<0?4:l.margin,d=l.width&&l.width>=21?l.width:void 0,m=l.scale||4;return{width:d,scale:d?4:m,margin:c,color:{dark:n(l.color.dark||"#000000ff"),light:n(l.color.light||"#ffffffff")},type:l.type,rendererOpts:l.rendererOpts||{}}},o.getScale=function(l,c){return c.width&&c.width>=l+c.margin*2?c.width/(l+c.margin*2):c.scale},o.getImageWidth=function(l,c){const d=o.getScale(l,c);return Math.floor((l+c.margin*2)*d)},o.qrToImageData=function(l,c,d){const m=c.modules.size,g=c.modules.data,h=o.getScale(m,d),f=Math.floor((m+d.margin*2)*h),E=d.margin*h,p=[d.color.light,d.color.dark];for(let v=0;v<f;v++)for(let b=0;b<f;b++){let B=(v*f+b)*4,y=d.color.light;if(v>=E&&b>=E&&v<f-E&&b<f-E){const _=Math.floor((v-E)/h),A=Math.floor((b-E)/h);y=p[g[_*m+A]?1:0]}l[B++]=y.r,l[B++]=y.g,l[B++]=y.b,l[B]=y.a}}}(Ox)),Ox}var xf;function Qp(){return xf||(xf=1,function(o){const n=s8();function i(c,d,m){c.clearRect(0,0,d.width,d.height),d.style||(d.style={}),d.height=m,d.width=m,d.style.height=m+"px",d.style.width=m+"px"}function l(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}o.render=function(d,m,g){let h=g,f=m;typeof h>"u"&&(!m||!m.getContext)&&(h=m,m=void 0),m||(f=l()),h=n.getOptions(h);const E=n.getImageWidth(d.modules.size,h),p=f.getContext("2d"),v=p.createImageData(E,E);return n.qrToImageData(v.data,d,h),i(p,f,E),p.putImageData(v,0,0),f},o.renderToDataURL=function(d,m,g){let h=g;typeof h>"u"&&(!m||!m.getContext)&&(h=m,m=void 0),h||(h={});const f=o.render(d,m,h),E=h.type||"image/png",p=h.rendererOpts||{};return f.toDataURL(E,p.quality)}}(Lx)),Lx}var Ux={},cf;function Hp(){if(cf)return Ux;cf=1;const o=s8();function n(c,d){const m=c.a/255,g=d+'="'+c.hex+'"';return m<1?g+" "+d+'-opacity="'+m.toFixed(2).slice(1)+'"':g}function i(c,d,m){let g=c+d;return typeof m<"u"&&(g+=" "+m),g}function l(c,d,m){let g="",h=0,f=!1,E=0;for(let p=0;p<c.length;p++){const v=Math.floor(p%d),b=Math.floor(p/d);!v&&!f&&(f=!0),c[p]?(E++,p>0&&v>0&&c[p-1]||(g+=f?i("M",v+m,.5+b+m):i("m",h,0),h=0,f=!1),v+1<d&&c[p+1]||(g+=i("h",E),E=0)):h++}return g}return Ux.render=function(d,m,g){const h=o.getOptions(m),f=d.modules.size,E=d.modules.data,p=f+h.margin*2,v=h.color.light.a?"<path "+n(h.color.light,"fill")+' d="M0 0h'+p+"v"+p+'H0z"/>':"",b="<path "+n(h.color.dark,"stroke")+' d="'+l(E,f,h.margin)+'"/>',B='viewBox="0 0 '+p+" "+p+'"',_='<svg xmlns="http://www.w3.org/2000/svg" '+(h.width?'width="'+h.width+'" height="'+h.width+'" ':"")+B+' shape-rendering="crispEdges">'+v+b+`</svg>
`;return typeof g=="function"&&g(null,_),_},Ux}var df;function $p(){if(df)return qr;df=1;const o=Fp(),n=Vp(),i=Qp(),l=Hp();function c(d,m,g,h,f){const E=[].slice.call(arguments,1),p=E.length,v=typeof E[p-1]=="function";if(!v&&!o())throw new Error("Callback required as last argument");if(v){if(p<2)throw new Error("Too few arguments provided");p===2?(f=g,g=m,m=h=void 0):p===3&&(m.getContext&&typeof f>"u"?(f=h,h=void 0):(f=h,h=g,g=m,m=void 0))}else{if(p<1)throw new Error("Too few arguments provided");return p===1?(g=m,m=h=void 0):p===2&&!m.getContext&&(h=g,g=m,m=void 0),new Promise(function(b,B){try{const y=n.create(g,h);b(d(y,m,h))}catch(y){B(y)}})}try{const b=n.create(g,h);f(null,d(b,m,h))}catch(b){f(b)}}return qr.create=n.create,qr.toCanvas=c.bind(null,i.render),qr.toDataURL=c.bind(null,i.renderToDataURL),qr.toString=c.bind(null,function(d,m,g){return l.render(d,g)}),qr}var Yp=$p();const St=Zx(Yp),Gp=({isOpen:o,onClose:n,onSubmit:i})=>{const{user:l}=Mt(),[c,d]=F.useState({code:"",value:"",points_required:"",max_uses:"",expires_at:"",description:""}),m=Ne(ue.services.vouchers.createVoucherWithCode),[g,h]=F.useState(""),[f,E]=F.useState(!1),p=()=>{const y="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let _="";for(let A=0;A<8;A++)_+=y.charAt(Math.floor(Math.random()*y.length));d(A=>({...A,code:_})),v(_)},v=async y=>{if(y)try{const _={username:"",code:y,value:c.value||"0"},A=await St.toDataURL(JSON.stringify(_),{width:200,margin:2,color:{dark:"#1A1A1A",light:"#FFFFFF"}});h(A)}catch(_){console.error("Failed to generate QR code:",_)}};F.useEffect(()=>{c.code&&v(c.code)},[c.code,c.value]);const b=async y=>{y.preventDefault(),E(!0);try{if(!l?.id){alert("You must be logged in to create vouchers");return}const _={code:c.code,value:parseFloat(c.value)||0,points_required:parseInt(c.points_required)||0,max_uses:parseInt(c.max_uses)||1,expires_at:new Date(c.expires_at).getTime(),description:c.description||void 0,created_by:l.id},A=await m(_);i(A),d({code:"",value:"",points_required:"",max_uses:"",expires_at:"",description:""}),h(""),n()}catch(_){console.error("Failed to create voucher:",_),alert("Failed to create voucher. Please try again.")}finally{E(!1)}},B=(y,_)=>{d(A=>({...A,[y]:_}))};return e.jsx(zt,{isOpen:o,onClose:n,title:"Create New Voucher",size:"lg",children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Voucher Details"]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Voucher Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Enter voucher code",value:c.code,onChange:y=>B("code",y.target.value.toUpperCase()),required:!0,className:"flex-1 h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200 font-mono"}),e.jsx(Ge,{type:"button",onClick:p,className:"px-6 bg-[#6B6B6B] hover:bg-[#4A4A4A] text-white rounded-xl",children:"Generate"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Points Required ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",placeholder:"100",value:c.points_required,onChange:y=>B("points_required",y.target.value),required:!0,min:"0",className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Max Uses ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",placeholder:"1",value:c.max_uses,onChange:y=>B("max_uses",y.target.value),required:!0,min:"1",className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Value ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",placeholder:"50.00",value:c.value,onChange:y=>B("value",y.target.value),required:!0,min:"0.01",step:"0.01",className:"w-full h-12 px-4 pr-12 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"}),e.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-[#6B6B6B] font-bold",children:""})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Expiry Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"datetime-local",value:c.expires_at,onChange:y=>B("expires_at",y.target.value),required:!0,className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(Re,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Description"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Description"}),e.jsx("textarea",{placeholder:"Describe what this voucher is for...",value:c.description,onChange:y=>B("description",y.target.value),rows:6,className:"w-full px-4 py-3 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200 resize-none"})]}),e.jsxs("div",{className:"bg-[#FF8C42]/10 border-2 border-[#FF8C42]/20 rounded-2xl p-4",children:[e.jsxs("h4",{className:"text-base font-bold text-[#1A1A1A] mb-2 flex items-center",children:[e.jsx(ot,{className:"w-4 h-4 mr-2"}),"Voucher Preview"]}),e.jsx("div",{className:"bg-white rounded-xl p-4 border border-[#FF8C42]/30",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-black text-[#1A1A1A] font-mono mb-2",children:c.code||"VOUCHER-CODE"}),e.jsxs("div",{className:"text-2xl font-black text-[#FF8C42] my-2",children:["",c.value||"0"," OFF"]}),e.jsxs("div",{className:"text-sm text-[#6B6B6B] mb-2",children:["Points Required: ",c.points_required||"0"]}),e.jsxs("div",{className:"text-sm text-[#6B6B6B] mb-2",children:["Max Uses: ",c.max_uses||"1"]}),e.jsxs("div",{className:"text-sm text-[#6B6B6B] mb-3",children:["Expires: ",c.expires_at?new Date(c.expires_at).toLocaleDateString():"Not Set"]}),g&&e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:g,alt:"Voucher QR Code",className:"w-24 h-24"})})]})})]})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-[#F5F5F5]",children:[e.jsx(Ge,{type:"button",variant:"outline",onClick:n,className:"flex-1 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white",children:"Cancel"}),e.jsx(Ge,{type:"submit",disabled:f,className:"flex-1 bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Creating...":"Create Voucher"})]})]})})},Ip=({onAddCustomer:o,onCreateBooking:n,onCreateVoucher:i,onVoucherScanned:l,onBookingScanned:c,activeModal:d,setActiveModal:m})=>{const[g,h]=F.useState(null),f=d!==void 0?d:g,E=m||h;return console.log("QuickActions render - currentModal:",f),wa.useEffect(()=>{console.log("currentModal changed to:",f)},[f]),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"group relative",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#FF8C42] via-[#FF7A2B] to-[#FF8C42] rounded-[28px] opacity-20 group-hover:opacity-40 blur-sm transition-all duration-500"}),e.jsxs(ks,{className:"relative text-center p-8 bg-gradient-to-br from-[#FF8C42] via-[#FF7A2B] to-[#E67E37] text-white border-0 hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-500 rounded-[24px] overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -translate-y-16 translate-x-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-black/10 rounded-full translate-y-10 -translate-x-10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-white/20 backdrop-blur-xl rounded-[20px] flex items-center justify-center shadow-2xl ring-1 ring-white/30 group-hover:scale-110 group-hover:rotate-3 transition-all duration-500",children:e.jsx(ot,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold mb-4 text-lg tracking-tight",children:"QR Scanner"}),e.jsx("button",{onClick:()=>{console.log("Scanner button clicked"),E("scannerSelection")},className:"w-full py-3 px-6 bg-white/15 backdrop-blur-xl text-white font-semibold rounded-[16px] border border-white/20 hover:bg-white/25 transition-all duration-300 text-sm shadow-lg",children:"Open Scanner"})]})]})]}),e.jsxs("div",{className:"group relative",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#1A1A1A] to-[#2A2A2A] rounded-[28px] opacity-0 group-hover:opacity-20 blur-sm transition-all duration-500"}),e.jsxs(ks,{className:"relative text-center p-8 bg-white/80 backdrop-blur-xl border border-gray-200/50 hover:border-[#FF8C42]/30 hover:shadow-xl transform hover:-translate-y-2 transition-all duration-500 rounded-[24px] group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-[#FF8C42]/5 to-transparent rounded-full -translate-y-12 translate-x-12"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-gradient-to-br from-[#1A1A1A] to-[#2A2A2A] rounded-[20px] flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-500",children:e.jsx(Zf,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold text-[#1A1A1A] mb-4 text-lg tracking-tight",children:"Add Customer"}),e.jsx("button",{onClick:()=>E("customer"),className:"w-full py-3 px-6 border-2 border-[#1A1A1A]/20 text-[#1A1A1A] font-semibold rounded-[16px] hover:bg-[#1A1A1A] hover:text-white hover:border-[#1A1A1A] transition-all duration-300 text-sm",children:"New Customer"})]})]})]}),e.jsxs("div",{className:"group relative",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#6B6B6B] to-[#4A4A4A] rounded-[28px] opacity-0 group-hover:opacity-20 blur-sm transition-all duration-500"}),e.jsxs(ks,{className:"relative text-center p-8 bg-white/80 backdrop-blur-xl border border-gray-200/50 hover:border-[#FF8C42]/30 hover:shadow-xl transform hover:-translate-y-2 transition-all duration-500 rounded-[24px] group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-[#FF8C42]/5 to-transparent rounded-full -translate-y-12 translate-x-12"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-gradient-to-br from-[#6B6B6B] to-[#4A4A4A] rounded-[20px] flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-500",children:e.jsx(Te,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold text-[#1A1A1A] mb-4 text-lg tracking-tight",children:"New Booking"}),e.jsx("button",{onClick:()=>E("booking"),className:"w-full py-3 px-6 border-2 border-[#6B6B6B]/20 text-[#6B6B6B] font-semibold rounded-[16px] hover:bg-[#6B6B6B] hover:text-white hover:border-[#6B6B6B] transition-all duration-300 text-sm",children:"Book Appointment"})]})]})]}),e.jsxs("div",{className:"group relative",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] rounded-[28px] opacity-0 group-hover:opacity-20 blur-sm transition-all duration-500"}),e.jsxs(ks,{className:"relative text-center p-8 bg-white/80 backdrop-blur-xl border border-gray-200/50 hover:border-[#FF8C42]/30 hover:shadow-xl transform hover:-translate-y-2 transition-all duration-500 rounded-[24px] group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-[#FF8C42]/5 to-transparent rounded-full -translate-y-12 translate-x-12"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-gradient-to-br from-[#FF8C42] to-[#FF7A2B] rounded-[20px] flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-500",children:e.jsx(Xe,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold text-[#1A1A1A] mb-4 text-lg tracking-tight",children:"Create Voucher"}),e.jsx("button",{onClick:()=>E("voucher"),className:"w-full py-3 px-6 border-2 border-[#FF8C42]/20 text-[#FF8C42] font-semibold rounded-[16px] hover:bg-[#FF8C42] hover:text-white hover:border-[#FF8C42] transition-all duration-300 text-sm",children:"New Voucher"})]})]})]}),f&&e.jsxs("div",{className:"fixed top-4 right-4 bg-red-500 text-white p-2 rounded z-[10001]",children:["Active Modal: ",f]}),f==="scannerSelection"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[9999]",children:e.jsx("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl border border-gray-200",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto bg-gradient-to-br from-[#FF8C42] to-[#FF7A2B]",children:e.jsx(ot,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2 text-[#1A1A1A]",children:"Choose Scanner Type"}),e.jsx("p",{className:"text-[#6B6B6B]",children:"Select what type of QR code you want to scan"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:()=>E("bookingScanner"),className:"w-full p-4 border-2 border-[#FF8C42]/20 rounded-xl hover:border-[#FF8C42] hover:bg-[#FF8C42]/5 transition-all duration-300 group",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(Te,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-bold text-[#1A1A1A] text-lg",children:"Booking QR"}),e.jsx("p",{className:"text-[#6B6B6B] text-sm",children:"Scan customer booking QR codes"})]})]})}),e.jsx("button",{onClick:()=>E("voucherScanner"),className:"w-full p-4 border-2 border-[#FF8C42]/20 rounded-xl hover:border-[#FF8C42] hover:bg-[#FF8C42]/5 transition-all duration-300 group",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#FF8C42] to-[#FF7A2B] flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(Xe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-bold text-[#1A1A1A] text-lg",children:"Voucher QR"}),e.jsx("p",{className:"text-[#6B6B6B] text-sm",children:"Scan and redeem voucher QR codes"})]})]})})]}),e.jsx("button",{onClick:()=>E(null),className:"w-full py-3 px-6 border-2 border-[#6B6B6B]/20 text-[#6B6B6B] font-semibold rounded-xl hover:bg-[#6B6B6B] hover:text-white transition-all duration-300",children:"Cancel"})]})})}),f==="voucherScanner"&&e.jsx(Cp,{isOpen:!0,onClose:()=>E(null),onVoucherScanned:p=>{l?.(p),E(null)}}),f==="bookingScanner"&&e.jsx(Bp,{isOpen:!0,onClose:()=>E(null),onBookingScanned:p=>{console.log("BookingQRScannerModal onBookingScanned called with:",p),c?.(p),E(null)}}),e.jsx(Ap,{isOpen:f==="customer",onClose:()=>E(null),onSubmit:p=>{o?.(p),E(null)}}),e.jsx(Jf,{isOpen:f==="booking",onClose:()=>E(null),onSubmit:p=>{n?.(p),E(null)}}),e.jsx(Gp,{isOpen:f==="voucher",onClose:()=>E(null),onSubmit:p=>{i?.(p),E(null)}})]})},Xp=({stats:o=[]})=>{const n=(l,c)=>c.toLowerCase().includes("revenue")?qt:c.toLowerCase().includes("booking")||c.toLowerCase().includes("appointment")?Te:c.toLowerCase().includes("customer")||c.toLowerCase().includes("client")?ka:c.toLowerCase().includes("voucher")?Xe:c.toLowerCase().includes("service")?ds:c.toLowerCase().includes("barber")?gs:c.toLowerCase().includes("point")?V6:ds,i=l=>{const c=["from-[#FF8C42] to-[#FF7A2B]","from-[#1A1A1A] to-[#2A2A2A]","from-[#6B6B6B] to-[#4A4A4A]","from-[#FF8C42] to-[#FF7A2B]","from-[#3B82F6] to-[#2563EB]","from-[#10B981] to-[#059669]"];return c[l%c.length]};return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map((l,c)=>{const d=n(l.icon,l.label),m=i(c),g=l.trend==="up"?"positive":l.trend==="down"?"negative":"neutral",h=g==="positive"?Vr:g==="negative"?uc:null;return e.jsxs(ks,{className:"relative p-5 bg-white border border-[#E5E7EB] hover:border-[#FF8C42]/40 hover:shadow-lg transition-all duration-300 rounded-2xl group",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${m} rounded-xl flex items-center justify-center shadow-sm`,children:e.jsx(d,{className:"w-5 h-5 text-white"})}),e.jsx("div",{className:"text-xs font-bold text-[#6B6B6B] uppercase tracking-wider leading-tight",children:l.label})]})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-2xl font-black text-[#1A1A1A] leading-none",children:l.value}),l.subtitle&&e.jsx("div",{className:"text-xs text-[#9CA3AF] mt-1",children:l.subtitle})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[l.change&&g!=="neutral"&&e.jsxs("div",{className:`flex items-center space-x-1 text-xs font-bold px-2.5 py-1 rounded-md ${g==="positive"?"text-green-700 bg-green-50 border border-green-200":"text-red-700 bg-red-50 border border-red-200"}`,children:[h&&e.jsx(h,{className:"w-3 h-3"}),e.jsx("span",{children:l.change})]}),g==="neutral"&&l.change&&e.jsx("div",{className:"flex items-center space-x-1 text-xs font-bold px-2.5 py-1 rounded-md text-gray-600 bg-gray-50 border border-gray-200",children:e.jsx("span",{children:l.change})}),e.jsx("span",{className:"text-xs text-[#9CA3AF] font-medium",children:"vs last week"})]})]},c)})})},Zp=({activities:o=[]})=>{const n=l=>{switch(l){case"booking":case"appointment":return Te;case"voucher":return Xe;case"customer":case"client":return Zf;case"sale":return qt;case"user":return Re;case"info":default:return _h}},i=(l,c)=>{const m={booking:"blue",appointment:"blue",voucher:"emerald",customer:"purple",client:"purple",sale:"green",user:"gray",info:"gray"}[l]||"gray";return{blue:{bg:"bg-gradient-to-r from-[#3B82F6] to-[#2563EB]",icon:"text-white",status:c==="new"?"bg-blue-50 text-blue-700 border-2 border-blue-200":"bg-green-50 text-green-700 border-2 border-green-200"},emerald:{bg:"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B]",icon:"text-white",status:c==="new"?"bg-[#FF8C42]/10 text-[#FF8C42] border-2 border-[#FF8C42]/20":"bg-green-50 text-green-700 border-2 border-green-200"},purple:{bg:"bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED]",icon:"text-white",status:c==="new"?"bg-purple-50 text-purple-700 border-2 border-purple-200":"bg-green-50 text-green-700 border-2 border-green-200"},green:{bg:"bg-gradient-to-r from-[#10B981] to-[#059669]",icon:"text-white",status:"bg-green-50 text-green-700 border-2 border-green-200"},gray:{bg:"bg-gradient-to-r from-[#6B6B6B] to-[#4A4A4A]",icon:"text-white",status:"bg-gray-50 text-gray-700 border-2 border-gray-200"}}[m]};return e.jsxs(ks,{className:"p-8 bg-white border-2 border-[#F5F5F5] rounded-3xl shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h3",{className:"text-2xl font-black text-[#1A1A1A]",children:"Recent Activity"}),e.jsxs("button",{className:"flex items-center space-x-2 text-[#FF8C42] hover:text-[#FF7A2B] text-base font-bold transition-all duration-300 group hover:scale-105",children:[e.jsx("span",{children:"View All"}),e.jsx(t5,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]}),e.jsx("div",{className:"space-y-4",children:o.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(_h,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No recent activity available"})]}):o.map(l=>{const c=n(l.type),d=i(l.type,l.status);return e.jsxs("div",{className:"flex items-start space-x-6 p-6 rounded-2xl bg-[#F5F5F5]/30 border-2 border-transparent hover:bg-white hover:border-[#FF8C42]/20 transition-all duration-300 group cursor-pointer hover:shadow-lg hover:-translate-y-1",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center ${d.bg} group-hover:scale-110 transition-transform shadow-lg ring-4 ring-white`,children:e.jsx(c,{className:`w-6 h-6 ${d.icon}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-base font-bold text-[#1A1A1A] mb-2 group-hover:text-[#FF8C42] transition-colors",children:l.message}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsx("p",{className:"text-sm text-[#6B6B6B] font-semibold",children:l.time})]})]}),e.jsx("div",{className:`px-4 py-2 rounded-xl text-sm font-bold uppercase tracking-wider ${d.status}`,children:l.status})]},l.id)})})]})},Kp=({tabs:o,activeTab:n,onTabChange:i})=>{const[l,c]=F.useState(!1),d=F.useRef(null);F.useEffect(()=>{const b=B=>{d.current&&!d.current.contains(B.target)&&c(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const m=b=>({overview:Mh,customers:ka,bookings:Te,services:gs,vouchers:Xe,reports:ic,barbers:Ix,events:I6,products:Gx,notifications:sl})[b]||Mh,g=["overview","bookings","barbers","customers","services","vouchers","notifications"],h=["reports","events","products"],f=o.filter(b=>g.includes(b.id)),E=o.filter(b=>h.includes(b.id)),p=E.find(b=>b.id===n),v=b=>{i(b),c(!1)};return e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200/50 rounded-2xl shadow-xl shadow-black/5 overflow-visible relative z-50",children:[e.jsx("nav",{className:"hidden lg:flex items-center justify-center p-2",children:e.jsxs("div",{className:"flex items-center space-x-1 bg-gray-50/80 rounded-xl p-1",children:[f.map(b=>{const B=m(b.id);return e.jsx("div",{className:"relative",children:e.jsxs("button",{onClick:()=>v(b.id),className:`relative flex items-center space-x-3 px-4 py-3 rounded-lg font-semibold text-sm transition-all duration-300 group min-w-0 ${n===b.id?"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white shadow-lg shadow-[#FF8C42]/25 transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-white/80 hover:shadow-sm"}`,children:[n===b.id&&e.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full"}),e.jsx("div",{className:`flex items-center justify-center w-5 h-5 transition-all duration-200 ${n===b.id?"text-white":"text-gray-500 group-hover:text-[#FF8C42]"}`,children:e.jsx(B,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold whitespace-nowrap",children:b.label}),b.badge>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full min-w-[18px] h-[18px] flex items-center justify-center px-1",children:b.badge>99?"99+":b.badge})]})},b.id)}),e.jsxs("div",{className:"relative",ref:d,children:[e.jsx("button",{onClick:()=>c(!l),className:`relative flex items-center space-x-2 px-4 py-3 rounded-lg font-semibold text-sm transition-all duration-300 group ${p?"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white shadow-lg shadow-[#FF8C42]/25":"text-gray-600 hover:text-gray-900 hover:bg-white/80 hover:shadow-sm"}`,children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full"}),e.jsx("div",{className:"flex items-center justify-center w-5 h-5 text-white",children:wa.createElement(m(p.id),{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold whitespace-nowrap",children:p.label}),e.jsx(Ro,{className:`w-4 h-4 text-white transition-transform duration-200 ${l?"rotate-180":""}`})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-center w-5 h-5 text-gray-500 group-hover:text-[#FF8C42]",children:e.jsx(gx,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold whitespace-nowrap",children:"More"}),e.jsx(Ro,{className:`w-4 h-4 text-gray-500 group-hover:text-[#FF8C42] transition-transform duration-200 ${l?"rotate-180":""}`})]})}),l&&e.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white rounded-xl shadow-xl border border-gray-200/50 py-2",style:{zIndex:99999,position:"absolute"},children:E.map(b=>{const B=m(b.id);return e.jsxs("button",{onClick:()=>v(b.id),className:`w-full flex items-center space-x-3 px-4 py-3 text-left transition-all duration-200 ${n===b.id?"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white":"text-gray-600 hover:bg-gray-50 hover:text-[#FF8C42]"}`,children:[e.jsx("div",{className:`flex items-center justify-center w-5 h-5 ${n===b.id?"text-white":"text-gray-500"}`,children:e.jsx(B,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold",children:b.label})]},b.id)})})]})]})}),e.jsx("nav",{className:"lg:hidden",children:e.jsxs("div",{className:"flex overflow-x-auto scrollbar-hide p-2 space-x-1",children:[f.map(b=>{const B=m(b.id);return e.jsx("div",{className:"relative",children:e.jsxs("button",{onClick:()=>v(b.id),className:`flex flex-col items-center justify-center min-w-[70px] px-2 py-3 rounded-xl font-medium text-xs transition-all duration-300 whitespace-nowrap relative ${n===b.id?"bg-gradient-to-b from-[#FF8C42] to-[#FF7A2B] text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx("div",{className:`flex items-center justify-center w-5 h-5 mb-1 transition-all duration-200 ${n===b.id?"text-white":"text-gray-500"}`,children:e.jsx(B,{className:"w-4 h-4"})}),e.jsx("span",{className:"font-semibold text-[10px]",children:b.label}),n===b.id&&e.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full"}),b.badge>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold rounded-full min-w-[14px] h-[14px] flex items-center justify-center px-0.5",children:b.badge>99?"99":b.badge})]})},b.id)}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>c(!l),className:`flex flex-col items-center justify-center min-w-[70px] px-2 py-3 rounded-xl font-medium text-xs transition-all duration-300 whitespace-nowrap ${p?"bg-gradient-to-b from-[#FF8C42] to-[#FF7A2B] text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx("div",{className:`flex items-center justify-center w-5 h-5 mb-1 transition-all duration-200 ${p?"text-white":"text-gray-500"}`,children:p?wa.createElement(m(p.id),{className:"w-4 h-4"}):e.jsx(gx,{className:"w-4 h-4"})}),e.jsx("span",{className:"font-semibold text-[10px]",children:p?p.label:"More"}),p&&e.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full"})]}),l&&e.jsx("div",{className:"absolute top-full right-0 mt-2 w-40 bg-white rounded-xl shadow-xl border border-gray-200/50 py-2",style:{zIndex:99999,position:"absolute"},children:E.map(b=>{const B=m(b.id);return e.jsxs("button",{onClick:()=>v(b.id),className:`w-full flex items-center space-x-3 px-3 py-2 text-left transition-all duration-200 ${n===b.id?"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white":"text-gray-600 hover:bg-gray-50 hover:text-[#FF8C42]"}`,children:[e.jsx("div",{className:`flex items-center justify-center w-4 h-4 ${n===b.id?"text-white":"text-gray-500"}`,children:e.jsx(B,{className:"w-4 h-4"})}),e.jsx("span",{className:"font-semibold text-xs",children:b.label})]},b.id)})})]})]})}),e.jsx("nav",{className:"hidden md:flex lg:hidden items-center justify-center p-2",children:e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50/80 rounded-xl p-1",children:[f.map(b=>{const B=m(b.id);return e.jsx("div",{className:"relative",children:e.jsxs("button",{onClick:()=>v(b.id),className:`flex items-center space-x-2 px-3 py-2.5 rounded-lg font-semibold text-sm transition-all duration-300 whitespace-nowrap relative ${n===b.id?"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-white/80"}`,children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{children:b.label}),b.badge>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full min-w-[18px] h-[18px] flex items-center justify-center px-1",children:b.badge>99?"99+":b.badge})]})},b.id)}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>c(!l),className:`flex items-center space-x-2 px-3 py-2.5 rounded-lg font-semibold text-sm transition-all duration-300 whitespace-nowrap ${p?"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-white/80"}`,children:p?e.jsxs(e.Fragment,{children:[wa.createElement(m(p.id),{className:"w-4 h-4"}),e.jsx("span",{children:p.label}),e.jsx(Ro,{className:`w-4 h-4 transition-transform duration-200 ${l?"rotate-180":""}`})]}):e.jsxs(e.Fragment,{children:[e.jsx(gx,{className:"w-4 h-4"}),e.jsx("span",{children:"More"}),e.jsx(Ro,{className:`w-4 h-4 transition-transform duration-200 ${l?"rotate-180":""}`})]})}),l&&e.jsx("div",{className:"absolute top-full left-0 mt-2 w-44 bg-white rounded-xl shadow-xl border border-gray-200/50 py-2",style:{zIndex:99999,position:"absolute"},children:E.map(b=>{const B=m(b.id);return e.jsxs("button",{onClick:()=>v(b.id),className:`w-full flex items-center space-x-3 px-4 py-2.5 text-left transition-all duration-200 ${n===b.id?"bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white":"text-gray-600 hover:bg-gray-50 hover:text-[#FF8C42]"}`,children:[e.jsx("div",{className:`flex items-center justify-center w-4 h-4 ${n===b.id?"text-white":"text-gray-500"}`,children:e.jsx(B,{className:"w-4 h-4"})}),e.jsx("span",{className:"font-semibold text-sm",children:b.label})]},b.id)})})]})]})})]})},Jp=({isOpen:o,onClose:n,title:i,message:l,details:c=[]})=>e.jsx(zt,{isOpen:o,onClose:n,title:"",size:"md",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:e.jsx(ze,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i||"Success!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:l}),c.length>0&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Details:"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:c.map((d,m)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(ze,{className:"h-3 w-3 text-green-500 mr-2 flex-shrink-0"}),d]},m))})]}),e.jsx("button",{onClick:n,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Close"})]})});class fl{constructor(n=0,i="Network Error"){this.status=n,this.text=i}}const Wp=()=>{if(!(typeof localStorage>"u"))return{get:o=>Promise.resolve(localStorage.getItem(o)),set:(o,n)=>Promise.resolve(localStorage.setItem(o,n)),remove:o=>Promise.resolve(localStorage.removeItem(o))}},vt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Wp()},hc=o=>o?typeof o=="string"?{publicKey:o}:o.toString()==="[object Object]"?o:{}:{},eE=(o,n="https://api.emailjs.com")=>{if(!o)return;const i=hc(o);vt.publicKey=i.publicKey,vt.blockHeadless=i.blockHeadless,vt.storageProvider=i.storageProvider,vt.blockList=i.blockList,vt.limitRate=i.limitRate,vt.origin=i.origin||n},a8=async(o,n,i={})=>{const l=await fetch(vt.origin+o,{method:"POST",headers:i,body:n}),c=await l.text(),d=new fl(l.status,c);if(l.ok)return d;throw d},r8=(o,n,i)=>{if(!o||typeof o!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!n||typeof n!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||typeof i!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},tE=o=>{if(o&&o.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},n8=o=>o.webdriver||!o.languages||o.languages.length===0,l8=()=>new fl(451,"Unavailable For Headless Browser"),sE=(o,n)=>{if(!Array.isArray(o))throw"The BlockList list has to be an array";if(typeof n!="string")throw"The BlockList watchVariable has to be a string"},aE=o=>!o.list?.length||!o.watchVariable,rE=(o,n)=>o instanceof FormData?o.get(n):o[n],o8=(o,n)=>{if(aE(o))return!1;sE(o.list,o.watchVariable);const i=rE(n,o.watchVariable);return typeof i!="string"?!1:o.list.includes(i)},i8=()=>new fl(403,"Forbidden"),nE=(o,n)=>{if(typeof o!="number"||o<0)throw"The LimitRate throttle has to be a positive number";if(n&&typeof n!="string")throw"The LimitRate ID has to be a non-empty string"},lE=async(o,n,i)=>{const l=Number(await i.get(o)||0);return n-Date.now()+l},x8=async(o,n,i)=>{if(!n.throttle||!i)return!1;nE(n.throttle,n.id);const l=n.id||o;return await lE(l,n.throttle,i)>0?!0:(await i.set(l,Date.now().toString()),!1)},c8=()=>new fl(429,"Too Many Requests"),oE=async(o,n,i,l)=>{const c=hc(l),d=c.publicKey||vt.publicKey,m=c.blockHeadless||vt.blockHeadless,g=c.storageProvider||vt.storageProvider,h={...vt.blockList,...c.blockList},f={...vt.limitRate,...c.limitRate};return m&&n8(navigator)?Promise.reject(l8()):(r8(d,o,n),tE(i),i&&o8(h,i)?Promise.reject(i8()):await x8(location.pathname,f,g)?Promise.reject(c8()):a8("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:d,service_id:o,template_id:n,template_params:i}),{"Content-type":"application/json"}))},iE=o=>{if(!o||o.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},xE=o=>typeof o=="string"?document.querySelector(o):o,cE=async(o,n,i,l)=>{const c=hc(l),d=c.publicKey||vt.publicKey,m=c.blockHeadless||vt.blockHeadless,g=vt.storageProvider||c.storageProvider,h={...vt.blockList,...c.blockList},f={...vt.limitRate,...c.limitRate};if(m&&n8(navigator))return Promise.reject(l8());const E=xE(i);r8(d,o,n),iE(E);const p=new FormData(E);return o8(h,p)?Promise.reject(i8()):await x8(location.pathname,f,g)?Promise.reject(c8()):(p.append("lib_version","4.4.1"),p.append("service_id",o),p.append("template_id",n),p.append("user_id",d),a8("/api/v1.0/email/send-form",p))},uf={init:eE,send:oE,sendForm:cE,EmailJSResponseStatus:fl},dE=({isOpen:o,onClose:n,voucher:i})=>{const{user:l}=Mt(),[c,d]=F.useState([]),[m,g]=F.useState([]),[h,f]=F.useState(""),[E,p]=F.useState(!1),[v,b]=F.useState(!1),[B,y]=F.useState(!1),[_,A]=F.useState([]),Q=we(ue.services.auth.getAllUsers),w=we(ue.services.vouchers.getVoucherAssignedUsers,i?{voucherId:i._id}:"skip"),j=Ne(ue.services.vouchers.assignVoucherByCode),[M,k]=F.useState(0),[T,U]=F.useState(""),D=F.useRef(null),z="service_4y8wlo6",P="template_vj10o2t",$="LdJKCGcFqSk3IAdnu";F.useEffect(()=>{o&&ae()},[o,i]),F.useEffect(()=>{if(Q&&Array.isArray(Q)){const ie=w?w.map(O=>O._id):[],R=Q.filter(O=>O.role==="customer"&&!ie.includes(O._id));d(R)}},[Q,w]),F.useEffect(()=>{const ie=R=>{D.current&&!D.current.contains(R.target)&&f("")};return document.addEventListener("mousedown",ie),()=>document.removeEventListener("mousedown",ie)},[]),F.useEffect(()=>{if(Q&&Array.isArray(Q)){const ie=w?w.map(O=>O._id):[],R=Q.filter(O=>O.role==="customer"&&!ie.includes(O._id)&&(O.username?.toLowerCase().includes(h.toLowerCase())||O.email?.toLowerCase().includes(h.toLowerCase())||O.nickname?.toLowerCase().includes(h.toLowerCase())));d(R)}},[Q,h,w]);const ae=async()=>{if(i)try{const ie={username:"",code:i.code,value:i.value},R=await St.toDataURL(JSON.stringify(ie),{width:300,margin:2,color:{dark:"#1A1A1A",light:"#FFFFFF"}});U(R)}catch(ie){console.error("Failed to generate QR code:",ie)}},H=()=>{y(!1),A([]),n()},se=ie=>{g(R=>{const O=ie._id||ie.id;return R.find(Z=>(Z._id||Z.id)===O)?R.filter(Z=>(Z._id||Z.id)!==O):[...R,ie]})},S=()=>{g([...c])},q=()=>{g([])},ne=async()=>{if(m.length===0){alert("Please select at least one user to send the voucher to.");return}const ie=m.filter(O=>!O.email||O.email.trim()==="");if(ie.length>0){const O=ie.map(L=>L.username).join(", ");alert(`The following users don't have email addresses: ${O}`);return}b(!0),k(0);let R=0;try{console.log("Initializing EmailJS with service:",z),uf.init($);for(const L of m)try{const Z={code:i.code,user_id:L._id||L.id,assigned_by:l.id};console.log("Assigning voucher to user:",Z),await j(Z),console.log(`Voucher ${i.code} assigned to ${L.username}`);const G={voucherId:i.id,username:L.username,code:i.code,value:i.value,expires_at:i.expires_at,type:"voucher",brand:"TipunoX Angeles Barbershop"};console.log("Generating QR code for user:",L.username,"with data:",G);const de=await St.toDataURL(JSON.stringify(G),{width:200,margin:1,color:{dark:"#1A1A1A",light:"#FFFFFF"},errorCorrectionLevel:"M",type:"image/png",quality:.6});if(!de||!de.startsWith("data:image/png;base64,"))throw new Error("Failed to generate QR code for user: "+L.username);console.log("Generated QR Code URL length:",de.length),console.log("QR Code URL preview:",de.substring(0,100)+"...");const ce={to_name:L.nickname||L.username,to_email:L.email,voucher_code:i.code,voucher_value:`${parseFloat(i.value).toFixed(2)}`,points_required:i.points_required||0,expires_at:new Date(i.expires_at).toLocaleDateString(),qr_code_image:de,business_name:"TipunoX Angeles Barbershop"};console.log("Email template parameters:",{...ce,qr_code_image:`QR_CODE_DATA_URL (${de.length} chars)`});const Ee=await uf.send(z,P,ce);console.log(`Email sent successfully to ${l.email}:`,Ee),R++,k(be=>{const _e=be+1;return console.log(`Incrementing sent count from ${be} to ${_e}`),_e})}catch(Z){console.error(`Failed to assign/send voucher to ${L.username}:`,Z),Z.text?(console.error("EmailJS Error:",Z.text),alert(`Failed to send email to ${L.email}: ${Z.text}`)):Z.message&&(console.error("General Error:",Z.message),alert(`Failed to process voucher for ${L.username}: ${Z.message}`))}console.log("Final email send count:",R,"out of",m.length);const O=m.map(L=>`${L.username} (${L.email})`);R>0?(A(O.slice(0,R)),y(!0)):m.length>0&&alert("Vouchers were assigned but no emails were sent. Please check the console for errors.")}catch(O){console.error("Failed to assign vouchers:",O),alert("Failed to assign vouchers. Please try again.")}finally{b(!1)}};return i?e.jsxs(e.Fragment,{children:[e.jsx(zt,{isOpen:o,onClose:n,title:"Send Voucher via Email",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-[#FF8C42]/10 border-2 border-[#FF8C42]/20 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:T&&e.jsx("img",{src:T,alt:"Voucher QR Code",className:"w-20 h-20 rounded-lg"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] mb-1",children:["Voucher ",i.code]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B6B6B]",children:"Value:"})," ",e.jsxs("span",{className:"font-semibold",children:["",parseFloat(i.value).toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B6B6B]",children:"Points:"})," ",e.jsx("span",{className:"font-semibold",children:i.points_required||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B6B6B]",children:"Max Uses:"})," ",e.jsx("span",{className:"font-semibold",children:i.max_uses||1})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B6B6B]",children:"Expires:"})," ",e.jsx("span",{className:"font-semibold",children:new Date(i.expires_at).toLocaleDateString()})]})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-base font-bold text-[#1A1A1A] flex items-center",children:[e.jsx(ka,{className:"w-5 h-5 text-[#FF8C42] mr-2"}),"Select Recipients (",m.length," selected)"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:S,className:"text-xs px-3 py-1 border border-[#FF8C42] text-[#FF8C42] rounded-lg hover:bg-[#FF8C42]/10",children:"Select All"}),e.jsx("button",{onClick:q,className:"text-xs px-3 py-1 border border-[#6B6B6B] text-[#6B6B6B] rounded-lg hover:bg-[#6B6B6B]/10",children:"Clear All"})]})]}),e.jsx("div",{className:"relative",ref:D,children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search customers...",value:h,onChange:ie=>f(ie.target.value),className:"w-full h-10 px-4 pr-10 border-2 border-[#F5F5F5] rounded-xl text-sm focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"}),e.jsx(ta,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[#6B6B6B] w-4 h-4"})]})}),m.length>0&&e.jsx("div",{className:"border-2 border-[#F5F5F5] rounded-xl p-3",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(ie=>e.jsxs("div",{className:"flex items-center space-x-1 bg-[#FF8C42]/10 border border-[#FF8C42]/20 rounded-lg px-2 py-1 text-xs",children:[e.jsx("span",{className:"text-[#1A1A1A] font-medium",children:ie.username}),e.jsx("button",{onClick:()=>se(ie),className:"text-[#FF8C42] hover:text-[#FF7A2B]",children:e.jsx(hl,{className:"w-3 h-3"})})]},ie.id))})}),e.jsx("div",{className:"border-2 border-[#F5F5F5] rounded-xl max-h-64 overflow-y-auto",children:E?e.jsx("div",{className:"p-4 text-center text-[#6B6B6B]",children:"Loading customers..."}):c.length>0?e.jsx("div",{className:"p-2 space-y-1",children:c.map(ie=>{const R=m.find(O=>O.id===ie.id);return e.jsxs("div",{onClick:()=>se(ie),className:`flex items-center space-x-3 p-2 rounded-lg cursor-pointer transition-colors ${R?"bg-[#FF8C42]/10 border-[#FF8C42]/20 border":"hover:bg-[#F5F5F5]"}`,children:[e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${R?"bg-[#FF8C42] border-[#FF8C42]":"border-[#D1D5DB]"}`,children:R&&e.jsx(ze,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-[#1A1A1A] text-sm",children:ie.username}),e.jsx("div",{className:"text-xs text-[#6B6B6B]",children:ie.email}),ie.nickname&&e.jsxs("div",{className:"text-xs text-[#FF8C42]",children:['"',ie.nickname,'"']})]})]},ie.id)})}):e.jsx("div",{className:"p-4 text-center text-[#6B6B6B]",children:h?"No customers found matching your search.":"No customers available."})})]}),v&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),e.jsxs("div",{className:"text-blue-700",children:["Assigning vouchers and sending emails... (",M,"/",m.length,")"]})]})}),e.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-[#F5F5F5]",children:[e.jsx(Ge,{type:"button",variant:"outline",onClick:n,disabled:v,className:"flex-1 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white",children:"Cancel"}),e.jsx(Ge,{type:"button",onClick:ne,disabled:m.length===0||v,className:"flex-1 bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white hover:shadow-lg flex items-center justify-center",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Assigning..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Js,{className:"w-4 h-4 mr-2"}),"Assign & Send to ",m.length," User",m.length!==1?"s":""]})})]})]})}),e.jsx(Jp,{isOpen:B,onClose:H,title:"Vouchers Sent Successfully!",message:`Successfully assigned vouchers and sent ${_.length} emails.`,details:_})]}):null},uE=({isOpen:o,onClose:n,voucher:i,assignedUsers:l=[]})=>i?e.jsx(zt,{isOpen:o,onClose:n,title:`Users Assigned to Voucher: ${i.code}`,size:"lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-orange-900",children:"Voucher Details"}),e.jsxs("p",{className:"text-orange-700",children:["Code: ",i.code]}),e.jsxs("p",{className:"text-orange-700",children:["Value: ",parseFloat(i.value).toFixed(2)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-orange-600",children:"Assigned Users"}),e.jsx("p",{className:"text-2xl font-bold text-orange-900",children:l.length})]})]})}),l.length>0?e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Assigned Users:"}),l.map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Re,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:c.username||"Unknown User"}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[e.jsx(Js,{className:"w-3 h-3 mr-1"}),c.email||"No email"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`flex items-center ${c.assignment_status==="redeemed"?"text-green-600":"text-blue-600"}`,children:[e.jsx(ze,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-sm font-medium capitalize",children:c.assignment_status||"Assigned"})]}),c.assigned_at&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.jsx(Te,{className:"w-3 h-3 inline mr-1"}),"Assigned: ",new Date(c.assigned_at).toLocaleDateString()]}),c.redeemed_at&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.jsx(Te,{className:"w-3 h-3 inline mr-1"}),"Redeemed: ",new Date(c.redeemed_at).toLocaleDateString()]})]})]},c._id||d))]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Re,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Users Assigned"}),e.jsx("p",{className:"text-gray-600",children:"This voucher hasn't been assigned to any users yet."})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:n,className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"Close"})})]})}):null,mE=({vouchers:o=[],onRefresh:n,onCreateVoucher:i})=>{const[l,c]=F.useState(""),[d,m]=F.useState("all"),[g,h]=F.useState("created_at"),[f,E]=F.useState(null),[p,v]=F.useState(null),[b,B]=F.useState(null),[y,_]=F.useState(!1),A=Ne(ue.services.vouchers.deleteVoucher),Q=we(ue.services.vouchers.getVoucherAssignedUsers,b?{voucherId:b._id}:"skip"),w=D=>D.redeemed?{status:"redeemed",label:"Redeemed",icon:ze,bg:"bg-green-50",text:"text-green-700",border:"border-green-200",iconColor:"text-green-500"}:D.expires_at<Date.now()?{status:"expired",label:"Expired",icon:tt,bg:"bg-red-50",text:"text-red-700",border:"border-red-200",iconColor:"text-red-500"}:{status:"active",label:"Active",icon:Ct,bg:"bg-orange-50",text:"text-orange-700",border:"border-orange-200",iconColor:"text-orange-500"},j=async D=>{if(confirm(`Are you sure you want to delete voucher "${D.code}"?`)){_(!0);try{await A({id:D._id}),n()}catch(z){console.error("Failed to delete voucher:",z),alert("Failed to delete voucher. Please try again.")}finally{_(!1)}}},M=o.filter(D=>{const z=D.code.toLowerCase().includes(l.toLowerCase()),P=d==="all"||w(D).status===d;return z&&P}).sort((D,z)=>g==="value"?parseFloat(z.value)-parseFloat(D.value):g==="expires_at"?new Date(D.expires_at)-new Date(z.expires_at):new Date(z.created_at)-new Date(D.created_at)),k={total:o.length,active:o.filter(D=>!D.redeemed&&!D.isExpired).length,redeemed:o.filter(D=>D.redeemed).length,expired:o.filter(D=>D.isExpired&&!D.redeemed).length,totalValue:o.reduce((D,z)=>D+parseFloat(z.value),0)},T=({voucher:D})=>{const z=F.useRef(null),P=JSON.stringify({voucherId:D.id,code:D.code,type:"voucher",brand:"TipunoX Angeles Barbershop"});return F.useEffect(()=>{z.current&&St.toCanvas(z.current,P,{width:32,margin:0,color:{dark:"#36454F",light:"#ffffff"},errorCorrectionLevel:"M"},$=>{$&&console.error("Mini QR error:",$)})},[P]),e.jsx("canvas",{ref:z,className:"rounded w-8 h-8",style:{maxWidth:"32px",maxHeight:"32px"}})},U=({voucher:D,onClose:z})=>{const P=F.useRef(null),$=JSON.stringify({voucherId:D.id,code:D.code,value:D.value,expires_at:D.expires_at,user:D.user,redeemed:!!D.redeemed,type:"voucher",brand:"TipunoX Angeles Barbershop"});F.useEffect(()=>{P.current&&St.toCanvas(P.current,$,{width:220,margin:2,color:{dark:"#1F2937",light:"#ffffff"},errorCorrectionLevel:"H"},q=>{q&&console.error("QR generation error:",q)})},[$]);const ae=async()=>{try{const q=await St.toDataURL($,{width:600,margin:2,color:{dark:"#111827",light:"#ffffff"},errorCorrectionLevel:"H"}),ne=document.createElement("a");ne.href=q,ne.download=`voucher-${D.code}.png`,ne.click()}catch(q){console.error("Failed to download QR:",q)}},H=async()=>{try{const q=await St.toDataURL($,{width:600,margin:2,color:{dark:"#111827",light:"#ffffff"},errorCorrectionLevel:"H"}),ne=window.open("","_blank");if(!ne)return;ne.document.write(`
          <html>
            <head>
              <title>Voucher ${D.code} - QR</title>
              <style>
                body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; text-align: center; padding: 24px; }
                .code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; font-weight: 700; color: #F68B24; }
              </style>
            </head>
            <body>
              <h2>Voucher <span class="code">${D.code}</span></h2>
              <img src="${q}" alt="Voucher QR" style="width: 320px; height: 320px;" />
              <p>Present this QR at the counter to redeem.</p>
              <script>window.onload = () => { window.print(); window.onafterprint = () => window.close(); };<\/script>
            </body>
          </html>
        `),ne.document.close()}catch(q){console.error("Failed to print QR:",q)}},se=async()=>{try{await navigator.clipboard.writeText(D.code)}catch(q){console.error("Failed to copy code:",q)}},S=w(D);return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl border border-gray-200",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mx-auto bg-gradient-to-br from-orange-400 to-amber-500 shadow-sm",children:e.jsx(ot,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-gray-900",children:"Voucher QR Code"}),e.jsx("p",{className:"text-sm font-mono font-bold text-orange-600",children:D.code}),e.jsx("p",{className:"text-sm text-gray-500",children:"Scan this code to validate or redeem"})]}),e.jsx("div",{className:"p-4 rounded-xl bg-orange-50 border border-orange-100",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("canvas",{ref:P,className:"rounded-lg"})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-left",children:[e.jsxs("div",{className:"p-3 rounded-xl bg-gray-50",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Value"}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:D.formattedValue||`${parseFloat(D.value).toFixed(2)}`})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-gray-50",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Expires"}),e.jsx("div",{className:`text-sm font-bold ${D.isExpired?"text-red-600":"text-gray-900"}`,children:new Date(D.expires_at).toLocaleDateString()})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-gray-50",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"User"}),e.jsxs("div",{className:"text-sm font-bold text-gray-900",children:["User ",D.user]})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Status"}),e.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${S.bg} ${S.border} border ${S.text}`,children:[e.jsx(S.icon,{className:`h-3 w-3 mr-1 ${S.iconColor}`}),S.label]})]}),e.jsxs("button",{onClick:se,className:"ml-2 inline-flex items-center px-2.5 py-1 border border-gray-200 text-xs font-medium rounded bg-white hover:bg-gray-50 text-gray-700",children:[e.jsx(o5,{className:"h-3 w-3 mr-1"})," Copy"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx("button",{onClick:z,className:"px-4 py-2 rounded-xl text-gray-700 border border-gray-200 hover:bg-gray-50",children:"Close"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:ae,className:"inline-flex items-center px-3 py-2 rounded-xl text-white bg-orange-500 hover:bg-orange-600",children:[e.jsx(Gf,{className:"h-4 w-4 mr-1"})," Download"]}),e.jsxs("button",{onClick:H,className:"inline-flex items-center px-3 py-2 rounded-xl text-orange-700 bg-orange-50 hover:bg-orange-100 border border-orange-200",children:[e.jsx(O5,{className:"h-4 w-4 mr-1"})," Print"]})]})]})]})})})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.total})]}),e.jsx(Xe,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:k.active})]}),e.jsx(Ct,{className:"h-8 w-8 text-orange-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Redeemed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:k.redeemed})]}),e.jsx(ze,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Expired"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:k.expired})]}),e.jsx(tt,{className:"h-8 w-8 text-red-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",k.totalValue.toFixed(0)]})]}),e.jsx(qt,{className:"h-8 w-8 text-blue-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search voucher code...",value:l,onChange:D=>c(D.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Sa,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:d,onChange:D=>m(D.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"redeemed",children:"Redeemed"}),e.jsx("option",{value:"expired",children:"Expired"})]})]}),e.jsxs("select",{value:g,onChange:D=>h(D.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"created_at",children:"Sort by Date"}),e.jsx("option",{value:"value",children:"Sort by Value"}),e.jsx("option",{value:"expires_at",children:"Sort by Expiry"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:n,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(Ka,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{onClick:i,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx("span",{children:"New Voucher"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(D=>{const z=w(D),P=z.icon;return e.jsxs("div",{className:`bg-white rounded-lg border-2 ${z.border} shadow-sm hover:shadow-md transition-shadow p-4`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-orange-50 border-2 border-orange-200 flex items-center justify-center w-12 h-12",children:e.jsx(T,{voucher:D})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-mono text-sm font-bold text-gray-900",children:D.code}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Points: ",D.points_required]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full ${z.bg} ${z.border} border`,children:[e.jsx(P,{className:`h-3 w-3 ${z.iconColor}`}),e.jsx("span",{className:`text-xs font-medium ${z.text}`,children:z.label})]}),e.jsx("button",{onClick:()=>j(D),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete Voucher",children:e.jsx(Da,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Value"}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["",parseFloat(D.value).toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Points Required"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:D.points_required})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Assignments"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[D.assignedCount||0,"/",D.max_uses,D.redeemedCount>0&&e.jsxs("span",{className:"text-green-600 ml-1",children:["(",D.redeemedCount," redeemed)"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Created"}),e.jsx("span",{className:"text-sm text-gray-600",children:new Date(D.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Expires"}),e.jsx("span",{className:`text-sm ${D.expires_at<Date.now()?"text-red-600":"text-gray-600"}`,children:new Date(D.expires_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[e.jsxs("button",{onClick:()=>B(D),className:"w-full mb-2 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm font-medium flex items-center justify-center",children:[e.jsx(ka,{className:"h-4 w-4 mr-2"})," View Assigned Users"]}),!D.redeemed&&D.expires_at>=Date.now()&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>E(D),className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium flex items-center justify-center",children:[e.jsx(ot,{className:"h-4 w-4 mr-2"})," View QR"]}),e.jsxs("button",{onClick:()=>v(D),className:"flex-1 px-3 py-2 bg-gradient-to-r from-orange-500 to-amber-500 text-white rounded-lg hover:from-orange-600 hover:to-amber-600 transition-colors text-sm font-semibold flex items-center justify-center",children:[e.jsx(Js,{className:"h-4 w-4 mr-2"})," Send Email"]})]})]})]},D._id)})}),M.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Xe,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No vouchers found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l||d!=="all"?"Try adjusting your search or filter criteria.":"Get started by creating a new voucher."})]}),f&&e.jsx(U,{voucher:f,onClose:()=>E(null)}),p&&e.jsx(dE,{voucher:p,isOpen:!!p,onClose:()=>v(null)}),b&&e.jsx(uE,{voucher:b,isOpen:!!b,onClose:()=>B(null),assignedUsers:Q||[]})]})},hE=({isOpen:o,onClose:n,onSubmit:i,editingService:l=null})=>{const[c,d]=F.useState({name:"",description:"",duration_minutes:30,price:"",category:"General",is_active:!0});F.useEffect(()=>{d(l?{name:l.name||"",description:l.description||"",duration_minutes:l.duration_minutes||30,price:l.price||"",category:l.category||"General",is_active:l.is_active??!0}:{name:"",description:"",duration_minutes:30,price:"",category:"General",is_active:!0})},[l]);const[m,g]=F.useState(!1),[h,f]=F.useState(""),E=Ne(ue.services.services.createService),p=Ne(ue.services.services.updateService),v=(y,_)=>{d(A=>({...A,[y]:_}))},b=async y=>{if(y.preventDefault(),!c.name.trim()||!c.price){f("Name and price are required");return}g(!0),f("");try{const _={...c,price:parseFloat(c.price),duration_minutes:parseInt(c.duration_minutes)};l?await p({id:l._id,..._}):await E(_),i&&i(),d({name:"",description:"",duration_minutes:30,price:"",category:"General",is_active:!0}),n()}catch(_){console.error("Error saving service:",_),f(_.message||"Failed to save service")}finally{g(!1)}},B=()=>{d({name:"",description:"",duration_minutes:30,price:"",category:"General",is_active:!0}),f(""),n()};return e.jsx(zt,{isOpen:o,onClose:B,title:l?"Edit Service":"Create New Service",size:"lg",children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[h&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:h})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(gs,{className:"w-5 h-5 mr-2 text-[#FF8C42]"}),"Service Details"]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Service Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:c.name,onChange:y=>v("name",y.target.value),placeholder:"Enter service name",required:!0,className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Description"}),e.jsx("textarea",{value:c.description,onChange:y=>v("description",y.target.value),placeholder:"Describe the service",rows:3,className:"w-full px-4 py-3 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200 resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Category"}),e.jsxs("select",{value:c.category,onChange:y=>v("category",y.target.value),className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200",children:[e.jsx("option",{value:"General",children:"General"}),e.jsx("option",{value:"Haircut",children:"Haircut"}),e.jsx("option",{value:"Beard",children:"Beard"}),e.jsx("option",{value:"Styling",children:"Styling"}),e.jsx("option",{value:"Treatment",children:"Treatment"}),e.jsx("option",{value:"Package",children:"Package"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(qt,{className:"w-5 h-5 mr-2 text-[#FF8C42]"}),"Pricing & Duration"]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#6B6B6B] font-bold text-base",children:""}),e.jsx("input",{type:"number",value:c.price,onChange:y=>v("price",y.target.value),placeholder:"0.00",step:"0.01",min:"0",required:!0,className:"w-full h-12 pl-8 pr-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Duration (minutes)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ct,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-[#6B6B6B]"}),e.jsx("input",{type:"number",value:c.duration_minutes,onChange:y=>v("duration_minutes",y.target.value),placeholder:"30",min:"1",className:"w-full h-12 pl-12 pr-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Status"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"is_active",checked:c.is_active===!0,onChange:()=>v("is_active",!0),className:"h-4 w-4 text-[#FF8C42] focus:ring-[#FF8C42] border-gray-300"}),e.jsx("span",{className:"ml-2 text-[#1A1A1A] font-medium",children:"Active"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"is_active",checked:c.is_active===!1,onChange:()=>v("is_active",!1),className:"h-4 w-4 text-[#FF8C42] focus:ring-[#FF8C42] border-gray-300"}),e.jsx("span",{className:"ml-2 text-[#1A1A1A] font-medium",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-[#FF8C42]/5 to-[#FF7A2B]/5 border-2 border-[#FF8C42]/20 rounded-xl p-4",children:[e.jsx("h4",{className:"text-[#1A1A1A] font-bold text-sm mb-2 uppercase tracking-wide",children:"Service Preview"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[#6B6B6B] text-sm",children:"Name:"}),e.jsx("span",{className:"text-[#1A1A1A] font-bold text-sm",children:c.name||"Service Name"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[#6B6B6B] text-sm",children:"Price:"}),e.jsxs("span",{className:"text-[#FF8C42] font-bold text-sm",children:["",c.price||"0.00"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[#6B6B6B] text-sm",children:"Duration:"}),e.jsxs("span",{className:"text-[#1A1A1A] font-bold text-sm",children:[c.duration_minutes||30," min"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[#6B6B6B] text-sm",children:"Category:"}),e.jsx("span",{className:"text-[#1A1A1A] font-bold text-sm",children:c.category})]})]})]})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-[#F5F5F5]",children:[e.jsx(Ge,{type:"button",onClick:B,className:"flex-1 bg-[#F5F5F5] text-[#6B6B6B] hover:bg-[#E0E0E0] border-2 border-[#F5F5F5]",children:"Cancel"}),e.jsx(Ge,{type:"submit",disabled:m,className:"flex-1 bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white hover:shadow-lg disabled:opacity-50",children:m?"Saving...":l?"Update Service":"Create Service"})]})]})})},fE=({services:o=[],onRefresh:n})=>{const[i,l]=F.useState(""),[c,d]=F.useState("name"),[m,g]=F.useState(!1),[h,f]=F.useState(null),[E,p]=F.useState(!1),v=Ne(ue.services.services.deleteService),b=o.filter(j=>j.name.toLowerCase().includes(i.toLowerCase())||j.description.toLowerCase().includes(i.toLowerCase())).sort((j,M)=>c==="name"?j.name.localeCompare(M.name):c==="price"?parseFloat(M.price)-parseFloat(j.price):c==="duration"?M.duration_minutes-j.duration_minutes:j.id-M.id),B={total:o.length,totalRevenue:o.reduce((j,M)=>j+parseFloat(M.price),0),avgPrice:o.length?o.reduce((j,M)=>j+parseFloat(M.price),0)/o.length:0,avgDuration:o.length?o.reduce((j,M)=>j+M.duration_minutes,0)/o.length:0},y=()=>{f(null),g(!0)},_=j=>{f(j),g(!0)},A=()=>{g(!1),f(null)},Q=()=>{g(!1),f(null),n()},w=async j=>{if(confirm(`Are you sure you want to delete "${j.name}"?`)){p(!0);try{await v({id:j._id}),n()}catch(M){console.error("Failed to delete service:",M),alert("Failed to delete service. Please try again.")}finally{p(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Services"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.total})]}),e.jsx(gs,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg. Price"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",B.avgPrice.toFixed(0)]})]}),e.jsx(qt,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg. Duration"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[Math.round(B.avgDuration),"m"]})]}),e.jsx(Ct,{className:"h-8 w-8 text-orange-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",B.totalRevenue.toFixed(0)]})]}),e.jsx(qt,{className:"h-8 w-8 text-blue-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search services...",value:i,onChange:j=>l(j.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("select",{value:c,onChange:j=>d(j.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"price",children:"Sort by Price"}),e.jsx("option",{value:"duration",children:"Sort by Duration"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:n,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(Ka,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx("span",{children:"New Service"})]})]})]})}),e.jsx(hE,{isOpen:m,onClose:A,onSubmit:Q,editingService:h}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(j=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-orange-50 rounded-lg",children:e.jsx(gs,{className:"h-5 w-5 text-orange-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:j.name}),e.jsx("p",{className:"text-sm text-gray-500",children:j.category})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>_(j),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(Zr,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>w(j),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(Da,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600",children:j.description}),e.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qt,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Price"})]}),e.jsxs("span",{className:"text-lg font-bold text-green-600",children:["",parseFloat(j.price).toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Duration"})]}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[j.duration_minutes," mins"]})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status"})}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.is_active?"Active":"Inactive"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>_(j),className:"w-full px-3 py-2 bg-orange-50 text-orange-700 rounded-lg hover:bg-orange-100 transition-colors text-sm font-medium",children:"Edit Service"})})]},j._id))}),b.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(gs,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No services found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i?"Try adjusting your search criteria.":"Get started by creating your first service."}),!i&&e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:y,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:[e.jsx(Jt,{className:"-ml-1 mr-2 h-4 w-4"}),"New Service"]})})]})]})},gE=({bookings:o=[],onRefresh:n})=>{const[i,l]=F.useState(""),[c,d]=F.useState("all"),[m,g]=F.useState("date"),[h,f]=F.useState(!1),[E,p]=F.useState(null),[v,b]=F.useState(null),[B,y]=F.useState({service:"",barber:"",date:"",time:""}),[_,A]=F.useState(!1),[Q,w]=F.useState(""),j=we(ue.services.services.getAllServices),M=we(ue.services.barbers.getActiveBarbers);Ne(ue.services.bookings.updateBooking),Ne(ue.services.bookings.deleteBooking);const k=L=>{switch(L){case"booked":return{label:"Booked",icon:ze,bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200",iconColor:"text-blue-500"};case"confirmed":return{label:"Confirmed",icon:ze,bg:"bg-green-50",text:"text-green-700",border:"border-green-200",iconColor:"text-green-500"};case"cancelled":return{label:"Cancelled",icon:tt,bg:"bg-red-50",text:"text-red-700",border:"border-red-200",iconColor:"text-red-500"};default:return{label:"Pending",icon:et,bg:"bg-orange-50",text:"text-orange-700",border:"border-orange-200",iconColor:"text-orange-500"}}},T=o.filter(L=>{const G=(j.find(ce=>ce.id===L.service)?.name||"").toLowerCase().includes(i.toLowerCase())||(L.barber_name||"").toLowerCase().includes(i.toLowerCase())||(L.booking_code||"").toLowerCase().includes(i.toLowerCase()),de=c==="all"||L.status===c;return G&&de}).sort((L,Z)=>{if(m==="date"){const G=new Date(L.date+" "+L.time);return new Date(Z.date+" "+Z.time)-G}if(m==="status")return L.status.localeCompare(Z.status);if(m==="service"){const G=j.find(ce=>ce.id===L.service)?.name||"",de=j.find(ce=>ce.id===Z.service)?.name||"";return G.localeCompare(de)}return L.id-Z.id}),U={total:o.length,pending:o.filter(L=>L.status==="pending").length,booked:o.filter(L=>L.status==="booked").length,confirmed:o.filter(L=>L.status==="confirmed").length,cancelled:o.filter(L=>L.status==="cancelled").length,today:o.filter(L=>{const Z=new Date(L.date).toDateString(),G=new Date().toDateString();return Z===G}).length},D=()=>{y({service:"",barber:"",date:"",time:""}),w("")},z=()=>{f(!0)},P=async L=>{console.log("New booking created:",L),n()},$=L=>{y({service:L.service,barber:L.barber||"",date:L.date,time:L.time&&L.time!=="N/A"?L.time.slice(0,5):""}),p(L),setIsCreating(!1),w("")},ae=()=>{p(null),D()},H=async()=>{if(!B.service||!B.date||!B.time){w("Service, date, and time are required");return}A(!0),w("");try{const L={service:parseInt(B.service),date:B.date,time:B.time};B.barber&&(L.barber=parseInt(B.barber)),E?await bookingsService.updateBooking(E.id,L):await bookingsService.createBooking(L),ae(),n()}catch(L){console.error("Error saving booking:",L),w(L.message||"Failed to save booking")}finally{A(!1)}},se=async L=>{if(confirm(`Are you sure you want to delete booking #${L.booking_code||L.id}?`)){A(!0);try{await bookingsService.deleteBooking(L.id),n()}catch(Z){console.error("Error deleting booking:",Z),w(Z.message||"Failed to delete booking")}finally{A(!1)}}},S=async(L,Z)=>{A(!0);try{await bookingsService.patchBooking(L.id,{status:Z}),n()}catch(G){console.error("Error updating booking status:",G),w(G.message||"Failed to update booking status")}finally{A(!1)}},q=L=>L?new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",ne=L=>{if(!L||L==="N/A")return"N/A";let Z=L;L.includes(".")&&(Z=L.split(".")[0]),Z.split(":").length>2&&(Z=Z.split(":").slice(0,2).join(":"));try{return new Date(`1970-01-01T${Z}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch{return L}},ie=({booking:L,onClose:Z})=>{const G=F.useRef(null),de=JSON.stringify({bookingId:L.id,bookingCode:L.booking_code,service:j.find(ce=>ce.id===L.service)?.name,barber:L.barber_name,date:L.date,time:L.time,status:L.status,barbershop:"TipunoX Angeles Barbershop"});return F.useEffect(()=>{G.current&&St.toCanvas(G.current,de,{width:200,margin:2,color:{dark:"#36454F",light:"#ffffff"},errorCorrectionLevel:"H"},ce=>{ce&&console.error("QR Code generation error:",ce)})},[de]),e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl border",style:{borderColor:"#E0E0E0"},children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mx-auto",style:{backgroundColor:"#F68B24"},children:e.jsx(ot,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-1",style:{color:"#36454F"},children:"Booking QR Code"}),e.jsxs("p",{className:"text-sm font-mono font-bold text-orange-600",children:["#",L.booking_code]}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Scan this code for booking verification"})]}),e.jsx("div",{className:"p-4 rounded-xl",style:{backgroundColor:"#F4F0E6"},children:e.jsx("div",{className:"flex justify-center",children:e.jsx("canvas",{ref:G,className:"rounded-lg"})})}),e.jsxs("div",{className:"text-left space-y-2 p-4 rounded-xl",style:{backgroundColor:"#F9F9F9"},children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:"#8B8B8B"},children:"Service:"}),e.jsx("span",{className:"text-sm font-bold",style:{color:"#36454F"},children:j.find(ce=>ce.id===L.service)?.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:"#8B8B8B"},children:"Date & Time:"}),e.jsxs("span",{className:"text-sm font-bold",style:{color:"#36454F"},children:[q(L.date)," at ",ne(L.time)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:"#8B8B8B"},children:"Barber:"}),e.jsx("span",{className:"text-sm font-bold",style:{color:"#36454F"},children:L.barber_name||"Not assigned"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:"#8B8B8B"},children:"Status:"}),e.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${k(L.status).bg} ${k(L.status).text}`,children:k(L.status).label})]})]}),e.jsx("button",{onClick:Z,className:"w-full py-2 px-4 rounded-xl font-medium text-white transition-colors",style:{backgroundColor:"#F68B24"},children:"Close"})]})})})},R=({booking:L})=>{const Z=F.useRef(null),G=JSON.stringify({bookingId:L.id,bookingCode:L.booking_code,barbershop:"TipunoX Angeles Barbershop"});return F.useEffect(()=>{Z.current&&St.toCanvas(Z.current,G,{width:40,margin:1,color:{dark:"#36454F",light:"#ffffff"},errorCorrectionLevel:"M"},de=>{de&&console.error("Mini QR Code generation error:",de)})},[G]),e.jsx("canvas",{ref:Z,className:"rounded"})},O=()=>e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Booking"}),e.jsx("button",{onClick:ae,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:e.jsx(hl,{className:"h-5 w-5"})})]}),Q&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:Q})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service *"}),e.jsxs("select",{value:B.service,onChange:L=>y(Z=>({...Z,service:L.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select a service"}),j?.map(L=>e.jsxs("option",{value:L._id,children:[L.name," - ",parseFloat(L.price).toFixed(2)," (",L.duration_minutes,"min)"]},L._id))||[]]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Barber (Optional)"}),e.jsxs("select",{value:B.barber,onChange:L=>y(Z=>({...Z,barber:L.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Any available barber"}),M?.map(L=>e.jsx("option",{value:L._id,children:L.full_name},L._id))||[]]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),e.jsx("input",{type:"date",value:B.date,onChange:L=>y(Z=>({...Z,date:L.target.value})),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time *"}),e.jsx("input",{type:"time",value:B.time,onChange:L=>y(Z=>({...Z,time:L.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:ae,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:H,disabled:_,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(Xr,{className:"h-4 w-4"}),e.jsx("span",{children:_?"Saving...":"Save Booking"})]})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:U.total})]}),e.jsx(Te,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Today"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:U.today})]}),e.jsx(Ct,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:U.pending})]}),e.jsx(et,{className:"h-8 w-8 text-orange-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Booked"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:U.booked})]}),e.jsx(ze,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Confirmed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:U.confirmed})]}),e.jsx(ze,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cancelled"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:U.cancelled})]}),e.jsx(tt,{className:"h-8 w-8 text-red-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search bookings...",value:i,onChange:L=>l(L.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Sa,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:c,onChange:L=>d(L.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"booked",children:"Booked"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("select",{value:m,onChange:L=>g(L.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"date",children:"Sort by Date"}),e.jsx("option",{value:"status",children:"Sort by Status"}),e.jsx("option",{value:"service",children:"Sort by Service"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:n,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(Ka,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{onClick:z,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx("span",{children:"New Booking"})]})]})]})}),E&&e.jsx(O,{}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Barber"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(L=>{const Z=k(L.status),G=Z.icon,de=j.find(ce=>ce.id===L.service);return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-lg bg-orange-50 border-2 border-orange-200 flex items-center justify-center p-1",children:e.jsx(R,{booking:L})})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-mono font-bold text-gray-900",children:["#",L.booking_code||L.id]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",L.id]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:de?.name||"Unknown Service"}),e.jsxs("div",{className:"text-sm text-gray-500",children:[de?.duration_minutes,"min"]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:q(L.date)}),e.jsx("div",{className:"text-sm text-gray-500",children:ne(L.time)})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:L.barber_name||"Not assigned"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Z.bg} ${Z.text}`,children:[e.jsx(G,{className:`-ml-0.5 mr-1.5 h-3 w-3 ${Z.iconColor}`}),Z.label]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-bold text-green-600",children:["",de?parseFloat(de.price).toFixed(2):"0.00"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsxs("button",{onClick:()=>b(L),className:"inline-flex items-center px-2.5 py-1.5 border border-orange-300 text-xs font-medium rounded text-orange-700 bg-orange-50 hover:bg-orange-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",title:"View QR Code",children:[e.jsx(ot,{className:"h-3 w-3 mr-1"}),"QR"]}),L.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>S(L,"booked"),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:_,children:"Book"}),e.jsx("button",{onClick:()=>S(L,"cancelled"),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",disabled:_,children:"Cancel"})]}),L.status==="booked"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>S(L,"confirmed"),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-green-700 bg-green-100 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",disabled:_,children:"Confirm"}),e.jsx("button",{onClick:()=>S(L,"cancelled"),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",disabled:_,children:"Cancel"})]}),e.jsx("button",{onClick:()=>$(L),className:"text-indigo-600 hover:text-indigo-900",disabled:_,children:e.jsx(Zr,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>se(L),className:"text-red-600 hover:text-red-900",disabled:_,children:e.jsx(Da,{className:"h-4 w-4"})})]})})]},L.id)})})]})}),T.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Te,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No bookings found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i||c!=="all"?"Try adjusting your search or filter criteria.":"Get started by creating a new booking."}),!i&&c==="all"&&e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:z,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:[e.jsx(Jt,{className:"-ml-1 mr-2 h-4 w-4"}),"New Booking"]})})]})]}),e.jsx(Jf,{isOpen:h,onClose:()=>f(!1),onSubmit:P}),v&&e.jsx(ie,{booking:v,onClose:()=>b(null)})]})},pE=({isOpen:o,onClose:n,onSubmit:i,editingBarber:l=null})=>{const{user:c}=Mt(),[d,m]=F.useState({full_name:"",email:"",phone:"",is_active:!0,services:[],experience:"0 years",specialties:[]});F.useEffect(()=>{m(l?{full_name:l.full_name||"",email:l.email||"",phone:l.phone||"",is_active:l.is_active??!0,services:l.services||[],experience:l.experience||"0 years",specialties:l.specialties||[]}:{full_name:"",email:"",phone:"",is_active:!0,services:[],experience:"0 years",specialties:[]})},[l]);const[g,h]=F.useState(!1),[f,E]=F.useState(""),p=we(ue.services.services.getAllServices),v=Ne(ue.services.barbers.createBarber),b=Ne(ue.services.barbers.updateBarber),B=(A,Q)=>{m(w=>({...w,[A]:Q}))},y=async A=>{if(A.preventDefault(),!d.full_name.trim()||!d.email.trim()){E("Full name and email are required");return}h(!0),E("");try{if(!c?.id){E("You must be logged in to create a barber");return}const Q={user:c.id,full_name:d.full_name.trim(),email:d.email.trim(),phone:d.phone||"",is_active:d.is_active,services:d.services,experience:d.experience||"0 years",specialties:d.specialties,avatar:""};l?await b({id:l._id,...Q}):await v(Q),i&&i(),m({full_name:"",email:"",phone:"",is_active:!0,services:[],experience:"0 years",specialties:[]}),n()}catch(Q){console.error("Error saving barber:",Q),E(Q.message||"Failed to save barber")}finally{h(!1)}},_=()=>{m({full_name:"",email:"",phone:"",is_active:!0,services:[],experience:"0 years",specialties:[]}),E(""),n()};return e.jsx(zt,{isOpen:o,onClose:_,title:l?"Edit Barber":"Create New Barber",size:"lg",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[f&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:f})}),!p&&e.jsxs("div",{className:"flex items-center justify-center py-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#FF8C42]"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading services..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(Re,{className:"w-5 h-5 mr-2 text-[#FF8C42]"}),"Personal Information"]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:d.full_name,onChange:A=>B("full_name",A.target.value),placeholder:"Enter barber's full name",required:!0,className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Js,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-[#6B6B6B]"}),e.jsx("input",{type:"email",value:d.email,onChange:A=>B("email",A.target.value),placeholder:"barber@example.com",required:!0,className:"w-full h-12 pl-12 pr-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(ml,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-[#6B6B6B]"}),e.jsx("input",{type:"tel",value:d.phone,onChange:A=>B("phone",A.target.value),placeholder:"+63 XXX XXX XXXX",className:"w-full h-12 pl-12 pr-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Experience"}),e.jsx("input",{type:"text",value:d.experience,onChange:A=>B("experience",A.target.value),placeholder:"e.g., 5 years",className:"w-full h-12 px-4 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Status"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"is_active",checked:d.is_active===!0,onChange:()=>B("is_active",!0),className:"h-4 w-4 text-[#FF8C42] focus:ring-[#FF8C42] border-gray-300"}),e.jsx("span",{className:"ml-2 text-[#1A1A1A] font-medium",children:"Active"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"is_active",checked:d.is_active===!1,onChange:()=>B("is_active",!1),className:"h-4 w-4 text-[#FF8C42] focus:ring-[#FF8C42] border-gray-300"}),e.jsx("span",{className:"ml-2 text-[#1A1A1A] font-medium",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-black text-[#1A1A1A] uppercase tracking-wide flex items-center",children:[e.jsx(gs,{className:"w-5 h-5 mr-2 text-[#FF8C42]"}),"Services & Skills"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Services Offered"}),e.jsx("div",{className:"max-h-32 overflow-y-auto border-2 border-[#F5F5F5] rounded-xl p-3",children:p?p.length>0?p.map(A=>e.jsxs("label",{className:"flex items-center py-1 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.services.includes(A._id),onChange:Q=>{const w=A._id;m(j=>({...j,services:Q.target.checked?[...j.services,w]:j.services.filter(M=>M!==w)}))},className:"h-4 w-4 text-[#FF8C42] focus:ring-[#FF8C42] rounded border-gray-300"}),e.jsxs("span",{className:"ml-2 text-sm text-[#1A1A1A]",children:[A.name," - ",parseFloat(A.price).toFixed(2)]})]},A._id)):e.jsx("p",{className:"text-sm text-gray-500 p-2",children:"No services available"}):e.jsx("p",{className:"text-sm text-gray-500 p-2",children:"Loading services..."})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#1A1A1A] font-bold text-base mb-2",children:"Specialties (comma-separated)"}),e.jsx("textarea",{value:d.specialties.join(", "),onChange:A=>{const Q=A.target.value.split(",").map(w=>w.trim()).filter(w=>w);B("specialties",Q)},placeholder:"e.g., Fade cuts, Beard styling, Hair coloring",rows:3,className:"w-full px-4 py-3 border-2 border-[#F5F5F5] rounded-xl text-base focus:outline-none focus:border-[#FF8C42] transition-colors duration-200 resize-none"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-[#FF8C42]/5 to-[#FF7A2B]/5 border-2 border-[#FF8C42]/20 rounded-xl p-4",children:[e.jsx("h4",{className:"text-[#1A1A1A] font-bold text-sm mb-2 uppercase tracking-wide",children:"Barber Preview"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[#6B6B6B] text-sm",children:"Name:"}),e.jsx("span",{className:"text-[#1A1A1A] font-bold text-sm",children:d.full_name||"Barber Name"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[#6B6B6B] text-sm",children:"Email:"}),e.jsx("span",{className:"text-[#1A1A1A] font-bold text-sm",children:d.email||"email@example.com"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[#6B6B6B] text-sm",children:"Experience:"}),e.jsx("span",{className:"text-[#1A1A1A] font-bold text-sm",children:d.experience})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[#6B6B6B] text-sm",children:"Services:"}),e.jsxs("span",{className:"text-[#FF8C42] font-bold text-sm",children:[d.services.length," selected"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[#6B6B6B] text-sm",children:"Status:"}),e.jsx("span",{className:`font-bold text-sm ${d.is_active?"text-green-600":"text-red-600"}`,children:d.is_active?"Active":"Inactive"})]})]})]})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-[#F5F5F5]",children:[e.jsx(Ge,{type:"button",onClick:_,className:"flex-1 bg-[#F5F5F5] text-[#6B6B6B] hover:bg-[#E0E0E0] border-2 border-[#F5F5F5]",children:"Cancel"}),e.jsx(Ge,{type:"submit",disabled:g||!p,className:"flex-1 bg-gradient-to-r from-[#FF8C42] to-[#FF7A2B] text-white hover:shadow-lg disabled:opacity-50",children:g?"Saving...":l?"Update Barber":"Create Barber"})]})]})})},EE=({isOpen:o,onClose:n,barber:i,services:l=[],onRefresh:c,initialView:d="details"})=>{const[m,g]=F.useState(d),[h,f]=F.useState(!1),[E,p]=F.useState(!1),[v,b]=F.useState(""),[B,y]=F.useState({full_name:"",is_active:!0,services:[]}),_=Ne(ue.services.barbers.updateBarber),A=F.useCallback(()=>{i&&y({full_name:i.full_name||"",is_active:i.is_active!==void 0?i.is_active:!0,services:i.services||[]})},[i]);F.useEffect(()=>{o&&i&&(g(d),f(!1),b(""),A())},[o,i,d,A]);const Q=F.useCallback(()=>{f(!1),b(""),g("details"),n()},[n]),w=F.useCallback(()=>{f(!0),A()},[A]),j=F.useCallback(()=>{f(!1),b(""),A()},[A]),M=F.useCallback(async()=>{if(!B.full_name.trim()){b("Full name is required");return}p(!0),b("");try{const P={full_name:B.full_name.trim(),is_active:B.is_active,services:B.services};await _({id:i._id,...P}),f(!1),c&&c()}catch(P){b(P.message||"Failed to save barber")}finally{p(!1)}},[B,i?._id,_,c]),k=F.useCallback((P,$)=>{y(ae=>({...ae,[P]:$}))},[]),T=F.useCallback(P=>Object.values(P||{}).filter($=>$?.available).length,[]),U=F.useCallback(P=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(P||0),[]);if(!o||!i)return null;const D=T(i.schedule),z=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return Qf.createPortal(e.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:Q}),e.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-hidden transform rounded-3xl bg-white shadow-2xl transition-all z-[10000]",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 z-10",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(Re,{className:"h-8 w-8 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:i.full_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[i.experience||"0 years"," Experience"]}),e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[e.jsx(ds,{className:"h-4 w-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:i.rating||0}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",i.totalBookings||0," bookings)"]})]})]})]}),e.jsx("button",{onClick:Q,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-lg",title:"Close",children:e.jsx(hl,{className:"h-6 w-6"})})]})}),e.jsx("div",{className:"border-b border-gray-200 px-4",children:e.jsxs("nav",{className:"flex space-x-6",children:[e.jsx("button",{type:"button",onClick:()=>g("details"),className:`py-3 px-2 border-b-2 font-medium text-sm cursor-pointer select-none ${m==="details"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} transition-colors`,children:"Details"}),e.jsx("button",{type:"button",onClick:()=>g("bookings"),className:`py-3 px-2 border-b-2 font-medium text-sm cursor-pointer select-none ${m==="bookings"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} transition-colors`,children:"Bookings"})]})}),e.jsxs("div",{className:"p-4 max-h-[calc(90vh-200px)] overflow-y-auto",children:[v&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:v})}),m==="details"?e.jsx("div",{children:h?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:B.full_name,onChange:P=>k("full_name",P.target.value),placeholder:"Enter barber's full name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Services"}),e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-300 rounded-lg p-2",children:l&&l.length>0?l.map(P=>e.jsxs("label",{className:"flex items-center py-1",children:[e.jsx("input",{type:"checkbox",checked:B.services.includes(P._id),onChange:$=>{const ae=P._id;k("services",$.target.checked?[...B.services,ae]:B.services.filter(H=>H!==ae))},className:"h-4 w-4 text-orange-600 focus:ring-orange-500 rounded"}),e.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:[P.name," - ",parseFloat(P.price).toFixed(2)]})]},P._id)):e.jsx("p",{className:"text-sm text-gray-500 p-2",children:"No services available"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"is_active",checked:B.is_active===!0,onChange:()=>k("is_active",!0),className:"h-4 w-4 text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"is_active",checked:B.is_active===!1,onChange:()=>k("is_active",!1),className:"h-4 w-4 text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Inactive"})]})]})]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Js,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:i.email||"N/A"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ml,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:i.phone||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Specialties"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.specialties?.map((P,$)=>e.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm",children:P},$))||e.jsx("span",{className:"text-sm text-gray-500",children:"No specialties listed"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Performance"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Revenue"}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:U(i.monthlyRevenue)})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Bookings"}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:i.totalBookings||0})]}),e.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Working Days"}),e.jsxs("p",{className:"text-lg font-bold text-purple-600",children:[D,"/week"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Work Schedule"}),e.jsx("div",{className:"space-y-2",children:z.map(P=>{const $=i.schedule?.[P]||{available:!1};return e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm capitalize font-medium",children:P}),$.available?e.jsxs("span",{className:"text-sm text-green-600 font-medium",children:[$.start," - ",$.end]}):e.jsx("span",{className:"text-sm text-red-500",children:"Off"})]},P)})})]})]})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Te,{className:"h-5 w-5 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Booking History"})]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Yf,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No bookings found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No bookings available for this barber."})]})]})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200 flex justify-between items-center",children:[e.jsx("div",{className:"flex space-x-3",children:m==="details"&&!h&&e.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(Zr,{className:"h-4 w-4"}),e.jsx("span",{children:"Edit"})]})}),e.jsx("div",{className:"flex space-x-3",children:h?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:j,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:M,disabled:E,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 transition-colors",children:[e.jsx(Xr,{className:"h-4 w-4"}),e.jsx("span",{children:E?"Saving...":"Save"})]})]}):e.jsx("button",{onClick:Q,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})})]})]})]})}),document.body)},bE=({barbers:o=[],onRefresh:n})=>{const[i,l]=F.useState(""),[c,d]=F.useState("all"),[m,g]=F.useState("name"),[h,f]=F.useState(null),[E,p]=F.useState("details"),[v,b]=F.useState(!1),[B,y]=F.useState(null),[_,A]=F.useState(null),[Q,w]=F.useState(!1),[j,M]=F.useState(""),k=we(ue.services.services.getAllServices);we(ue.services.bookings.getAllBookings),Ne(ue.services.barbers.createBarber),Ne(ue.services.barbers.updateBarber);const T=Ne(ue.services.barbers.deleteBarber),U=O=>O?{label:"Active",icon:Ix,bg:"bg-green-50",text:"text-green-700",border:"border-green-200",iconColor:"text-green-500"}:{label:"Inactive",icon:Th,bg:"bg-red-50",text:"text-red-700",border:"border-red-200",iconColor:"text-red-500"},D=o.filter(O=>{const L=O.full_name?.toLowerCase().includes(i.toLowerCase())||O.email?.toLowerCase().includes(i.toLowerCase())||O.specialties?.some(G=>G.toLowerCase().includes(i.toLowerCase()));let Z=!0;return c==="active"?Z=O.is_active===!0:c==="inactive"&&(Z=O.is_active===!1),L&&Z}).sort((O,L)=>m==="name"?(O.full_name||"").localeCompare(L.full_name||""):m==="rating"?parseFloat(L.rating||0)-parseFloat(O.rating||0):m==="revenue"?(L.monthlyRevenue||0)-(O.monthlyRevenue||0):m==="bookings"?(L.totalBookings||0)-(O.totalBookings||0):(O._id||"").localeCompare(L._id||"")),z={total:o.length,active:o.filter(O=>O.is_active===!0).length,inactive:o.filter(O=>O.is_active===!1).length,totalRevenue:o.reduce((O,L)=>O+(L.monthlyRevenue||0),0),avgRating:o.length?o.reduce((O,L)=>O+(L.rating||0),0)/o.length:0},P=O=>Object.values(O||{}).filter(L=>L.available).length,$=O=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(O),ae=()=>{y(null),b(!0)},H=O=>{y(O),b(!0)},se=()=>{b(!1),y(null)},S=()=>{b(!1),y(null),n()},q=async O=>{w(!0);try{await T({id:O._id}),A(null),n()}catch(L){M(L.message||"Failed to delete barber")}finally{w(!1)}},ne=O=>{f(O),p("details")},ie=O=>{f(O),p("bookings")},R=({barber:O,onClose:L,onConfirm:Z})=>e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-[99997] p-2 sm:p-4 transition-all duration-300 ease-in-out animate-in fade-in-0",onClick:G=>G.target===G.currentTarget&&L(),children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-4 sm:p-6 shadow-2xl transform transition-all duration-300 ease-out animate-in slide-in-from-bottom-4 fade-in-0 zoom-in-95 mx-auto",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Da,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Barber"}),e.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Are you sure you want to delete ",e.jsx("strong",{children:O.full_name}),"? This will permanently remove the barber from the system."]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end space-y-reverse space-y-3 sm:space-y-0 sm:space-x-3",children:[e.jsx("button",{onClick:L,className:"w-full sm:w-auto px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Z,disabled:Q,className:"w-full sm:w-auto px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:Q?"Deleting...":"Delete"})]})]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:z.total})]}),e.jsx(Re,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:z.active})]}),e.jsx(Ix,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Inactive"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:z.inactive})]}),e.jsx(Th,{className:"h-8 w-8 text-red-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Rating"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:z.avgRating.toFixed(1)})]}),e.jsx(ds,{className:"h-8 w-8 text-purple-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$(z.totalRevenue)})]}),e.jsx(qt,{className:"h-8 w-8 text-blue-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search barbers...",value:i,onChange:O=>l(O.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Sa,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:c,onChange:O=>d(O.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("select",{value:m,onChange:O=>g(O.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"rating",children:"Sort by Rating"}),e.jsx("option",{value:"revenue",children:"Sort by Revenue"}),e.jsx("option",{value:"bookings",children:"Sort by Bookings"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:n,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(Ka,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{onClick:ae,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Barber"})]})]})]})}),e.jsx(pE,{isOpen:v,onClose:se,onSubmit:S,editingBarber:B}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Barber"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Schedule"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(O=>{const L=U(O.is_active),Z=L.icon,G=P(O.schedule||{});return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(Re,{className:"h-6 w-6 text-gray-500"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.full_name}),e.jsx("div",{className:"text-sm text-gray-500",children:O.experience}),e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[e.jsx(ds,{className:"h-3 w-3 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-xs text-gray-600",children:O.rating||0})]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:O.email}),e.jsx("div",{className:"text-sm text-gray-500",children:O.phone||"N/A"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[O.specialties?.length||0," specialties"]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:$(O.monthlyRevenue||0)}),e.jsxs("div",{className:"text-sm text-gray-500",children:[O.totalBookings||0," bookings"]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[G,"/week"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Working days"})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.bg} ${L.text}`,children:[e.jsx(Z,{className:`h-3 w-3 mr-1 ${L.iconColor}`}),L.label]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>ne(O),className:"text-orange-600 hover:text-orange-900 p-1 rounded",title:"View Details",children:e.jsx(If,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ie(O),className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"View Bookings",children:e.jsx(Yf,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>H(O),className:"text-gray-600 hover:text-gray-900 p-1 rounded",title:"Edit",children:e.jsx(Zr,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>A(O),className:"text-red-600 hover:text-red-900 p-1 rounded",title:"Delete",children:e.jsx(Da,{className:"h-4 w-4"})})]})})]},O._id)})})]})})}),D.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(gs,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No barbers found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i||c!=="all"?"Try adjusting your search or filter criteria.":"Get started by creating a new barber profile."})]}),h&&e.jsx(EE,{isOpen:!!h,onClose:()=>{f(null),p("details")},barber:h,services:k,onRefresh:n,initialView:E}),_&&e.jsx(R,{barber:_,onClose:()=>A(null),onConfirm:()=>q(_)})]})},yE=({customers:o=[],onRefresh:n,onAddCustomer:i})=>{const[l,c]=F.useState(""),[d,m]=F.useState("all"),[g,h]=F.useState("name"),f=v=>{switch(v.status||"active"){case"active":return{status:"active",label:"Active",bg:"bg-green-50",text:"text-green-700",border:"border-green-200",iconColor:"text-green-500"};case"new":return{status:"new",label:"New",bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200",iconColor:"text-blue-500"};default:return{status:"inactive",label:"Inactive",bg:"bg-red-50",text:"text-red-700",border:"border-red-200",iconColor:"text-red-500"}}},E=o.filter(v=>{const b=(v.name||v.username||"").toLowerCase().includes(l.toLowerCase())||(v.email||"").toLowerCase().includes(l.toLowerCase())||(v.phone||v.mobile_number||"").includes(l),B=d==="all"||f(v).status===d;return b&&B}).sort((v,b)=>g==="name"?(v.name||v.username||"").localeCompare(b.name||b.username||""):g==="email"?(v.email||"").localeCompare(b.email||""):g==="joined"?new Date(b.joinedDate||0)-new Date(v.joinedDate||0):g==="bookings"?(b.totalBookings||0)-(v.totalBookings||0):v.id-b.id),p={total:o.length,active:o.filter(v=>(v.status||"active")==="active").length,new:o.filter(v=>(v.status||"active")==="new").length,inactive:o.filter(v=>(v.status||"active")==="inactive").length,totalSpent:o.reduce((v,b)=>v+(b.totalSpent||0),0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.total})]}),e.jsx(Re,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:p.active})]}),e.jsx(Re,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"New"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:p.new})]}),e.jsx(Re,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Inactive"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:p.inactive})]}),e.jsx(Re,{className:"h-8 w-8 text-red-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Spent"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",p.totalSpent.toFixed(0)]})]}),e.jsx(Te,{className:"h-8 w-8 text-blue-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search customers...",value:l,onChange:v=>c(v.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Sa,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:d,onChange:v=>m(v.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("select",{value:g,onChange:v=>h(v.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"email",children:"Sort by Email"}),e.jsx("option",{value:"joined",children:"Sort by Joined Date"}),e.jsx("option",{value:"bookings",children:"Sort by Bookings"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:n,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(Ka,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{onClick:i,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Customer"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-b border-orange-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Re,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{children:"Customer"})]})}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Js,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{children:"Contact"})]})}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{children:"Birthday"})]})}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:E.map((v,b)=>{const B=f(v);return e.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${b%2===0?"bg-white":"bg-gray-25"}`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full ${B.bg} flex items-center justify-center`,children:e.jsx(Re,{className:"h-5 w-5 text-orange-500"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:v.name||v.username}),e.jsxs("div",{className:"text-sm text-gray-500",children:["@",v.username,v.nickname&&e.jsx("span",{className:"ml-2 text-xs bg-gray-100 px-2 py-0.5 rounded-full",children:v.nickname})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",v.id]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Js,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900 truncate max-w-48",title:v.email,children:v.email||"No email"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ml,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:v.phone||v.mobile_number||"No phone"})]})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900",children:v.formattedBirthday||v.birthday||"Not provided"}),e.jsxs("div",{className:"text-xs text-gray-500 capitalize",children:["Role: ",v.role||"client"]})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:`inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-medium ${B.bg} ${B.text} ${B.border} border`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${B.iconColor.replace("text-","bg-")}`}),B.label]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsxs("button",{className:"inline-flex items-center px-3 py-1.5 bg-orange-50 text-orange-700 rounded-lg hover:bg-orange-100 transition-colors text-xs font-medium",children:[e.jsx(Re,{className:"h-3 w-3 mr-1"}),"View"]}),e.jsxs("button",{className:"inline-flex items-center px-3 py-1.5 bg-gray-50 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors text-xs font-medium",children:[e.jsx(Js,{className:"h-3 w-3 mr-1"}),"Contact"]})]})})]},v.id)})})]})})}),E.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Re,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No customers found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l||d!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding a new customer."})]})]})},vE=({onRefresh:o})=>{const[n,i]=F.useState("week"),[l,c]=F.useState("revenue"),[d,m]=F.useState(!1),g={revenue:{current:125430,previous:98750,change:27,trend:"up",chartData:[{period:"Mon",value:15200},{period:"Tue",value:18900},{period:"Wed",value:22100},{period:"Thu",value:19800},{period:"Fri",value:25400},{period:"Sat",value:28900},{period:"Sun",value:15130}]},customers:{current:342,previous:298,change:14.8,trend:"up",chartData:[{period:"Mon",value:45},{period:"Tue",value:52},{period:"Wed",value:48},{period:"Thu",value:55},{period:"Fri",value:62},{period:"Sat",value:58},{period:"Sun",value:22}]},bookings:{current:156,previous:142,change:9.9,trend:"up",chartData:[{period:"Mon",value:22},{period:"Tue",value:25},{period:"Wed",value:28},{period:"Thu",value:24},{period:"Fri",value:30},{period:"Sat",value:18},{period:"Sun",value:9}]},vouchers:{current:89,previous:76,change:17.1,trend:"up",chartData:[{period:"Mon",value:12},{period:"Tue",value:15},{period:"Wed",value:18},{period:"Thu",value:14},{period:"Fri",value:16},{period:"Sat",value:10},{period:"Sun",value:4}]}},h=[{id:"revenue",label:"Revenue",icon:qt,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},{id:"customers",label:"Customers",icon:ka,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{id:"bookings",label:"Bookings",icon:Te,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200"},{id:"vouchers",label:"Vouchers",icon:Xe,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}],f=[{id:"day",label:"Today"},{id:"week",label:"This Week"},{id:"month",label:"This Month"},{id:"quarter",label:"This Quarter"},{id:"year",label:"This Year"}],E=B=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(B),p=B=>new Intl.NumberFormat("en-US").format(B),v=g[l],b=Math.max(...v.chartData.map(B=>B.value));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900",children:"Reports & Analytics"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track your business performance and insights"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(_t,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[e.jsx(Gf,{className:"h-4 w-4"}),e.jsx("span",{children:"Export"})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Sa,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Period:"})]}),e.jsx("select",{value:n,onChange:B=>i(B.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:f.map(B=>e.jsx("option",{value:B.id,children:B.label},B.id))})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:h.map(B=>{const y=B.icon,_=g[B.id],A=l===B.id;return e.jsxs("button",{onClick:()=>c(B.id),className:`p-6 rounded-lg border-2 transition-all duration-200 text-left ${A?`${B.bgColor} ${B.borderColor} shadow-lg transform scale-105`:"bg-white border-gray-200 hover:border-gray-300 hover:shadow-md"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${A?"bg-white/80":B.bgColor}`,children:e.jsx(y,{className:`h-6 w-6 ${B.color}`})}),_.trend==="up"?e.jsx(Vr,{className:"h-4 w-4 text-green-500"}):e.jsx(uc,{className:"h-4 w-4 text-red-500"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:B.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.id==="revenue"?E(_.current):p(_.current)}),e.jsxs("p",{className:`text-xs font-medium ${_.trend==="up"?"text-green-600":"text-red-600"}`,children:[_.trend==="up"?"+":"-",_.change,"% from last ",n]})]})]},B.id)})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[h.find(B=>B.id===l)?.label," Trend"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Performance over the selected period"})]})}),e.jsx("div",{className:"space-y-4",children:v.chartData.map((B,y)=>{const _=B.value/b*100;return e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 text-sm font-medium text-gray-600",children:B.period}),e.jsxs("div",{className:"flex-1 bg-gray-200 rounded-full h-6 relative overflow-hidden",children:[e.jsx("div",{className:"h-full bg-gradient-to-r from-orange-400 to-orange-500 rounded-full transition-all duration-1000 ease-out",style:{width:`${_}%`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-end pr-3",children:e.jsx("span",{className:"text-xs font-medium text-gray-700",children:l==="revenue"?E(B.value):p(B.value)})})]})]},y)})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(ic,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Average Daily"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l==="revenue"?E(Math.round(v.current/7)):p(Math.round(v.current/7))}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Per day this ",n]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:e.jsx(Vr,{className:"h-5 w-5 text-green-600"})}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Best Day"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(()=>{const B=v.chartData.reduce((y,_)=>_.value>y.value?_:y);return l==="revenue"?E(B.value):p(B.value)})()}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.chartData.reduce((B,y)=>y.value>B.value?y:B).period})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(Vr,{className:"h-5 w-5 text-purple-600"})}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Growth Rate"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["+",v.change,"%"]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Compared to last ",n]})]})]})]})},CE=({onRefresh:o})=>{const[n,i]=F.useState([]),[l,c]=F.useState(!1),[d,m]=F.useState(""),[g,h]=F.useState("all"),[f,E]=F.useState(!1),[p,v]=F.useState(null),[b,B]=F.useState({title:"",description:"",date:"",time:"",location:"",maxAttendees:"",price:"",category:"workshop",status:"upcoming"}),[y,_]=F.useState({}),[A,Q]=F.useState(!1),w=[{id:1,title:"Beard Styling Workshop",description:"Learn professional beard styling techniques from our master barbers",date:"2024-02-15",time:"14:00",location:"Main Shop Floor",maxAttendees:12,currentAttendees:8,price:500,category:"workshop",status:"upcoming",createdAt:"2024-01-10"},{id:2,title:"Grand Opening Celebration",description:"Join us for our grand opening with special discounts and live music",date:"2024-02-20",time:"10:00",location:"Entire Shop",maxAttendees:50,currentAttendees:23,price:0,category:"celebration",status:"upcoming",createdAt:"2024-01-05"},{id:3,title:"Classic Shave Masterclass",description:"Traditional straight razor shaving techniques and safety",date:"2024-01-25",time:"16:00",location:"Training Room",maxAttendees:8,currentAttendees:8,price:750,category:"workshop",status:"completed",createdAt:"2024-01-01"}];F.useEffect(()=>{j()},[]);const j=async()=>{c(!0);try{await new Promise(H=>setTimeout(H,1e3)),i(w)}catch(H){console.error("Error loading events:",H)}finally{c(!1)}},M=()=>{const H={};if(b.title.trim()||(H.title="Event title is required"),b.description.trim()||(H.description="Description is required"),b.date||(H.date="Date is required"),b.time||(H.time="Time is required"),b.location.trim()||(H.location="Location is required"),(!b.maxAttendees||b.maxAttendees<1)&&(H.maxAttendees="Valid max attendees required"),b.price<0&&(H.price="Price cannot be negative"),b.date){const se=new Date(b.date),S=new Date;S.setHours(0,0,0,0),se<S&&(H.date="Event date cannot be in the past")}return _(H),Object.keys(H).length===0},k=async H=>{if(H.preventDefault(),!!M()){Q(!0);try{if(await new Promise(se=>setTimeout(se,1500)),p)i(se=>se.map(S=>S.id===p.id?{...S,...b,id:p.id}:S));else{const se={...b,id:Date.now(),currentAttendees:0,createdAt:new Date().toISOString().split("T")[0]};i(S=>[se,...S])}D()}catch(se){console.error("Error saving event:",se)}finally{Q(!1)}}},T=H=>{B({title:H.title,description:H.description,date:H.date,time:H.time,location:H.location,maxAttendees:H.maxAttendees.toString(),price:H.price.toString(),category:H.category,status:H.status}),v(H),E(!0)},U=async H=>{if(confirm("Are you sure you want to delete this event?")){c(!0);try{await new Promise(se=>setTimeout(se,500)),i(se=>se.filter(S=>S.id!==H))}catch(se){console.error("Error deleting event:",se)}finally{c(!1)}}},D=()=>{E(!1),v(null),B({title:"",description:"",date:"",time:"",location:"",maxAttendees:"",price:"",category:"workshop",status:"upcoming"}),_({})},z=H=>{switch(H){case"upcoming":return{label:"Upcoming",bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200"};case"ongoing":return{label:"Ongoing",bg:"bg-green-50",text:"text-green-700",border:"border-green-200"};case"completed":return{label:"Completed",bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200"};case"cancelled":return{label:"Cancelled",bg:"bg-red-50",text:"text-red-700",border:"border-red-200"};default:return{label:"Unknown",bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200"}}},P=H=>{switch(H){case"workshop":return"";case"celebration":return"";case"training":return"";case"promotion":return"";default:return""}},$=n.filter(H=>{const se=H.title.toLowerCase().includes(d.toLowerCase())||H.description.toLowerCase().includes(d.toLowerCase()),S=g==="all"||H.status===g;return se&&S}),ae={total:n.length,upcoming:n.filter(H=>H.status==="upcoming").length,completed:n.filter(H=>H.status==="completed").length,totalAttendees:n.reduce((H,se)=>H+se.currentAttendees,0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900",children:"Events Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Organize and manage barbershop events and workshops"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>{j(),o?.()},className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(_t,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{onClick:()=>E(!0),className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx("span",{children:"New Event"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Events"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ae.total})]}),e.jsx(Te,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Upcoming"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ae.upcoming})]}),e.jsx(Ct,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:ae.completed})]}),e.jsx(Te,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Attendees"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:ae.totalAttendees})]}),e.jsx(ka,{className:"h-8 w-8 text-purple-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search events...",value:d,onChange:H=>m(H.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Sa,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:g,onChange:H=>h(H.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"upcoming",children:"Upcoming"}),e.jsx("option",{value:"ongoing",children:"Ongoing"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})})}),l?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(H=>e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-3"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"})]})},H))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map(H=>{const se=z(H.status),S=H.currentAttendees/H.maxAttendees*100;return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-2xl",children:P(H.category)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:H.title}),e.jsx("p",{className:"text-sm text-gray-500 capitalize",children:H.category})]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${se.bg} ${se.text} ${se.border}`,children:se.label})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:H.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),new Date(H.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),new Date(`1970-01-01T${H.time}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Xf,{className:"h-4 w-4 mr-2"}),H.location]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ka,{className:"h-4 w-4 mr-2"}),H.currentAttendees,"/",H.maxAttendees," attendees"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[e.jsx("span",{children:"Attendance"}),e.jsxs("span",{children:[Math.round(S),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(S,100)}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-lg font-bold text-orange-600",children:H.price===0?"Free":`${H.price.toLocaleString()}`}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>T(H),className:"p-2 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Edit Event",children:e.jsx(Zr,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>U(H.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Event",children:e.jsx(Da,{className:"h-4 w-4"})})]})]})]},H.id)})}),$.length===0&&!l&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Te,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No events found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:d||g!=="all"?"Try adjusting your search or filter criteria.":"Get started by creating your first event."}),!d&&g==="all"&&e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>E(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:[e.jsx(Jt,{className:"-ml-1 mr-2 h-4 w-4"}),"New Event"]})})]}),e.jsx(zt,{isOpen:f,onClose:D,title:p?"Edit Event":"Create New Event",size:"lg",children:e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title *"}),e.jsx("input",{type:"text",value:b.title,onChange:H=>B(se=>({...se,title:H.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${y.title?"border-red-300":"border-gray-300"}`,placeholder:"Enter event title"}),y.title&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),y.title]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{value:b.description,onChange:H=>B(se=>({...se,description:H.target.value})),rows:3,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${y.description?"border-red-300":"border-gray-300"}`,placeholder:"Describe the event"}),y.description&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),y.description]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),e.jsx("input",{type:"date",value:b.date,onChange:H=>B(se=>({...se,date:H.target.value})),min:new Date().toISOString().split("T")[0],className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${y.date?"border-red-300":"border-gray-300"}`}),y.date&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),y.date]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time *"}),e.jsx("input",{type:"time",value:b.time,onChange:H=>B(se=>({...se,time:H.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${y.time?"border-red-300":"border-gray-300"}`}),y.time&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),y.time]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),e.jsx("input",{type:"text",value:b.location,onChange:H=>B(se=>({...se,location:H.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${y.location?"border-red-300":"border-gray-300"}`,placeholder:"Event location"}),y.location&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),y.location]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Attendees *"}),e.jsx("input",{type:"number",value:b.maxAttendees,onChange:H=>B(se=>({...se,maxAttendees:H.target.value})),min:"1",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${y.maxAttendees?"border-red-300":"border-gray-300"}`,placeholder:"Maximum attendees"}),y.maxAttendees&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),y.maxAttendees]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price ()"}),e.jsx("input",{type:"number",value:b.price,onChange:H=>B(se=>({...se,price:H.target.value})),min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${y.price?"border-red-300":"border-gray-300"}`,placeholder:"0.00 (Free event)"}),y.price&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),y.price]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:b.category,onChange:H=>B(se=>({...se,category:H.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"workshop",children:"Workshop"}),e.jsx("option",{value:"celebration",children:"Celebration"}),e.jsx("option",{value:"training",children:"Training"}),e.jsx("option",{value:"promotion",children:"Promotion"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx(Ge,{type:"button",variant:"outline",onClick:D,disabled:A,children:"Cancel"}),e.jsx(Ge,{type:"submit",disabled:A,className:"bg-orange-500 hover:bg-orange-600",children:A?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),p?"Updating...":"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xr,{className:"w-4 h-4 mr-2"}),p?"Update Event":"Create Event"]})})]})]})})]})},BE=({onRefresh:o})=>{const[n,i]=F.useState([]),[l,c]=F.useState(!1),[d,m]=F.useState(""),[g,h]=F.useState("all"),[f,E]=F.useState("all"),[p,v]=F.useState(!1),[b,B]=F.useState(null),[y,_]=F.useState({name:"",description:"",price:"",cost:"",category:"hair-care",brand:"",sku:"",stock:"",minStock:"",imageUrl:"",status:"active"}),[A,Q]=F.useState({}),[w,j]=F.useState(!1),M=[{id:1,name:"Premium Hair Pomade",description:"High-hold, medium-shine pomade for classic styling",price:450,cost:200,category:"hair-care",brand:"TipunoX Angeles Professional",sku:"TipunoX Angeles-POM-001",stock:25,minStock:10,imageUrl:"/api/placeholder/300/300",status:"active",soldThisMonth:15,createdAt:"2024-01-15"},{id:2,name:"Beard Oil - Sandalwood",description:"Nourishing beard oil with sandalwood scent",price:350,cost:150,category:"beard-care",brand:"TipunoX Angeles Professional",sku:"TipunoX Angeles-BO-002",stock:8,minStock:15,imageUrl:"/api/placeholder/300/300",status:"active",soldThisMonth:22,createdAt:"2024-01-10"},{id:3,name:"Professional Scissors",description:"High-quality stainless steel cutting scissors",price:2500,cost:1200,category:"tools",brand:"Jaguar",sku:"JAG-SC-003",stock:5,minStock:3,imageUrl:"/api/placeholder/300/300",status:"active",soldThisMonth:2,createdAt:"2024-01-05"},{id:4,name:"Aftershave Balm",description:"Soothing aftershave balm with aloe vera",price:280,cost:120,category:"shaving",brand:"TipunoX Angeles Professional",sku:"TipunoX Angeles-AB-004",stock:0,minStock:12,imageUrl:"/api/placeholder/300/300",status:"out-of-stock",soldThisMonth:18,createdAt:"2024-01-01"},{id:5,name:"Hair Wax - Strong Hold",description:"Matte finish hair wax for textured styles",price:380,cost:180,category:"hair-care",brand:"TipunoX Angeles Professional",sku:"TipunoX Angeles-WAX-005",stock:32,minStock:8,imageUrl:"/api/placeholder/300/300",status:"active",soldThisMonth:28,createdAt:"2023-12-20"}];F.useEffect(()=>{k()},[]);const k=async()=>{c(!0);try{await new Promise(S=>setTimeout(S,1e3)),i(M)}catch(S){console.error("Error loading products:",S)}finally{c(!1)}},T=()=>{const S={};return y.name.trim()||(S.name="Product name is required"),y.description.trim()||(S.description="Description is required"),(!y.price||y.price<=0)&&(S.price="Valid price is required"),(!y.cost||y.cost<0)&&(S.cost="Valid cost is required"),y.brand.trim()||(S.brand="Brand is required"),y.sku.trim()||(S.sku="SKU is required"),(!y.stock||y.stock<0)&&(S.stock="Valid stock quantity is required"),(!y.minStock||y.minStock<0)&&(S.minStock="Valid minimum stock is required"),y.price&&y.cost&&parseFloat(y.price)<=parseFloat(y.cost)&&(S.price="Price must be higher than cost"),n.find(ne=>ne.sku.toLowerCase()===y.sku.toLowerCase()&&(!b||ne.id!==b.id))&&(S.sku="SKU already exists"),Q(S),Object.keys(S).length===0},U=async S=>{if(S.preventDefault(),!!T()){j(!0);try{await new Promise(ne=>setTimeout(ne,1500));const q={...y,price:parseFloat(y.price),cost:parseFloat(y.cost),stock:parseInt(y.stock),minStock:parseInt(y.minStock)};if(b)i(ne=>ne.map(ie=>ie.id===b.id?{...ie,...q,id:b.id}:ie));else{const ne={...q,id:Date.now(),soldThisMonth:0,createdAt:new Date().toISOString().split("T")[0]};i(ie=>[ne,...ie])}P()}catch(q){console.error("Error saving product:",q)}finally{j(!1)}}},D=S=>{_({name:S.name,description:S.description,price:S.price.toString(),cost:S.cost.toString(),category:S.category,brand:S.brand,sku:S.sku,stock:S.stock.toString(),minStock:S.minStock.toString(),imageUrl:S.imageUrl||"",status:S.status}),B(S),v(!0)},z=async S=>{if(confirm("Are you sure you want to delete this product?")){c(!0);try{await new Promise(q=>setTimeout(q,500)),i(q=>q.filter(ne=>ne.id!==S))}catch(q){console.error("Error deleting product:",q)}finally{c(!1)}}},P=()=>{v(!1),B(null),_({name:"",description:"",price:"",cost:"",category:"hair-care",brand:"",sku:"",stock:"",minStock:"",imageUrl:"",status:"active"}),Q({})},$=S=>S.stock===0?{label:"Out of Stock",bg:"bg-red-50",text:"text-red-700",border:"border-red-200"}:S.stock<=S.minStock?{label:"Low Stock",bg:"bg-yellow-50",text:"text-yellow-700",border:"border-yellow-200"}:{label:"In Stock",bg:"bg-green-50",text:"text-green-700",border:"border-green-200"},ae=S=>{switch(S){case"hair-care":return"";case"beard-care":return"";case"shaving":return"";case"tools":return"";case"accessories":return"";default:return""}},H=n.filter(S=>{const q=S.name.toLowerCase().includes(d.toLowerCase())||S.brand.toLowerCase().includes(d.toLowerCase())||S.sku.toLowerCase().includes(d.toLowerCase()),ne=g==="all"||S.category===g,ie=f==="all"||f==="in-stock"&&S.stock>S.minStock||f==="low-stock"&&S.stock>0&&S.stock<=S.minStock||f==="out-of-stock"&&S.stock===0;return q&&ne&&ie}),se={total:n.length,inStock:n.filter(S=>S.stock>S.minStock).length,lowStock:n.filter(S=>S.stock>0&&S.stock<=S.minStock).length,outOfStock:n.filter(S=>S.stock===0).length,totalValue:n.reduce((S,q)=>S+q.price*q.stock,0),totalSold:n.reduce((S,q)=>S+q.soldThisMonth,0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900",children:"Products & Inventory"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your barbershop products and track inventory"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>{k(),o?.()},className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(_t,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx("span",{children:"New Product"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Products"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:se.total})]}),e.jsx(Gx,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"In Stock"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:se.inStock})]}),e.jsx(Vr,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Low Stock"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:se.lowStock})]}),e.jsx(et,{className:"h-8 w-8 text-yellow-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Out of Stock"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:se.outOfStock})]}),e.jsx(uc,{className:"h-8 w-8 text-red-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Inventory Value"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",se.totalValue.toLocaleString()]})]}),e.jsx(qt,{className:"h-8 w-8 text-purple-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Sold This Month"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:se.totalSold})]}),e.jsx(I5,{className:"h-8 w-8 text-orange-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products...",value:d,onChange:S=>m(S.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Sa,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:g,onChange:S=>h(S.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"hair-care",children:"Hair Care"}),e.jsx("option",{value:"beard-care",children:"Beard Care"}),e.jsx("option",{value:"shaving",children:"Shaving"}),e.jsx("option",{value:"tools",children:"Tools"}),e.jsx("option",{value:"accessories",children:"Accessories"})]})]}),e.jsxs("select",{value:f,onChange:S=>E(S.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Stock Levels"}),e.jsx("option",{value:"in-stock",children:"In Stock"}),e.jsx("option",{value:"low-stock",children:"Low Stock"}),e.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})]})})}),l?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[1,2,3,4,5,6,7,8].map(S=>e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"})]})},S))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:H.map(S=>{const q=$(S),ne=((S.price-S.cost)/S.price*100).toFixed(1);return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow overflow-hidden",children:[e.jsxs("div",{className:"h-48 bg-gray-100 flex items-center justify-center relative",children:[S.imageUrl?e.jsx("img",{src:S.imageUrl,alt:S.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"text-6xl",children:ae(S.category)}),e.jsx("span",{className:`absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-medium border ${q.bg} ${q.text} ${q.border}`,children:q.label})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:S.name}),e.jsx("p",{className:"text-xs text-gray-500",children:S.brand})]})}),e.jsx("p",{className:"text-gray-600 text-xs mb-3 line-clamp-2",children:S.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"SKU:"}),e.jsx("span",{className:"font-mono text-gray-700",children:S.sku})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Stock:"}),e.jsxs("span",{className:`font-semibold ${S.stock===0?"text-red-600":S.stock<=S.minStock?"text-yellow-600":"text-green-600"}`,children:[S.stock," units"]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Sold:"}),e.jsxs("span",{className:"text-gray-700",children:[S.soldThisMonth," this month"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[e.jsx("span",{children:"Stock Level"}),e.jsxs("span",{children:[Math.round(S.stock/(S.minStock*2)*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${S.stock===0?"bg-red-500":S.stock<=S.minStock?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(S.stock/(S.minStock*2)*100,100)}%`}})})]}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-bold text-orange-600",children:["",S.price.toLocaleString()]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Cost: ",S.cost.toLocaleString()]}),e.jsxs("div",{className:"text-xs text-green-600",children:["+",ne,"% margin"]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:S.category.replace("-"," ")}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D(S),className:"p-2 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Edit Product",children:e.jsx(Zr,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>z(S.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Product",children:e.jsx(Da,{className:"h-4 w-4"})})]})]})]})]},S.id)})}),H.length===0&&!l&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Gx,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No products found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:d||g!=="all"||f!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding your first product."}),!d&&g==="all"&&f==="all"&&e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:[e.jsx(Jt,{className:"-ml-1 mr-2 h-4 w-4"}),"New Product"]})})]}),e.jsx(zt,{isOpen:p,onClose:P,title:b?"Edit Product":"Add New Product",size:"lg",children:e.jsxs("form",{onSubmit:U,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),e.jsx("input",{type:"text",value:y.name,onChange:S=>_(q=>({...q,name:S.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${A.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter product name"}),A.name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),A.name]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{value:y.description,onChange:S=>_(q=>({...q,description:S.target.value})),rows:3,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${A.description?"border-red-300":"border-gray-300"}`,placeholder:"Describe the product"}),A.description&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),A.description]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selling Price () *"}),e.jsx("input",{type:"number",value:y.price,onChange:S=>_(q=>({...q,price:S.target.value})),min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${A.price?"border-red-300":"border-gray-300"}`,placeholder:"0.00"}),A.price&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),A.price]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cost Price () *"}),e.jsx("input",{type:"number",value:y.cost,onChange:S=>_(q=>({...q,cost:S.target.value})),min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${A.cost?"border-red-300":"border-gray-300"}`,placeholder:"0.00"}),A.cost&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),A.cost]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:y.category,onChange:S=>_(q=>({...q,category:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"hair-care",children:"Hair Care"}),e.jsx("option",{value:"beard-care",children:"Beard Care"}),e.jsx("option",{value:"shaving",children:"Shaving"}),e.jsx("option",{value:"tools",children:"Tools"}),e.jsx("option",{value:"accessories",children:"Accessories"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand *"}),e.jsx("input",{type:"text",value:y.brand,onChange:S=>_(q=>({...q,brand:S.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${A.brand?"border-red-300":"border-gray-300"}`,placeholder:"Product brand"}),A.brand&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),A.brand]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU *"}),e.jsx("input",{type:"text",value:y.sku,onChange:S=>_(q=>({...q,sku:S.target.value.toUpperCase()})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent font-mono ${A.sku?"border-red-300":"border-gray-300"}`,placeholder:"PROD-001"}),A.sku&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),A.sku]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Stock *"}),e.jsx("input",{type:"number",value:y.stock,onChange:S=>_(q=>({...q,stock:S.target.value})),min:"0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${A.stock?"border-red-300":"border-gray-300"}`,placeholder:"0"}),A.stock&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),A.stock]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Stock *"}),e.jsx("input",{type:"number",value:y.minStock,onChange:S=>_(q=>({...q,minStock:S.target.value})),min:"0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${A.minStock?"border-red-300":"border-gray-300"}`,placeholder:"0"}),A.minStock&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),A.minStock]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),e.jsx("input",{type:"url",value:y.imageUrl,onChange:S=>_(q=>({...q,imageUrl:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"})]})]}),y.price&&y.cost&&parseFloat(y.price)>parseFloat(y.cost)&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ic,{className:"h-5 w-5 text-green-600"}),e.jsxs("span",{className:"text-sm font-medium text-green-800",children:["Profit Margin: ",((parseFloat(y.price)-parseFloat(y.cost))/parseFloat(y.price)*100).toFixed(1),"%"]})]}),e.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Profit per unit: ",(parseFloat(y.price)-parseFloat(y.cost)).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx(Ge,{type:"button",variant:"outline",onClick:P,disabled:w,children:"Cancel"}),e.jsx(Ge,{type:"submit",disabled:w,className:"bg-orange-500 hover:bg-orange-600",children:w?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),b?"Updating...":"Adding..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xr,{className:"w-4 h-4 mr-2"}),b?"Update Product":"Add Product"]})})]})]})})]})},AE=({onRefresh:o})=>{const{user:n}=Mt(),[i,l]=F.useState(""),[c,d]=F.useState("all"),[m,g]=F.useState("all"),[h,f]=F.useState(!1),[E,p]=F.useState([]),[v,b]=F.useState(!1),[B,y]=F.useState(!1),[_,A]=F.useState(""),Q=we(n?.id?ue.services.notifications.getUserNotifications:void 0,n?.id?{userId:n.id,limit:100,includeArchived:h}:void 0),w=we(n?.id?ue.services.notifications.getUnreadCount:void 0,n?.id?{userId:n.id}:void 0),j=we(n?.role==="admin"?ue.services.notifications.getNotificationStats:void 0,n?.role==="admin"&&n?.id?{userId:n.id}:void 0),M=Ne(ue.services.notifications.markAsRead),k=Ne(ue.services.notifications.markAllAsRead),T=Ne(ue.services.notifications.archiveNotification),U=Ne(ue.services.notifications.deleteNotification);Ne(ue.services.notifications.createNotification),Ne(ue.services.notifications.broadcastNotification);const D=Q?.filter(q=>{const ne=q.title.toLowerCase().includes(i.toLowerCase())||q.message.toLowerCase().includes(i.toLowerCase()),ie=c==="all"||q.type===c,R=m==="all"||q.priority===m;return ne&&ie&&R})||[],z=async q=>{if(n?.id)try{await M({notificationId:q,userId:n.id})}catch(ne){A(ne.message||"Failed to mark notification as read")}},P=async()=>{if(n?.id)try{y(!0),await k({userId:n.id})}catch(q){A(q.message||"Failed to mark all notifications as read")}finally{y(!1)}},$=async q=>{if(n?.id)try{await T({notificationId:q,userId:n.id})}catch(ne){A(ne.message||"Failed to archive notification")}},ae=async q=>{if(n?.id)try{await U({notificationId:q,userId:n.id})}catch(ne){A(ne.message||"Failed to delete notification")}},H=q=>{switch(q){case"booking":return e.jsx(Te,{className:"h-5 w-5"});case"payment":return e.jsx(qt,{className:"h-5 w-5"});case"system":return e.jsx(cc,{className:"h-5 w-5"});case"promotion":return e.jsx(Xe,{className:"h-5 w-5"});case"reminder":return e.jsx(Ct,{className:"h-5 w-5"});case"alert":return e.jsx(et,{className:"h-5 w-5"});default:return e.jsx(sl,{className:"h-5 w-5"})}},se=q=>{switch(q){case"urgent":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"medium":return"text-blue-600 bg-blue-50 border-blue-200";case"low":return"text-gray-600 bg-gray-50 border-gray-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},S=q=>{const ie=Date.now()-q,R=Math.floor(ie/6e4),O=Math.floor(ie/36e5),L=Math.floor(ie/864e5);return L>0?`${L}d ago`:O>0?`${O}h ago`:R>0?`${R}m ago`:"Just now"};return n?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900",children:"Notifications"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Stay updated with important alerts and messages",w>0&&e.jsxs("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[w," unread"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>f(!h),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${h?"bg-gray-200 text-gray-800":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[h?e.jsx(m5,{className:"h-4 w-4"}):e.jsx(If,{className:"h-4 w-4"}),e.jsx("span",{children:h?"Hide Archived":"Show Archived"})]}),w>0&&e.jsxs("button",{onClick:P,disabled:B,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 transition-colors",children:[e.jsx(Sh,{className:"h-4 w-4"}),e.jsx("span",{children:"Mark All Read"})]}),n?.role==="admin"&&e.jsxs("button",{onClick:()=>b(!0),className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx("span",{children:"Create"})]})]})]}),_&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-red-600",children:_}),e.jsx("button",{onClick:()=>A(""),className:"mt-2 text-sm text-red-500 hover:text-red-700",children:"Dismiss"})]}),j&&n?.role==="admin"&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.total})]}),e.jsx(sl,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Unread"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:j.unread})]}),e.jsx(H6,{className:"h-8 w-8 text-red-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Archived"}),e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:j.archived})]}),e.jsx(kh,{className:"h-8 w-8 text-gray-500"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Urgent"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:j.byPriority.urgent})]}),e.jsx(et,{className:"h-8 w-8 text-red-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search notifications...",value:i,onChange:q=>l(q.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Sa,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:c,onChange:q=>d(q.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"booking",children:"Booking"}),e.jsx("option",{value:"payment",children:"Payment"}),e.jsx("option",{value:"system",children:"System"}),e.jsx("option",{value:"promotion",children:"Promotion"}),e.jsx("option",{value:"reminder",children:"Reminder"}),e.jsx("option",{value:"alert",children:"Alert"})]})]}),e.jsxs("select",{value:m,onChange:q=>g(q.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Priorities"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]}),e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(Ka,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:D.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(sl,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No notifications found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i||c!=="all"||m!=="all"?"Try adjusting your search or filter criteria.":"You're all caught up! No notifications to display."})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:D.map(q=>e.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${q.is_read?"":"bg-blue-50 border-l-4 border-l-blue-500"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:`p-2 rounded-lg ${se(q.priority)}`,children:H(q.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:`text-sm font-medium ${q.is_read?"text-gray-700":"text-gray-900"}`,children:q.title}),e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium capitalize ${se(q.priority)}`,children:q.priority}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 capitalize",children:q.type})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:q.message}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[e.jsx("span",{children:S(q.createdAt)}),q.sender&&e.jsxs("span",{children:["From: ",q.sender.username]}),q.action_url&&q.action_label&&e.jsx("a",{href:q.action_url,className:"text-orange-600 hover:text-orange-800 font-medium",children:q.action_label})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[!q.is_read&&e.jsx("button",{onClick:()=>z(q._id),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Mark as read",children:e.jsx(Sh,{className:"h-4 w-4"})}),!q.is_archived&&e.jsx("button",{onClick:()=>$(q._id),className:"p-1 text-gray-400 hover:text-yellow-600 transition-colors",title:"Archive",children:e.jsx(kh,{className:"h-4 w-4"})}),n?.role==="admin"&&e.jsx("button",{onClick:()=>ae(q._id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Delete",children:e.jsx(Da,{className:"h-4 w-4"})})]})]})},q._id))})})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-gray-500",children:"Please log in to view notifications."})})};function FE(){const{user:o}=Mt(),[n,i]=F.useState(()=>localStorage.getItem("staff_dashboard_active_tab")||"overview"),[l,c]=F.useState(null);F.useEffect(()=>{localStorage.setItem("staff_dashboard_active_tab",n)},[n]);const d=we(ue.services.bookings.getAllBookings),m=we(ue.services.services.getAllServices),g=we(ue.services.vouchers.getAllVouchers),h=we(ue.services.barbers.getAllBarbers),f=we(ue.services.events.getAllEvents),E=we(ue.services.auth.getAllUsers),v=!d||!m||!g||!h||!E?null:{totalBookings:d.length,totalServices:m.length,totalVouchers:g.length,totalBarbers:h.length,totalCustomers:E.length,todayBookings:d.filter(T=>{const U=new Date().toDateString();return new Date(T.date).toDateString()===U}).length,activeVouchers:g.filter(T=>T.is_active).length,activeServices:m.filter(T=>T.is_active).length,activeBarbers:h.filter(T=>T.is_active).length},b=()=>v?e.jsxs("div",{className:"space-y-8",children:[e.jsx(Xp,{stats:[{label:"Total Bookings",value:v.totalBookings,icon:"calendar"},{label:"Today's Bookings",value:v.todayBookings,icon:"clock"},{label:"Active Services",value:v.activeServices,icon:"scissors"},{label:"Active Barbers",value:v.activeBarbers,icon:"user"},{label:"Total Customers",value:v.totalCustomers,icon:"users"},{label:"Active Vouchers",value:v.activeVouchers,icon:"gift"}]}),e.jsx(Zp,{activities:[]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Loading dashboard data..."})]}),B=()=>{window.location.reload()},y=()=>{switch(n){case"overview":return b();case"bookings":return e.jsx(gE,{bookings:d||[],onRefresh:B});case"services":return e.jsx(fE,{services:m||[],onRefresh:B});case"vouchers":return e.jsx(mE,{vouchers:g||[],onRefresh:B,onCreateVoucher:()=>c("voucher")});case"barbers":return e.jsx(bE,{barbers:h||[],onRefresh:B});case"customers":return e.jsx(yE,{customers:E||[],onRefresh:B,onAddCustomer:()=>c("customer")});case"events":return e.jsx(CE,{events:f||[],onRefresh:B});case"reports":return e.jsx(vE,{onRefresh:B});case"products":return e.jsx(BE,{onRefresh:B});case"notifications":return e.jsx(AE,{onRefresh:B});default:return b()}},_=()=>{console.log("Create booking clicked")},A=()=>{console.log("Create voucher clicked")},Q=()=>{console.log("Add customer clicked")},w=()=>{console.log("Voucher scanned")},j=()=>{console.log("Booking scanned")},M=()=>{console.log("Logout clicked")},k=[{id:"overview",label:"Overview",icon:"dashboard"},{id:"bookings",label:"Bookings",icon:"calendar"},{id:"services",label:"Services",icon:"scissors"},{id:"vouchers",label:"Vouchers",icon:"gift"},{id:"barbers",label:"Barbers",icon:"user"},{id:"customers",label:"Customers",icon:"users"},{id:"events",label:"Events",icon:"calendar"},{id:"reports",label:"Reports",icon:"chart"},{id:"products",label:"Products",icon:"package"},{id:"notifications",label:"Notifications",icon:"bell"}];return console.log("StaffDashboard - User:",o),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#F5F5F5] to-white",children:[e.jsx(Ep,{onLogout:M}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"space-y-12",children:[e.jsx(Ip,{onAddCustomer:Q,onCreateBooking:_,onCreateVoucher:A,onVoucherScanned:w,onBookingScanned:j,activeModal:l,setActiveModal:c}),e.jsx(Kp,{tabs:k,activeTab:n,onTabChange:i}),e.jsx("div",{className:"bg-white rounded-3xl shadow-2xl border-2 border-[#F5F5F5] p-10 backdrop-blur-sm",children:y()})]})})]})}const jE=({onBack:o})=>{const{user:n,isAuthenticated:i}=Mt(),[l,c]=F.useState(null),[d,m]=F.useState(()=>new Date().toISOString().split("T")[0]),[g,h]=F.useState(null),[f,E]=F.useState(null),[p,v]=F.useState(1),[b,B]=F.useState(!1),[y,_]=F.useState(!1),[A,Q]=F.useState(null),[w,j]=F.useState(null),[M,k]=F.useState(!0),[T,U]=F.useState(!1),[D,z]=F.useState(null),[P,$]=F.useState(null),[ae,H]=F.useState(!1),se=F.useRef(null),S=we(ue.services.services.getActiveServices),q=we(ue.services.barbers.getActiveBarbers),ne=n?.id?we(ue.services.vouchers.getVouchersByUser,{userId:n.id}):void 0,ie=Ne(ue.services.bookings.createBooking),R=we(ue.services.bookings.getBookingById,w?._id?{id:w._id}:"skip"),O=we(ue.services.bookings.getBookingsByBarberAndDate,f&&d?{barberId:f._id,date:d}:"skip"),L=Ne(ue.services.vouchers.redeemVoucher);F.useEffect(()=>{p===4&&k(!0)},[p]),F.useEffect(()=>{if(p===4&&w?._id&&R?.booking_code){console.log("Step 4 reached with booking ID:",w._id,"actual booking code:",R.booking_code);const re=(J=0)=>{if(se.current){console.log("Canvas found, generating QR code with actual booking data");const me=R,Pe=me.booking_code;console.log("Generating QR with data:",Pe),console.log("QR Scanner expects format with bookingId and bookingCode fields:",{bookingId:me._id,bookingCode:me.booking_code}),St.toCanvas(se.current,Pe,{width:192,margin:2,color:{dark:"#36454F",light:"#ffffff"},errorCorrectionLevel:"H"},fe=>{fe?console.error("QR Code generation error:",fe):console.log("QR Code generated successfully with booking code:",me.booking_code),k(!1)})}else J<5?(console.log(`Canvas ref not available, retrying... (${J+1}/5)`),setTimeout(()=>re(J+1),200)):(console.error("Canvas ref still not available after 5 retries"),k(!1))},Fe=setTimeout(()=>re(),100);return()=>clearTimeout(Fe)}},[p,w?._id,R?.booking_code,l,f,P]);const Z=()=>ne?ne.filter(re=>{const Fe=re.expires_at>Date.now(),J=!re.redeemed;return Fe&&J}):[],G=wa.useMemo(()=>{if(!d||!f)return[];const re=[],Fe=9,J=18,me=new Date,fe=new Date(d).toDateString()===me.toDateString(),dt=me.getHours(),bs=me.getMinutes(),Ms=O?O.filter(ut=>ut.status!=="cancelled").map(ut=>ut.time.substring(0,5)):[];for(let ut=Fe;ut<J;ut++)for(let us of[0,30]){const At=`${ut.toString().padStart(2,"0")}:${us.toString().padStart(2,"0")}`,ys=ut===12?`12:${us.toString().padStart(2,"0")} PM`:ut>12?`${ut-12}:${us.toString().padStart(2,"0")} PM`:`${ut}:${us.toString().padStart(2,"0")} AM`;let pt=!0,Kr=null;Ms.includes(At)&&(pt=!1,Kr="booked"),fe&&(ut<dt||ut===dt&&us<=bs)&&(pt=!1,Kr="past"),re.push({time:At,displayTime:ys,available:pt,reason:Kr})}return re},[d,f,O]),de=()=>{if(!l||!q)return q||[];const re=q.filter(Fe=>Fe.services&&Array.isArray(Fe.services)&&Fe.services.some(J=>J===l._id));return console.log(`Found ${re.length} barbers for service ${l.name}`),re},ce=re=>{const Fe=re?.toLowerCase()||"";return Fe.includes("haircut")||Fe.includes("cut")?e.jsx(gs,{className:"w-5 h-5 text-white"}):Fe.includes("beard")?e.jsx(dc,{className:"w-5 h-5 text-white"}):Fe.includes("shave")?e.jsx(Xx,{className:"w-5 h-5 text-white"}):Fe.includes("wash")?e.jsx(Z5,{className:"w-5 h-5 text-white"}):Fe.includes("package")||Fe.includes("complete")?e.jsx(Yx,{className:"w-5 h-5 text-white"}):e.jsx(ds,{className:"w-5 h-5 text-white"})},Ee=async(re="pay_later",Fe=null)=>{if(!l||!d||!g){alert("Please fill in all booking details");return}try{_(!0);const J=g.includes(":")?`${g}:00`:g,me={customer:n.id,service:l._id,barber:f?._id||void 0,date:d,time:J,status:"booked",notes:P?`Used voucher: ${P.code}`:void 0};console.log("Creating booking with data:",me);const fe={_id:await ie(me),booking_code:null,service:l,barber:f,date:d,time:J,status:"booked",voucher_code:P?.code};if(j(fe),v(4),P?.code)try{console.log("Redeeming voucher:",P.code),await L({code:P.code,redeemed_by:n.id}),console.log("Voucher redeemed successfully"),setTimeout(()=>{console.log(` Voucher ${P.code} redeemed successfully!`)},1500)}catch(dt){console.error("Error during voucher redemption:",dt)}re==="pay_now"&&setTimeout(()=>{alert(`Payment via ${Fe?.toUpperCase()} will be processed. (Demo mode - no actual payment)`)},1e3)}catch(J){console.error("Error creating booking:",J),alert(J.message||"Failed to create booking. Please try again.")}finally{_(!1)}},be=re=>{c(re),E(null),v(2)},_e=re=>{console.log("Selected Barber ID:",re._id),sessionStorage.setItem("barberId",re._id),E(re)},Rt=async(re="pay_later",Fe=null)=>{await Ee(re,Fe)},Dt=()=>e.jsx("div",{className:"flex justify-center mb-4 px-4 py-2",children:e.jsx("div",{className:"flex items-center space-x-3",children:[1,2,3].map(re=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${p>=re?"text-white shadow-md":"text-gray-500"}`,style:{backgroundColor:p>=re?"#F68B24":"#E0E0E0"},children:p>re?"":re}),re<3&&e.jsx("div",{className:"w-8 h-0.5 mx-1 rounded transition-all duration-300",style:{backgroundColor:p>re?"#F68B24":"#E0E0E0"}})]},re))})}),_s=()=>b||!S?e.jsxs("div",{className:"text-center py-8 px-4 min-h-[200px] flex flex-col justify-center",children:[e.jsx("div",{className:"rounded-full w-14 h-14 flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"rgba(246, 139, 36, 0.1)"},children:e.jsx(Te,{className:"w-7 h-7",style:{color:"#F68B24"}})}),e.jsx("p",{className:"text-sm font-medium",style:{color:"#8B8B8B"},children:"Loading premium services..."})]}):A?e.jsxs("div",{className:"text-center py-8 px-4 min-h-[200px] flex flex-col justify-center",children:[e.jsx("div",{className:"rounded-full w-14 h-14 flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"rgba(220, 53, 69, 0.1)"},children:e.jsx(tt,{className:"w-7 h-7 text-red-500"})}),e.jsx("p",{className:"text-sm text-red-600 mb-4 font-medium px-4",children:A}),e.jsx("button",{onClick:loadBookingData,className:"w-full max-w-xs mx-auto px-6 py-3 bg-gradient-to-r from-[#F68B24] to-orange-500 text-white rounded-xl font-semibold hover:from-orange-500 hover:to-[#F68B24] transition-all duration-300 shadow-lg active:shadow-md active:scale-95 min-h-[44px] touch-manipulation",children:"Try Again"})]}):e.jsxs("div",{className:"px-4 pb-4",children:[e.jsx("div",{className:"text-center mb-5",children:e.jsxs("div",{className:"flex items-center justify-center mb-3",children:[e.jsx("div",{className:"rounded-full w-10 h-10 flex items-center justify-center mr-3",style:{backgroundColor:"rgba(246, 139, 36, 0.1)"},children:e.jsx(ds,{className:"w-5 h-5",style:{color:"#F68B24"}})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h2",{className:"text-lg font-bold leading-tight",style:{color:"#36454F"},children:"Choose Your Service"}),e.jsx("p",{className:"text-xs font-medium",style:{color:"#8B8B8B"},children:"Premium grooming services"})]})]})}),e.jsx("div",{className:"space-y-3",children:S&&S.map(re=>e.jsxs("button",{onClick:()=>be(re),className:"group relative w-full bg-white rounded-2xl shadow-sm active:shadow-md border-2 hover:border-[#F68B24] active:border-[#F68B24] transition-all duration-200 overflow-hidden touch-manipulation min-h-[88px]",style:{borderColor:"#E0E0E0"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white via-gray-50 to-white opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#F68B24] to-orange-400 opacity-0 group-hover:opacity-3 transition-opacity duration-200"}),e.jsxs("div",{className:"relative p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"rounded-full w-11 h-11 flex items-center justify-center shadow-md group-hover:shadow-lg transition-all duration-200 group-hover:scale-105",style:{backgroundColor:"#F68B24"},children:ce(re.name)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex justify-between items-start mb-1",children:e.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[e.jsx("h3",{className:"text-sm font-bold leading-tight group-hover:text-[#F68B24] transition-colors duration-200",style:{color:"#36454F"},children:re.name}),e.jsx("p",{className:"text-xs mt-1 line-clamp-2 leading-relaxed",style:{color:"#8B8B8B"},children:re.description||"Professional grooming service tailored to your needs"})]})}),e.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ct,{className:"w-3 h-3 flex-shrink-0",style:{color:"#8B8B8B"}}),e.jsx("span",{className:"text-xs font-medium truncate",style:{color:"#8B8B8B"},children:re.duration_minutes?`${re.duration_minutes} min`:"Duration varies"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ds,{className:"w-3 h-3 flex-shrink-0",style:{color:"#F68B24"}}),e.jsx("span",{className:"text-xs font-medium",style:{color:"#8B8B8B"},children:"5.0"})]})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"rounded-lg px-2 py-1.5 shadow-sm text-center min-w-[60px]",style:{backgroundColor:"rgba(246, 139, 36, 0.1)"},children:e.jsxs("div",{className:"text-sm font-bold leading-tight",style:{color:"#F68B24"},children:["",parseFloat(re.price||0).toLocaleString()]})})})]}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-[#F68B24] to-orange-400 scale-x-0 group-hover:scale-x-100 group-active:scale-x-100 transition-transform duration-200 origin-left"})]})]},re._id))}),e.jsx("div",{className:"text-center mt-5",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full shadow-sm",style:{backgroundColor:"rgba(246, 139, 36, 0.1)"},children:[e.jsx(Yx,{className:"w-3.5 h-3.5",style:{color:"#F68B24"}}),e.jsxs("span",{className:"text-xs font-semibold",style:{color:"#F68B24"},children:[S.length," Premium Services Available"]})]})})]}),Wt=()=>e.jsxs("div",{className:"space-y-3 px-4",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("h2",{className:"text-xl font-bold mb-1",style:{color:"#36454F"},children:"Select Barber & Time"}),e.jsx("p",{className:"text-sm font-medium",style:{color:"#8B8B8B"},children:"Choose your preferred barber, then pick a time"})]}),e.jsx("div",{className:"bg-white rounded-xl p-3 border shadow-sm",style:{borderColor:"#E0E0E0"},children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-xl",children:l?.image}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-bold",style:{color:"#36454F"},children:l?.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsxs("span",{className:"font-bold",style:{color:"#F68B24"},children:["",l?.price.toLocaleString()]}),e.jsx("span",{className:"font-medium",style:{color:"#8B8B8B"},children:l?.duration})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border shadow-sm",style:{borderColor:"#E0E0E0"},children:[e.jsx("h3",{className:"text-base font-bold mb-3",style:{color:"#36454F"},children:"Step 1: Choose Your Barber"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:de().length>0?de().map(re=>e.jsx("button",{onClick:()=>{_e(re),h(null)},className:"w-full p-3 rounded-lg border-2 transition-all duration-200 text-left hover:shadow-sm",style:{borderColor:f?._id===re._id?"#F68B24":"#E0E0E0",backgroundColor:f?._id===re._id?"rgba(246, 139, 36, 0.1)":"white"},children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:f?._id===re._id?"#F68B24":"#F5F5F5"},children:f?._id===re._id?e.jsx(ze,{className:"w-5 h-5 text-white"}):e.jsx(Re,{className:"w-5 h-5",style:{color:"#F68B24"}})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-sm",style:{color:"#36454F"},children:re.full_name||re.name||"Professional Barber"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("div",{className:"flex text-yellow-400 text-xs",children:""}),e.jsx("span",{className:"text-xs",style:{color:"#8B8B8B"},children:"5.0  Professional"})]})]})]})},re._id)):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsxs("p",{className:"text-sm font-medium",style:{color:"#F68B24"},children:['No barbers available for "',l?.name,'"']}),e.jsx("p",{className:"text-xs mt-1",style:{color:"#8B8B8B"},children:"This service may not be offered by our current staff"}),e.jsx("button",{onClick:()=>v(1),className:"mt-3 px-4 py-2 bg-orange-500 text-white text-xs font-medium rounded-lg hover:bg-orange-600 transition-colors",children:"Choose Different Service"})]})})]}),f&&e.jsxs("div",{className:"bg-white rounded-xl p-4 border shadow-sm",style:{borderColor:"#E0E0E0"},children:[e.jsx("h3",{className:"text-base font-bold mb-3",style:{color:"#36454F"},children:"Step 2: Select Date"}),e.jsx("input",{type:"date",value:d,onChange:re=>{m(re.target.value),h(null)},min:new Date().toISOString().split("T")[0],max:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],className:"w-full p-3 border-2 border-gray-200 rounded-lg text-base font-medium focus:outline-none focus:border-orange-500 transition-colors",style:{color:"#36454F"}})]}),f&&d&&e.jsxs("div",{className:"bg-white rounded-xl p-4 border shadow-sm",style:{borderColor:"#E0E0E0"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-base font-bold",style:{color:"#36454F"},children:"Step 3: Available Times"}),e.jsx("span",{className:"text-xs",style:{color:"#8B8B8B"},children:new Date(d).toLocaleDateString("en-PH",{weekday:"short",month:"short",day:"numeric"})})]}),ae?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-orange-500 border-t-transparent rounded-full"}),e.jsx("span",{className:"text-sm",style:{color:"#8B8B8B"},children:"Loading available times..."})]})}):G.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("p",{className:"text-sm font-medium",style:{color:"#F68B24"},children:"No available times"}),e.jsx("p",{className:"text-xs mt-1",style:{color:"#8B8B8B"},children:"Please select a different date"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-3 gap-2 mb-3",children:G.map(re=>e.jsxs("button",{onClick:()=>re.available&&h(re.time),disabled:!re.available,className:"p-2 rounded-lg font-semibold text-center transition-all duration-200 border text-sm relative",style:{backgroundColor:re.available?g===re.time?"#F68B24":"#F5F5F5":"#F0F0F0",color:re.available?g===re.time?"white":"#36454F":"#CCCCCC",borderColor:re.available&&g===re.time?"#F68B24":"transparent",cursor:re.available?"pointer":"not-allowed"},title:re.available?`Book at ${re.displayTime}`:`${re.displayTime} - ${re.reason==="past"?"Past time":re.reason==="booked"?"Already booked":"Unavailable"}`,children:[re.displayTime,!re.available&&e.jsx("div",{className:"absolute top-1 right-1",children:e.jsx("div",{className:`w-2 h-2 rounded-full ${re.reason==="past"?"bg-gray-400":"bg-red-500"}`})})]},re.time))}),e.jsxs("div",{className:"flex items-center justify-center space-x-3 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#F5F5F5"}}),e.jsx("span",{style:{color:"#8B8B8B"},children:"Available"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#F68B24"}}),e.jsx("span",{style:{color:"#8B8B8B"},children:"Selected"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#F0F0F0"}}),e.jsx("span",{style:{color:"#8B8B8B"},children:"Booked"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-gray-300"}),e.jsx("span",{style:{color:"#8B8B8B"},children:"Past"})]})]})]})]}),g&&f&&d&&e.jsx("button",{onClick:()=>v(3),className:"w-full py-3 text-white font-bold rounded-xl transition-all duration-200 shadow-lg",style:{backgroundColor:"#F68B24"},onMouseEnter:re=>re.target.style.backgroundColor="#E67E22",onMouseLeave:re=>re.target.style.backgroundColor="#F68B24",children:"Continue to Confirmation"}),f&&e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full shadow-sm",style:{backgroundColor:"rgba(246, 139, 36, 0.1)"},children:e.jsx("span",{className:"text-xs font-semibold",style:{color:"#F68B24"},children:f&&!d?"Step 2: Select Date":f&&d&&!g?"Step 3: Select Time":f&&d&&g?"Ready to Continue!":"Step 1: Choose Barber"})})})]}),Vt=()=>e.jsxs("div",{className:"space-y-3 px-4",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("h2",{className:"text-xl font-bold mb-1",style:{color:"#36454F"},children:"Confirm Your Booking"}),e.jsx("p",{className:"text-sm font-medium",style:{color:"#8B8B8B"},children:"Please review your appointment details"})]}),e.jsx("div",{className:"bg-white rounded-xl p-4 border shadow-lg",style:{borderColor:"#E0E0E0"},children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center border-b pb-3",style:{borderColor:"#E0E0E0"},children:[e.jsx("div",{className:"text-2xl mb-2",children:l?.image}),e.jsx("h3",{className:"text-lg font-bold mb-1",style:{color:"#36454F"},children:l?.name}),e.jsxs("div",{className:"flex justify-center items-center space-x-3",children:[e.jsxs("span",{className:"font-bold text-base",style:{color:"#F68B24"},children:["",l?.price.toLocaleString()]}),e.jsx("span",{className:"font-medium text-sm",style:{color:"#8B8B8B"},children:l?.duration})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"w-4 h-4",style:{color:"#F68B24"}}),e.jsx("span",{className:"font-semibold text-sm",style:{color:"#36454F"},children:"Date & Time"})]}),e.jsxs("span",{className:"font-bold text-sm",style:{color:"#36454F"},children:["Today, ",g]})]}),e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Re,{className:"w-4 h-4",style:{color:"#F68B24"}}),e.jsx("span",{className:"font-semibold text-sm",style:{color:"#36454F"},children:"Your Barber"})]}),e.jsx("span",{className:"font-bold text-sm",style:{color:"#36454F"},children:f?.full_name||f?.name||"Any Barber"})]})]}),e.jsxs("div",{className:"border-t pt-3",style:{borderColor:"#E0E0E0"},children:[e.jsxs("h4",{className:"text-sm font-bold mb-3 flex items-center",style:{color:"#36454F"},children:[e.jsx(Xe,{className:"w-4 h-4 mr-2",style:{color:"#F68B24"}}),"Apply Voucher (Optional)"]}),Z().length>0?e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsx("div",{className:"max-h-32 overflow-y-auto space-y-2",children:Z().map(re=>e.jsx("button",{onClick:()=>$(P?._id===re._id?null:re),className:"w-full p-2 rounded-lg border-2 transition-all duration-200 text-left",style:{borderColor:P?._id===re._id?"#F68B24":"#E0E0E0",backgroundColor:P?._id===re._id?"rgba(246, 139, 36, 0.1)":"white"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-sm",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold",style:{color:"#36454F"},children:re.code}),e.jsxs("p",{className:"text-xs",style:{color:"#F68B24"},children:["",parseFloat(re.value||0).toFixed(2)]})]})]}),P?._id===re._id&&e.jsx("div",{className:"w-4 h-4 rounded-full flex items-center justify-center",style:{backgroundColor:"#F68B24"},children:e.jsx("span",{className:"text-white text-xs",children:""})})]})},re._id))}),P&&e.jsxs("div",{className:"text-xs text-center p-2 rounded",style:{backgroundColor:"#F0F8FF",color:"#36454F"},children:[" You'll save ",parseFloat(P.value||0).toFixed(2)," with this voucher"]})]}):e.jsx("div",{className:"text-center py-3",children:e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"No vouchers available"})})]}),e.jsxs("div",{className:"border-t pt-3",style:{borderColor:"#E0E0E0"},children:[e.jsx("h4",{className:"text-sm font-bold mb-3",style:{color:"#36454F"},children:"Complete Your Booking"}),T?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("h5",{className:"text-sm font-bold mb-2",style:{color:"#36454F"},children:"Select Payment Method"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>z("gcash"),className:`w-full p-3 rounded-lg border-2 transition-all duration-200 flex items-center space-x-3 ${D==="gcash"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"G"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-bold text-sm",style:{color:"#36454F"},children:"GCash"}),e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Digital wallet payment"})]})]},"gcash"),e.jsxs("button",{onClick:()=>z("maya"),className:`w-full p-3 rounded-lg border-2 transition-all duration-200 flex items-center space-x-3 ${D==="maya"?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"M"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-bold text-sm",style:{color:"#36454F"},children:"Maya"}),e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Digital wallet payment"})]})]},"maya"),e.jsxs("button",{onClick:()=>z("card"),className:`w-full p-3 rounded-lg border-2 transition-all duration-200 flex items-center space-x-3 ${D==="card"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[e.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:""})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-bold text-sm",style:{color:"#36454F"},children:"Credit/Debit Card"}),e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Visa, Mastercard, etc."})]})]},"card")]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{U(!1),z(null)},className:"flex-1 py-2 px-3 border font-bold rounded-lg transition-all duration-200 text-sm",style:{borderColor:"#E0E0E0",color:"#8B8B8B"},onMouseEnter:re=>{re.target.style.backgroundColor="#F5F5F5",re.target.style.color="#36454F"},onMouseLeave:re=>{re.target.style.backgroundColor="transparent",re.target.style.color="#8B8B8B"},children:"Back"}),e.jsx("button",{onClick:()=>Rt("pay_now",D),disabled:!D||y,className:`flex-1 py-2 px-3 text-white font-bold rounded-lg transition-all duration-200 shadow-lg text-sm ${!D||y?"opacity-75 cursor-not-allowed":""}`,style:{backgroundColor:!D||y?"#CCCCCC":"#22C55E"},onMouseEnter:re=>!D||y||(re.target.style.backgroundColor="#16A34A"),onMouseLeave:re=>!D||y||(re.target.style.backgroundColor="#22C55E"),children:y?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),e.jsx("span",{children:"Processing..."})]}):"Confirm & Pay"})]})]}):e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>U(!0),disabled:y,className:`py-3 px-4 bg-green-500 text-white font-bold rounded-lg transition-all duration-200 text-sm flex items-center justify-center space-x-2 ${y?"opacity-75 cursor-not-allowed":""}`,onMouseEnter:re=>!y&&(re.target.style.backgroundColor="#16A34A"),onMouseLeave:re=>!y&&(re.target.style.backgroundColor="#22C55E"),children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Pay Now"})]}),e.jsx("button",{onClick:()=>Rt("pay_later"),disabled:y,className:`py-3 px-4 border-2 font-bold rounded-lg transition-all duration-200 text-sm flex items-center justify-center space-x-2 ${y?"opacity-75 cursor-not-allowed":""}`,style:{borderColor:"#F68B24",color:y?"#CCCCCC":"#F68B24"},onMouseEnter:re=>!y&&(re.target.style.backgroundColor="#F68B24",re.target.style.color="white"),onMouseLeave:re=>!y&&(re.target.style.backgroundColor="transparent",re.target.style.color="#F68B24"),children:y?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full"}),e.jsx("span",{children:"Booking..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Pay Later"})]})})]}),!T&&e.jsx("p",{className:"text-xs text-center mb-3",style:{color:"#8B8B8B"},children:"Choose your preferred payment option to complete booking"})]}),!T&&e.jsx("div",{className:"pt-2",children:e.jsx("button",{onClick:()=>v(2),className:"w-full py-2 px-3 border font-bold rounded-lg transition-all duration-200 text-sm",style:{borderColor:"#E0E0E0",color:"#8B8B8B"},onMouseEnter:re=>{re.target.style.backgroundColor="#F5F5F5",re.target.style.color="#36454F"},onMouseLeave:re=>{re.target.style.backgroundColor="transparent",re.target.style.color="#8B8B8B"},children:" Go Back to Edit Details"})})]})})]}),Bt=()=>e.jsxs("div",{className:"space-y-6 px-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 shadow-xl",style:{backgroundColor:"#F68B24"},children:e.jsx(ze,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-2xl font-black mb-2",style:{color:"#36454F"},children:"Booking Confirmed!"}),e.jsx("p",{className:"font-medium",style:{color:"#8B8B8B"},children:"Your appointment has been successfully booked"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 border-2 shadow-lg text-center",style:{borderColor:"#E0E0E0"},children:[e.jsx("h3",{className:"text-lg font-black mb-4",style:{color:"#36454F"},children:"Your Booking QR Code"}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-4 bg-white rounded-2xl border-2 shadow-sm",style:{borderColor:"#E0E0E0"},children:e.jsxs("div",{className:"relative w-48 h-48",children:[(M||!R?.booking_code)&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white z-10",children:e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-3 border-orange-500 border-t-transparent rounded-full mx-auto"}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:R?.booking_code?"Generating QR Code...":"Loading booking details..."})]})}),e.jsx("canvas",{ref:se,className:"rounded-xl w-full h-full",style:{display:M||!R?.booking_code?"none":"block"}})]})})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("p",{className:"text-lg font-black",style:{color:"#36454F"},children:["Booking Code: ",R?.booking_code?R.booking_code:e.jsxs("span",{className:"inline-flex items-center space-x-2",children:[e.jsx("span",{children:"Generating..."}),e.jsx("div",{className:"animate-pulse w-2 h-2 bg-orange-500 rounded-full"})]})]}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Show this QR code when you arrive"})]})]}),e.jsx("div",{className:"rounded-2xl p-6 border",style:{backgroundColor:"rgba(246, 139, 36, 0.05)",borderColor:"rgba(246, 139, 36, 0.2)"},children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:"Service:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:l?.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:"Date & Time:"}),e.jsxs("span",{className:"font-bold",style:{color:"#36454F"},children:[w?.date?new Date(w.date).toLocaleDateString():"Today",", ",w?.time||g]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:"Barber:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:f?.full_name||f?.name||"Any Barber"})]}),P&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:"Subtotal:"}),e.jsxs("span",{className:"font-bold line-through",style:{color:"#8B8B8B"},children:["",l?.price.toLocaleString()]})]}),P&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:"Voucher Discount:"}),e.jsxs("span",{className:"font-bold",style:{color:"#22C55E"},children:["-",parseFloat(P.value||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between border-t pt-3",style:{borderColor:"rgba(246, 139, 36, 0.2)"},children:[e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:"Total:"}),e.jsxs("span",{className:"font-black text-lg",style:{color:"#F68B24"},children:["",w?.total_amount?parseFloat(w.total_amount).toLocaleString():Math.max(0,(l?.price||0)-(P?.value||0)).toLocaleString()]})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:o,className:"w-full py-4 text-white font-bold rounded-2xl transition-all duration-200 shadow-lg",style:{backgroundColor:"#F68B24"},onMouseEnter:re=>re.target.style.backgroundColor="#E67E22",onMouseLeave:re=>re.target.style.backgroundColor="#F68B24",children:"Back to Home"}),e.jsx("button",{onClick:()=>{o&&o("bookings")},className:"w-full py-3 border-2 font-bold rounded-2xl transition-all duration-200",style:{borderColor:"#F68B24",color:"#F68B24"},onMouseEnter:re=>{re.target.style.backgroundColor="#F68B24",re.target.style.color="white"},onMouseLeave:re=>{re.target.style.backgroundColor="transparent",re.target.style.color="#F68B24"},children:"View My Bookings"})]})]});return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsx("div",{style:{backgroundColor:"#36454F"},className:"sticky top-0 z-40 shadow-lg",children:e.jsx("div",{className:"max-w-md mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-3 py-2 text-white font-semibold rounded-xl hover:bg-white/10 transition-all duration-200",style:{color:"#F4F0E6"},children:[e.jsx(ul,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Back"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold",style:{color:"#F4F0E6"},children:"Book Service"}),e.jsxs("p",{className:"text-xs",style:{color:"#F68B24"},children:["Step ",p," of 3"]})]})]})})}),Dt(),e.jsxs("div",{className:"pb-8",children:[p===1&&_s(),p===2&&Wt(),p===3&&Vt(),p===4&&Bt()]})]})};var Oo={exports:{}},wE=Oo.exports,mf;function NE(){return mf||(mf=1,function(o,n){(function(l,c){o.exports=c()})(typeof self<"u"?self:wE,function(){return function(i){var l={};function c(d){if(l[d])return l[d].exports;var m=l[d]={i:d,l:!1,exports:{}};return i[d].call(m.exports,m,m.exports,c),m.l=!0,m.exports}return c.m=i,c.c=l,c.d=function(d,m,g){c.o(d,m)||Object.defineProperty(d,m,{configurable:!1,enumerable:!0,get:g})},c.n=function(d){var m=d&&d.__esModule?function(){return d.default}:function(){return d};return c.d(m,"a",m),m},c.o=function(d,m){return Object.prototype.hasOwnProperty.call(d,m)},c.p="",c(c.s=3)}([function(i,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function m(g,h){this.width=h,this.height=g.length/h,this.data=g}return m.createEmpty=function(g,h){return new m(new Uint8ClampedArray(g*h),g)},m.prototype.get=function(g,h){return g<0||g>=this.width||h<0||h>=this.height?!1:!!this.data[h*this.width+g]},m.prototype.set=function(g,h,f){this.data[h*this.width+g]=f?1:0},m.prototype.setRegion=function(g,h,f,E,p){for(var v=h;v<h+E;v++)for(var b=g;b<g+f;b++)this.set(b,v,!!p)},m}();l.BitMatrix=d},function(i,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(2);function m(h,f){return h^f}l.addOrSubtractGF=m;var g=function(){function h(f,E,p){this.primitive=f,this.size=E,this.generatorBase=p,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var v=1,b=0;b<this.size;b++)this.expTable[b]=v,v=v*2,v>=this.size&&(v=(v^this.primitive)&this.size-1);for(var b=0;b<this.size-1;b++)this.logTable[this.expTable[b]]=b;this.zero=new d.default(this,Uint8ClampedArray.from([0])),this.one=new d.default(this,Uint8ClampedArray.from([1]))}return h.prototype.multiply=function(f,E){return f===0||E===0?0:this.expTable[(this.logTable[f]+this.logTable[E])%(this.size-1)]},h.prototype.inverse=function(f){if(f===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[f]-1]},h.prototype.buildMonomial=function(f,E){if(f<0)throw new Error("Invalid monomial degree less than 0");if(E===0)return this.zero;var p=new Uint8ClampedArray(f+1);return p[0]=E,new d.default(this,p)},h.prototype.log=function(f){if(f===0)throw new Error("Can't take log(0)");return this.logTable[f]},h.prototype.exp=function(f){return this.expTable[f]},h}();l.default=g},function(i,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(1),m=function(){function g(h,f){if(f.length===0)throw new Error("No coefficients.");this.field=h;var E=f.length;if(E>1&&f[0]===0){for(var p=1;p<E&&f[p]===0;)p++;if(p===E)this.coefficients=h.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(E-p);for(var v=0;v<this.coefficients.length;v++)this.coefficients[v]=f[p+v]}}else this.coefficients=f}return g.prototype.degree=function(){return this.coefficients.length-1},g.prototype.isZero=function(){return this.coefficients[0]===0},g.prototype.getCoefficient=function(h){return this.coefficients[this.coefficients.length-1-h]},g.prototype.addOrSubtract=function(h){var f;if(this.isZero())return h;if(h.isZero())return this;var E=this.coefficients,p=h.coefficients;E.length>p.length&&(f=[p,E],E=f[0],p=f[1]);for(var v=new Uint8ClampedArray(p.length),b=p.length-E.length,B=0;B<b;B++)v[B]=p[B];for(var B=b;B<p.length;B++)v[B]=d.addOrSubtractGF(E[B-b],p[B]);return new g(this.field,v)},g.prototype.multiply=function(h){if(h===0)return this.field.zero;if(h===1)return this;for(var f=this.coefficients.length,E=new Uint8ClampedArray(f),p=0;p<f;p++)E[p]=this.field.multiply(this.coefficients[p],h);return new g(this.field,E)},g.prototype.multiplyPoly=function(h){if(this.isZero()||h.isZero())return this.field.zero;for(var f=this.coefficients,E=f.length,p=h.coefficients,v=p.length,b=new Uint8ClampedArray(E+v-1),B=0;B<E;B++)for(var y=f[B],_=0;_<v;_++)b[B+_]=d.addOrSubtractGF(b[B+_],this.field.multiply(y,p[_]));return new g(this.field,b)},g.prototype.multiplyByMonomial=function(h,f){if(h<0)throw new Error("Invalid degree less than 0");if(f===0)return this.field.zero;for(var E=this.coefficients.length,p=new Uint8ClampedArray(E+h),v=0;v<E;v++)p[v]=this.field.multiply(this.coefficients[v],f);return new g(this.field,p)},g.prototype.evaluateAt=function(h){var f=0;if(h===0)return this.getCoefficient(0);var E=this.coefficients.length;if(h===1)return this.coefficients.forEach(function(v){f=d.addOrSubtractGF(f,v)}),f;f=this.coefficients[0];for(var p=1;p<E;p++)f=d.addOrSubtractGF(this.field.multiply(h,f),this.coefficients[p]);return f},g}();l.default=m},function(i,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(4),m=c(5),g=c(11),h=c(12);function f(v){var b=h.locate(v);if(!b)return null;for(var B=0,y=b;B<y.length;B++){var _=y[B],A=g.extract(v,_),Q=m.decode(A.matrix);if(Q)return{binaryData:Q.bytes,data:Q.text,chunks:Q.chunks,version:Q.version,location:{topRightCorner:A.mappingFunction(_.dimension,0),topLeftCorner:A.mappingFunction(0,0),bottomRightCorner:A.mappingFunction(_.dimension,_.dimension),bottomLeftCorner:A.mappingFunction(0,_.dimension),topRightFinderPattern:_.topRight,topLeftFinderPattern:_.topLeft,bottomLeftFinderPattern:_.bottomLeft,bottomRightAlignmentPattern:_.alignmentPattern}}}return null}var E={inversionAttempts:"attemptBoth"};function p(v,b,B,y){y===void 0&&(y={});var _=E;Object.keys(_||{}).forEach(function(T){_[T]=y[T]||_[T]});var A=_.inversionAttempts==="attemptBoth"||_.inversionAttempts==="invertFirst",Q=_.inversionAttempts==="onlyInvert"||_.inversionAttempts==="invertFirst",w=d.binarize(v,b,B,A),j=w.binarized,M=w.inverted,k=f(Q?M:j);return!k&&(_.inversionAttempts==="attemptBoth"||_.inversionAttempts==="invertFirst")&&(k=f(Q?j:M)),k}p.default=p,l.default=p},function(i,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(0),m=8,g=24;function h(p,v,b){return p<v?v:p>b?b:p}var f=function(){function p(v,b){this.width=v,this.data=new Uint8ClampedArray(v*b)}return p.prototype.get=function(v,b){return this.data[b*this.width+v]},p.prototype.set=function(v,b,B){this.data[b*this.width+v]=B},p}();function E(p,v,b,B){if(p.length!==v*b*4)throw new Error("Malformed data passed to binarizer.");for(var y=new f(v,b),_=0;_<v;_++)for(var A=0;A<b;A++){var Q=p[(A*v+_)*4+0],w=p[(A*v+_)*4+1],j=p[(A*v+_)*4+2];y.set(_,A,.2126*Q+.7152*w+.0722*j)}for(var M=Math.ceil(v/m),k=Math.ceil(b/m),T=new f(M,k),U=0;U<k;U++)for(var D=0;D<M;D++){for(var z=0,P=1/0,$=0,A=0;A<m;A++)for(var _=0;_<m;_++){var ae=y.get(D*m+_,U*m+A);z+=ae,P=Math.min(P,ae),$=Math.max($,ae)}var H=z/Math.pow(m,2);if($-P<=g&&(H=P/2,U>0&&D>0)){var se=(T.get(D,U-1)+2*T.get(D-1,U)+T.get(D-1,U-1))/4;P<se&&(H=se)}T.set(D,U,H)}var S=d.BitMatrix.createEmpty(v,b),q=null;B&&(q=d.BitMatrix.createEmpty(v,b));for(var U=0;U<k;U++)for(var D=0;D<M;D++){for(var ne=h(D,2,M-3),ie=h(U,2,k-3),z=0,R=-2;R<=2;R++)for(var O=-2;O<=2;O++)z+=T.get(ne+R,ie+O);for(var L=z/25,R=0;R<m;R++)for(var O=0;O<m;O++){var _=D*m+R,A=U*m+O,Z=y.get(_,A);S.set(_,A,Z<=L),B&&q.set(_,A,!(Z<=L))}}return B?{binarized:S,inverted:q}:{binarized:S}}l.binarize=E},function(i,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(0),m=c(6),g=c(9),h=c(10);function f(j,M){for(var k=j^M,T=0;k;)T++,k&=k-1;return T}function E(j,M){return M<<1|j}var p=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],v=[function(j){return(j.y+j.x)%2===0},function(j){return j.y%2===0},function(j){return j.x%3===0},function(j){return(j.y+j.x)%3===0},function(j){return(Math.floor(j.y/2)+Math.floor(j.x/3))%2===0},function(j){return j.x*j.y%2+j.x*j.y%3===0},function(j){return(j.y*j.x%2+j.y*j.x%3)%2===0},function(j){return((j.y+j.x)%2+j.y*j.x%3)%2===0}];function b(j){var M=17+4*j.versionNumber,k=d.BitMatrix.createEmpty(M,M);k.setRegion(0,0,9,9,!0),k.setRegion(M-8,0,8,9,!0),k.setRegion(0,M-8,9,8,!0);for(var T=0,U=j.alignmentPatternCenters;T<U.length;T++)for(var D=U[T],z=0,P=j.alignmentPatternCenters;z<P.length;z++){var $=P[z];D===6&&$===6||D===6&&$===M-7||D===M-7&&$===6||k.setRegion(D-2,$-2,5,5,!0)}return k.setRegion(6,9,1,M-17,!0),k.setRegion(9,6,M-17,1,!0),j.versionNumber>6&&(k.setRegion(M-11,0,3,6,!0),k.setRegion(0,M-11,6,3,!0)),k}function B(j,M,k){for(var T=v[k.dataMask],U=j.height,D=b(M),z=[],P=0,$=0,ae=!0,H=U-1;H>0;H-=2){H===6&&H--;for(var se=0;se<U;se++)for(var S=ae?U-1-se:se,q=0;q<2;q++){var ne=H-q;if(!D.get(ne,S)){$++;var ie=j.get(ne,S);T({y:S,x:ne})&&(ie=!ie),P=E(ie,P),$===8&&(z.push(P),$=0,P=0)}}ae=!ae}return z}function y(j){var M=j.height,k=Math.floor((M-17)/4);if(k<=6)return h.VERSIONS[k-1];for(var T=0,U=5;U>=0;U--)for(var D=M-9;D>=M-11;D--)T=E(j.get(D,U),T);for(var z=0,D=5;D>=0;D--)for(var U=M-9;U>=M-11;U--)z=E(j.get(D,U),z);for(var P=1/0,$,ae=0,H=h.VERSIONS;ae<H.length;ae++){var se=H[ae];if(se.infoBits===T||se.infoBits===z)return se;var S=f(T,se.infoBits);S<P&&($=se,P=S),S=f(z,se.infoBits),S<P&&($=se,P=S)}if(P<=3)return $}function _(j){for(var M=0,k=0;k<=8;k++)k!==6&&(M=E(j.get(k,8),M));for(var T=7;T>=0;T--)T!==6&&(M=E(j.get(8,T),M));for(var U=j.height,D=0,T=U-1;T>=U-7;T--)D=E(j.get(8,T),D);for(var k=U-8;k<U;k++)D=E(j.get(k,8),D);for(var z=1/0,P=null,$=0,ae=p;$<ae.length;$++){var H=ae[$],se=H.bits,S=H.formatInfo;if(se===M||se===D)return S;var q=f(M,se);q<z&&(P=S,z=q),M!==D&&(q=f(D,se),q<z&&(P=S,z=q))}return z<=3?P:null}function A(j,M,k){var T=M.errorCorrectionLevels[k],U=[],D=0;if(T.ecBlocks.forEach(function(ie){for(var R=0;R<ie.numBlocks;R++)U.push({numDataCodewords:ie.dataCodewordsPerBlock,codewords:[]}),D+=ie.dataCodewordsPerBlock+T.ecCodewordsPerBlock}),j.length<D)return null;j=j.slice(0,D);for(var z=T.ecBlocks[0].dataCodewordsPerBlock,P=0;P<z;P++)for(var $=0,ae=U;$<ae.length;$++){var H=ae[$];H.codewords.push(j.shift())}if(T.ecBlocks.length>1)for(var se=T.ecBlocks[0].numBlocks,S=T.ecBlocks[1].numBlocks,P=0;P<S;P++)U[se+P].codewords.push(j.shift());for(;j.length>0;)for(var q=0,ne=U;q<ne.length;q++){var H=ne[q];H.codewords.push(j.shift())}return U}function Q(j){var M=y(j);if(!M)return null;var k=_(j);if(!k)return null;var T=B(j,M,k),U=A(T,M,k.errorCorrectionLevel);if(!U)return null;for(var D=U.reduce(function(q,ne){return q+ne.numDataCodewords},0),z=new Uint8ClampedArray(D),P=0,$=0,ae=U;$<ae.length;$++){var H=ae[$],se=g.decode(H.codewords,H.codewords.length-H.numDataCodewords);if(!se)return null;for(var S=0;S<H.numDataCodewords;S++)z[P++]=se[S]}try{return m.decode(z,M.versionNumber)}catch{return null}}function w(j){if(j==null)return null;var M=Q(j);if(M)return M;for(var k=0;k<j.width;k++)for(var T=k+1;T<j.height;T++)j.get(k,T)!==j.get(T,k)&&(j.set(k,T,!j.get(k,T)),j.set(T,k,!j.get(T,k)));return Q(j)}l.decode=w},function(i,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(7),m=c(8),g;(function(y){y.Numeric="numeric",y.Alphanumeric="alphanumeric",y.Byte="byte",y.Kanji="kanji",y.ECI="eci"})(g=l.Mode||(l.Mode={}));var h;(function(y){y[y.Terminator=0]="Terminator",y[y.Numeric=1]="Numeric",y[y.Alphanumeric=2]="Alphanumeric",y[y.Byte=4]="Byte",y[y.Kanji=8]="Kanji",y[y.ECI=7]="ECI"})(h||(h={}));function f(y,_){for(var A=[],Q="",w=[10,12,14][_],j=y.readBits(w);j>=3;){var M=y.readBits(10);if(M>=1e3)throw new Error("Invalid numeric value above 999");var k=Math.floor(M/100),T=Math.floor(M/10)%10,U=M%10;A.push(48+k,48+T,48+U),Q+=k.toString()+T.toString()+U.toString(),j-=3}if(j===2){var M=y.readBits(7);if(M>=100)throw new Error("Invalid numeric value above 99");var k=Math.floor(M/10),T=M%10;A.push(48+k,48+T),Q+=k.toString()+T.toString()}else if(j===1){var M=y.readBits(4);if(M>=10)throw new Error("Invalid numeric value above 9");A.push(48+M),Q+=M.toString()}return{bytes:A,text:Q}}var E=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function p(y,_){for(var A=[],Q="",w=[9,11,13][_],j=y.readBits(w);j>=2;){var M=y.readBits(11),k=Math.floor(M/45),T=M%45;A.push(E[k].charCodeAt(0),E[T].charCodeAt(0)),Q+=E[k]+E[T],j-=2}if(j===1){var k=y.readBits(6);A.push(E[k].charCodeAt(0)),Q+=E[k]}return{bytes:A,text:Q}}function v(y,_){for(var A=[],Q="",w=[8,16,16][_],j=y.readBits(w),M=0;M<j;M++){var k=y.readBits(8);A.push(k)}try{Q+=decodeURIComponent(A.map(function(T){return"%"+("0"+T.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:A,text:Q}}function b(y,_){for(var A=[],Q="",w=[8,10,12][_],j=y.readBits(w),M=0;M<j;M++){var k=y.readBits(13),T=Math.floor(k/192)<<8|k%192;T<7936?T+=33088:T+=49472,A.push(T>>8,T&255),Q+=String.fromCharCode(m.shiftJISTable[T])}return{bytes:A,text:Q}}function B(y,_){for(var A,Q,w,j,M=new d.BitStream(y),k=_<=9?0:_<=26?1:2,T={text:"",bytes:[],chunks:[],version:_};M.available()>=4;){var U=M.readBits(4);if(U===h.Terminator)return T;if(U===h.ECI)M.readBits(1)===0?T.chunks.push({type:g.ECI,assignmentNumber:M.readBits(7)}):M.readBits(1)===0?T.chunks.push({type:g.ECI,assignmentNumber:M.readBits(14)}):M.readBits(1)===0?T.chunks.push({type:g.ECI,assignmentNumber:M.readBits(21)}):T.chunks.push({type:g.ECI,assignmentNumber:-1});else if(U===h.Numeric){var D=f(M,k);T.text+=D.text,(A=T.bytes).push.apply(A,D.bytes),T.chunks.push({type:g.Numeric,text:D.text})}else if(U===h.Alphanumeric){var z=p(M,k);T.text+=z.text,(Q=T.bytes).push.apply(Q,z.bytes),T.chunks.push({type:g.Alphanumeric,text:z.text})}else if(U===h.Byte){var P=v(M,k);T.text+=P.text,(w=T.bytes).push.apply(w,P.bytes),T.chunks.push({type:g.Byte,bytes:P.bytes,text:P.text})}else if(U===h.Kanji){var $=b(M,k);T.text+=$.text,(j=T.bytes).push.apply(j,$.bytes),T.chunks.push({type:g.Kanji,bytes:$.bytes,text:$.text})}}if(M.available()===0||M.readBits(M.available())===0)return T}l.decode=B},function(i,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function m(g){this.byteOffset=0,this.bitOffset=0,this.bytes=g}return m.prototype.readBits=function(g){if(g<1||g>32||g>this.available())throw new Error("Cannot read "+g.toString()+" bits");var h=0;if(this.bitOffset>0){var f=8-this.bitOffset,E=g<f?g:f,p=f-E,v=255>>8-E<<p;h=(this.bytes[this.byteOffset]&v)>>p,g-=E,this.bitOffset+=E,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(g>0){for(;g>=8;)h=h<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,g-=8;if(g>0){var p=8-g,v=255>>p<<p;h=h<<g|(this.bytes[this.byteOffset]&v)>>p,this.bitOffset+=g}}return h},m.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},m}();l.BitStream=d},function(i,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(i,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(1),m=c(2);function g(p,v,b,B){var y;v.degree()<b.degree()&&(y=[b,v],v=y[0],b=y[1]);for(var _=v,A=b,Q=p.zero,w=p.one;A.degree()>=B/2;){var j=_,M=Q;if(_=A,Q=w,_.isZero())return null;A=j;for(var k=p.zero,T=_.getCoefficient(_.degree()),U=p.inverse(T);A.degree()>=_.degree()&&!A.isZero();){var D=A.degree()-_.degree(),z=p.multiply(A.getCoefficient(A.degree()),U);k=k.addOrSubtract(p.buildMonomial(D,z)),A=A.addOrSubtract(_.multiplyByMonomial(D,z))}if(w=k.multiplyPoly(Q).addOrSubtract(M),A.degree()>=_.degree())return null}var P=w.getCoefficient(0);if(P===0)return null;var $=p.inverse(P);return[w.multiply($),A.multiply($)]}function h(p,v){var b=v.degree();if(b===1)return[v.getCoefficient(1)];for(var B=new Array(b),y=0,_=1;_<p.size&&y<b;_++)v.evaluateAt(_)===0&&(B[y]=p.inverse(_),y++);return y!==b?null:B}function f(p,v,b){for(var B=b.length,y=new Array(B),_=0;_<B;_++){for(var A=p.inverse(b[_]),Q=1,w=0;w<B;w++)_!==w&&(Q=p.multiply(Q,d.addOrSubtractGF(1,p.multiply(b[w],A))));y[_]=p.multiply(v.evaluateAt(A),p.inverse(Q)),p.generatorBase!==0&&(y[_]=p.multiply(y[_],A))}return y}function E(p,v){var b=new Uint8ClampedArray(p.length);b.set(p);for(var B=new d.default(285,256,0),y=new m.default(B,b),_=new Uint8ClampedArray(v),A=!1,Q=0;Q<v;Q++){var w=y.evaluateAt(B.exp(Q+B.generatorBase));_[_.length-1-Q]=w,w!==0&&(A=!0)}if(!A)return b;var j=new m.default(B,_),M=g(B,B.buildMonomial(v,1),j,v);if(M===null)return null;var k=h(B,M[0]);if(k==null)return null;for(var T=f(B,M[1],k),U=0;U<k.length;U++){var D=b.length-1-B.log(k[U]);if(D<0)return null;b[D]=d.addOrSubtractGF(b[D],T[U])}return b}l.decode=E},function(i,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(i,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(0);function m(E,p,v,b){var B=E.x-p.x+v.x-b.x,y=E.y-p.y+v.y-b.y;if(B===0&&y===0)return{a11:p.x-E.x,a12:p.y-E.y,a13:0,a21:v.x-p.x,a22:v.y-p.y,a23:0,a31:E.x,a32:E.y,a33:1};var _=p.x-v.x,A=b.x-v.x,Q=p.y-v.y,w=b.y-v.y,j=_*w-A*Q,M=(B*w-A*y)/j,k=(_*y-B*Q)/j;return{a11:p.x-E.x+M*p.x,a12:p.y-E.y+M*p.y,a13:M,a21:b.x-E.x+k*b.x,a22:b.y-E.y+k*b.y,a23:k,a31:E.x,a32:E.y,a33:1}}function g(E,p,v,b){var B=m(E,p,v,b);return{a11:B.a22*B.a33-B.a23*B.a32,a12:B.a13*B.a32-B.a12*B.a33,a13:B.a12*B.a23-B.a13*B.a22,a21:B.a23*B.a31-B.a21*B.a33,a22:B.a11*B.a33-B.a13*B.a31,a23:B.a13*B.a21-B.a11*B.a23,a31:B.a21*B.a32-B.a22*B.a31,a32:B.a12*B.a31-B.a11*B.a32,a33:B.a11*B.a22-B.a12*B.a21}}function h(E,p){return{a11:E.a11*p.a11+E.a21*p.a12+E.a31*p.a13,a12:E.a12*p.a11+E.a22*p.a12+E.a32*p.a13,a13:E.a13*p.a11+E.a23*p.a12+E.a33*p.a13,a21:E.a11*p.a21+E.a21*p.a22+E.a31*p.a23,a22:E.a12*p.a21+E.a22*p.a22+E.a32*p.a23,a23:E.a13*p.a21+E.a23*p.a22+E.a33*p.a23,a31:E.a11*p.a31+E.a21*p.a32+E.a31*p.a33,a32:E.a12*p.a31+E.a22*p.a32+E.a32*p.a33,a33:E.a13*p.a31+E.a23*p.a32+E.a33*p.a33}}function f(E,p){for(var v=g({x:3.5,y:3.5},{x:p.dimension-3.5,y:3.5},{x:p.dimension-6.5,y:p.dimension-6.5},{x:3.5,y:p.dimension-3.5}),b=m(p.topLeft,p.topRight,p.alignmentPattern,p.bottomLeft),B=h(b,v),y=d.BitMatrix.createEmpty(p.dimension,p.dimension),_=function(k,T){var U=B.a13*k+B.a23*T+B.a33;return{x:(B.a11*k+B.a21*T+B.a31)/U,y:(B.a12*k+B.a22*T+B.a32)/U}},A=0;A<p.dimension;A++)for(var Q=0;Q<p.dimension;Q++){var w=Q+.5,j=A+.5,M=_(w,j);y.set(Q,A,E.get(Math.floor(M.x),Math.floor(M.y)))}return{matrix:y,mappingFunction:_}}l.extract=f},function(i,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=4,m=.5,g=1.5,h=function(w,j){return Math.sqrt(Math.pow(j.x-w.x,2)+Math.pow(j.y-w.y,2))};function f(w){return w.reduce(function(j,M){return j+M})}function E(w,j,M){var k,T,U,D,z=h(w,j),P=h(j,M),$=h(w,M),ae,H,se;return P>=z&&P>=$?(k=[j,w,M],ae=k[0],H=k[1],se=k[2]):$>=P&&$>=z?(T=[w,j,M],ae=T[0],H=T[1],se=T[2]):(U=[w,M,j],ae=U[0],H=U[1],se=U[2]),(se.x-H.x)*(ae.y-H.y)-(se.y-H.y)*(ae.x-H.x)<0&&(D=[se,ae],ae=D[0],se=D[1]),{bottomLeft:ae,topLeft:H,topRight:se}}function p(w,j,M,k){var T=(f(b(w,M,k,5))/7+f(b(w,j,k,5))/7+f(b(M,w,k,5))/7+f(b(j,w,k,5))/7)/4;if(T<1)throw new Error("Invalid module size");var U=Math.round(h(w,j)/T),D=Math.round(h(w,M)/T),z=Math.floor((U+D)/2)+7;switch(z%4){case 0:z++;break;case 2:z--;break}return{dimension:z,moduleSize:T}}function v(w,j,M,k){var T=[{x:Math.floor(w.x),y:Math.floor(w.y)}],U=Math.abs(j.y-w.y)>Math.abs(j.x-w.x),D,z,P,$;U?(D=Math.floor(w.y),z=Math.floor(w.x),P=Math.floor(j.y),$=Math.floor(j.x)):(D=Math.floor(w.x),z=Math.floor(w.y),P=Math.floor(j.x),$=Math.floor(j.y));for(var ae=Math.abs(P-D),H=Math.abs($-z),se=Math.floor(-ae/2),S=D<P?1:-1,q=z<$?1:-1,ne=!0,ie=D,R=z;ie!==P+S;ie+=S){var O=U?R:ie,L=U?ie:R;if(M.get(O,L)!==ne&&(ne=!ne,T.push({x:O,y:L}),T.length===k+1))break;if(se+=H,se>0){if(R===$)break;R+=q,se-=ae}}for(var Z=[],G=0;G<k;G++)T[G]&&T[G+1]?Z.push(h(T[G],T[G+1])):Z.push(0);return Z}function b(w,j,M,k){var T,U=j.y-w.y,D=j.x-w.x,z=v(w,j,M,Math.ceil(k/2)),P=v(w,{x:w.x-D,y:w.y-U},M,Math.ceil(k/2)),$=z.shift()+P.shift()-1;return(T=P.concat($)).concat.apply(T,z)}function B(w,j){var M=f(w)/f(j),k=0;return j.forEach(function(T,U){k+=Math.pow(w[U]-T*M,2)}),{averageSize:M,error:k}}function y(w,j,M){try{var k=b(w,{x:-1,y:w.y},M,j.length),T=b(w,{x:w.x,y:-1},M,j.length),U={x:Math.max(0,w.x-w.y)-1,y:Math.max(0,w.y-w.x)-1},D=b(w,U,M,j.length),z={x:Math.min(M.width,w.x+w.y)+1,y:Math.min(M.height,w.y+w.x)+1},P=b(w,z,M,j.length),$=B(k,j),ae=B(T,j),H=B(D,j),se=B(P,j),S=Math.sqrt($.error*$.error+ae.error*ae.error+H.error*H.error+se.error*se.error),q=($.averageSize+ae.averageSize+H.averageSize+se.averageSize)/4,ne=(Math.pow($.averageSize-q,2)+Math.pow(ae.averageSize-q,2)+Math.pow(H.averageSize-q,2)+Math.pow(se.averageSize-q,2))/q;return S+ne}catch{return 1/0}}function _(w,j){for(var M=Math.round(j.x);w.get(M,Math.round(j.y));)M--;for(var k=Math.round(j.x);w.get(k,Math.round(j.y));)k++;for(var T=(M+k)/2,U=Math.round(j.y);w.get(Math.round(T),U);)U--;for(var D=Math.round(j.y);w.get(Math.round(T),D);)D++;var z=(U+D)/2;return{x:T,y:z}}function A(w){for(var j=[],M=[],k=[],T=[],U=function(O){for(var L=0,Z=!1,G=[0,0,0,0,0],de=function(Ee){var be=w.get(Ee,O);if(be===Z)L++;else{G=[G[1],G[2],G[3],G[4],L],L=1,Z=be;var _e=f(G)/7,Rt=Math.abs(G[0]-_e)<_e&&Math.abs(G[1]-_e)<_e&&Math.abs(G[2]-3*_e)<3*_e&&Math.abs(G[3]-_e)<_e&&Math.abs(G[4]-_e)<_e&&!be,Dt=f(G.slice(-3))/3,_s=Math.abs(G[2]-Dt)<Dt&&Math.abs(G[3]-Dt)<Dt&&Math.abs(G[4]-Dt)<Dt&&be;if(Rt){var Wt=Ee-G[3]-G[4],Vt=Wt-G[2],Bt={startX:Vt,endX:Wt,y:O},re=M.filter(function(me){return Vt>=me.bottom.startX&&Vt<=me.bottom.endX||Wt>=me.bottom.startX&&Vt<=me.bottom.endX||Vt<=me.bottom.startX&&Wt>=me.bottom.endX&&G[2]/(me.bottom.endX-me.bottom.startX)<g&&G[2]/(me.bottom.endX-me.bottom.startX)>m});re.length>0?re[0].bottom=Bt:M.push({top:Bt,bottom:Bt})}if(_s){var Fe=Ee-G[4],J=Fe-G[3],Bt={startX:J,y:O,endX:Fe},re=T.filter(function(fe){return J>=fe.bottom.startX&&J<=fe.bottom.endX||Fe>=fe.bottom.startX&&J<=fe.bottom.endX||J<=fe.bottom.startX&&Fe>=fe.bottom.endX&&G[2]/(fe.bottom.endX-fe.bottom.startX)<g&&G[2]/(fe.bottom.endX-fe.bottom.startX)>m});re.length>0?re[0].bottom=Bt:T.push({top:Bt,bottom:Bt})}}},ce=-1;ce<=w.width;ce++)de(ce);j.push.apply(j,M.filter(function(Ee){return Ee.bottom.y!==O&&Ee.bottom.y-Ee.top.y>=2})),M=M.filter(function(Ee){return Ee.bottom.y===O}),k.push.apply(k,T.filter(function(Ee){return Ee.bottom.y!==O})),T=T.filter(function(Ee){return Ee.bottom.y===O})},D=0;D<=w.height;D++)U(D);j.push.apply(j,M.filter(function(O){return O.bottom.y-O.top.y>=2})),k.push.apply(k,T);var z=j.filter(function(O){return O.bottom.y-O.top.y>=2}).map(function(O){var L=(O.top.startX+O.top.endX+O.bottom.startX+O.bottom.endX)/4,Z=(O.top.y+O.bottom.y+1)/2;if(w.get(Math.round(L),Math.round(Z))){var G=[O.top.endX-O.top.startX,O.bottom.endX-O.bottom.startX,O.bottom.y-O.top.y+1],de=f(G)/G.length,ce=y({x:Math.round(L),y:Math.round(Z)},[1,1,3,1,1],w);return{score:ce,x:L,y:Z,size:de}}}).filter(function(O){return!!O}).sort(function(O,L){return O.score-L.score}).map(function(O,L,Z){if(L>d)return null;var G=Z.filter(function(ce,Ee){return L!==Ee}).map(function(ce){return{x:ce.x,y:ce.y,score:ce.score+Math.pow(ce.size-O.size,2)/O.size,size:ce.size}}).sort(function(ce,Ee){return ce.score-Ee.score});if(G.length<2)return null;var de=O.score+G[0].score+G[1].score;return{points:[O].concat(G.slice(0,2)),score:de}}).filter(function(O){return!!O}).sort(function(O,L){return O.score-L.score});if(z.length===0)return null;var P=E(z[0].points[0],z[0].points[1],z[0].points[2]),$=P.topRight,ae=P.topLeft,H=P.bottomLeft,se=Q(w,k,$,ae,H),S=[];se&&S.push({alignmentPattern:{x:se.alignmentPattern.x,y:se.alignmentPattern.y},bottomLeft:{x:H.x,y:H.y},dimension:se.dimension,topLeft:{x:ae.x,y:ae.y},topRight:{x:$.x,y:$.y}});var q=_(w,$),ne=_(w,ae),ie=_(w,H),R=Q(w,k,q,ne,ie);return R&&S.push({alignmentPattern:{x:R.alignmentPattern.x,y:R.alignmentPattern.y},bottomLeft:{x:ie.x,y:ie.y},topLeft:{x:ne.x,y:ne.y},topRight:{x:q.x,y:q.y},dimension:R.dimension}),S.length===0?null:S}l.locate=A;function Q(w,j,M,k,T){var U,D,z;try{U=p(k,M,T,w),D=U.dimension,z=U.moduleSize}catch{return null}var P={x:M.x-k.x+T.x,y:M.y-k.y+T.y},$=(h(k,T)+h(k,M))/2/z,ae=1-3/$,H={x:k.x+ae*(P.x-k.x),y:k.y+ae*(P.y-k.y)},se=j.map(function(q){var ne=(q.top.startX+q.top.endX+q.bottom.startX+q.bottom.endX)/4,ie=(q.top.y+q.bottom.y+1)/2;if(w.get(Math.floor(ne),Math.floor(ie))){var R=[q.top.endX-q.top.startX,q.bottom.endX-q.bottom.startX,q.bottom.y-q.top.y+1];f(R)/R.length;var O=y({x:Math.floor(ne),y:Math.floor(ie)},[1,1,1],w),L=O+h({x:ne,y:ie},H);return{x:ne,y:ie,score:L}}}).filter(function(q){return!!q}).sort(function(q,ne){return q.score-ne.score}),S=$>=15&&se.length?se[0]:H;return{alignmentPattern:S,dimension:D}}}]).default})}(Oo)),Oo.exports}var DE=NE();const kE=Zx(DE),SE=({onBack:o})=>{const{user:n,isAuthenticated:i}=Mt(),[l,c]=F.useState(null),[d,m]=F.useState(!1),[g,h]=F.useState(!1),[f,E]=F.useState(!1),[p,v]=F.useState(""),[b,B]=F.useState("code"),[y,_]=F.useState(!1),[A,Q]=F.useState(null),[w,j]=F.useState(null),[M,k]=F.useState(null),[T,U]=F.useState(!1),[D,z]=F.useState(null),P=F.useRef(null),$=F.useRef(null),ae=F.useRef(null),H=n?.id?we(ue.services.vouchers.getVouchersByUser,{userId:n.id}):void 0,se=n?.id?we(ue.services.vouchers.debugUserVouchers,{userId:n.id}):void 0,S=H===void 0&&n?.id,q=null,ne=Ne(ue.services.vouchers.claimVoucher),ie=J=>{switch(J){case"available":return e.jsx(ze,{className:"w-5 h-5 text-green-500"});case"redeemed":return e.jsx(Xe,{className:"w-5 h-5 text-blue-500"});case"expired":return e.jsx(tt,{className:"w-5 h-5 text-red-500"});default:return e.jsx(Ct,{className:"w-5 h-5 text-gray-500"})}},R=J=>{switch(J){case"available":return"bg-green-50 text-green-700 border-green-200";case"redeemed":return"bg-blue-50 text-blue-700 border-blue-200";case"expired":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},O=J=>{switch(J){case"cash":return"";case"percentage":return"";case"discount":return"";default:return""}},L=J=>`${parseFloat(J.value).toFixed(2)}`,Z=J=>J.isExpired?"expired":J.status==="assigned"?"available":J.status==="redeemed"?"redeemed":J.status||"unknown",G=J=>{const me=new Date,Pe=new Date(J),fe=Math.ceil((Pe-me)/(1e3*60*60*24));return fe<=7&&fe>0},de=J=>{if(!J)return"No expiry";const me=new Date(J),fe=Math.ceil((me-new Date)/(1e3*60*60*24));return fe<0?"Expired":fe===0?"Expires today":fe===1?"Expires tomorrow":fe<=7?`Expires in ${fe} days`:me.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},ce=H?H.filter(J=>J.status==="assigned"&&!J.isExpired):[],Ee=H?H.filter(J=>J.status==="redeemed"):[],be=H?H.filter(J=>J.isExpired):[];console.log("=== VoucherManagement Debug ==="),console.log("User ID:",n?.id,typeof n?.id),console.log("Raw vouchers from API:",H),console.log("Vouchers count:",H?.length||0),console.log("Categorized vouchers:",{available:ce.length,redeemed:Ee.length,expired:be.length}),console.log("Debug data from API:",se),H&&H.length>0&&console.log("First voucher structure:",H[0]);const _e=async(J,me=null)=>{try{h(!0);const fe=(await ne({code:J,user_id:n.id})).voucher.value||me||"Unknown";z({type:"success",title:" Voucher Claimed Successfully!",message:`Code: ${J}
Value: ${parseFloat(fe).toLocaleString()}
You can now use this voucher at the barbershop.`}),m(!1),c(null),E(!1),v("")}catch(Pe){let fe=Pe.message;fe.includes("expired")?fe=" This voucher has expired":fe.includes("already")||fe.includes("assigned")?fe=" This voucher has already been claimed":fe.includes("Invalid")||fe.includes("not found")?fe=" Invalid voucher code. Please check and try again.":fe.includes("maximum")||fe.includes("limit")?fe=" This voucher has reached its usage limit":fe=fe||"Failed to claim voucher. Please try again.",z({type:"error",title:"Claim Failed",message:fe})}finally{h(!1)}},Rt=async()=>{if(!p.trim()){z({type:"warning",title:"Missing Code",message:"Please enter a voucher code"});return}try{U(!0),k(null),j(null),await _e(p.trim())}catch(J){console.error("Error validating voucher:",J),k("Failed to validate voucher. Please try again."),j(null)}finally{U(!1)}},Dt=async()=>{if(w)try{await _e(w.code,w.value),v(""),j(null),k(null),E(!1)}catch{}},_s=async J=>{const me=J.target.files[0];if(me){try{const Pe=new Image,fe=document.createElement("canvas"),dt=fe.getContext("2d");Pe.onload=async()=>{fe.width=Pe.width,fe.height=Pe.height,dt.drawImage(Pe,0,0);try{const Ms=dt.getImageData(0,0,fe.width,fe.height),ut=await re(Ms);ut?(await _e(ut),E(!1)):z({type:"warning",title:"QR Code Not Found",message:"No QR code found in the image. Please try again."})}catch(Ms){console.error("Error decoding QR code:",Ms),z({type:"error",title:"QR Code Error",message:"Failed to decode QR code from image."})}};const bs=new FileReader;bs.onload=Ms=>{Pe.src=Ms.target.result},bs.readAsDataURL(me)}catch(Pe){console.error("Error processing uploaded file:",Pe),z({type:"error",title:"Upload Error",message:"Failed to process uploaded file."})}P.current&&(P.current.value="")}},Wt=async()=>{try{Q(null),_(!0);let J;try{J=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280,min:640},height:{ideal:720,min:480}}})}catch(me){console.log("Back camera not available, trying front camera:",me),J=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280,min:640},height:{ideal:720,min:480}}})}$.current&&J&&($.current.srcObject=J,$.current.onloadedmetadata=()=>{console.log("Video metadata loaded, dimensions:",$.current.videoWidth,"x",$.current.videoHeight),$.current.play().then(()=>{console.log("Video started successfully"),setTimeout(()=>{Vt()},500)}).catch(me=>{console.error("Error playing video:",me),Q("Failed to start camera preview."),_(!1)})},$.current.oncanplay=()=>{console.log("Video can start playing")},$.current.onplaying=()=>{console.log("Video is playing")},$.current.onerror=me=>{console.error("Video error:",me),Q("Camera error occurred."),_(!1)})}catch(J){console.error("Error starting camera:",J);let me="Failed to access camera.";J.name==="NotAllowedError"?me="Camera permission denied. Please allow camera access and try again.":J.name==="NotFoundError"?me="No camera found on this device.":J.name==="NotReadableError"&&(me="Camera is already in use by another application."),Q(me),_(!1)}},Vt=()=>{const J=setInterval(async()=>{if($.current&&ae.current&&y&&$.current.readyState===4){const me=ae.current,Pe=$.current,fe=me.getContext("2d");if(Pe.videoWidth>0&&Pe.videoHeight>0){me.width=Pe.videoWidth,me.height=Pe.videoHeight,fe.drawImage(Pe,0,0,me.width,me.height);try{const dt=fe.getImageData(0,0,me.width,me.height),bs=await re(dt);bs&&(clearInterval(J),Bt(),await _e(bs),E(!1))}catch{}}}else y||clearInterval(J)},500);setTimeout(()=>{clearInterval(J),y&&(Bt(),Q("Scanning timeout. Please try again."))},3e4)},Bt=()=>{_(!1),$.current&&$.current.srcObject&&($.current.srcObject.getTracks().forEach(me=>me.stop()),$.current.srcObject=null)},re=async J=>{try{const me=kE(J.data,J.width,J.height);if(me){let Pe=null;try{const fe=JSON.parse(me.data);Pe=fe.code||fe.voucherCode||fe.voucher_code}catch{Pe=me.data}return Pe}return null}catch(me){return console.error("Error decoding QR:",me),null}},Fe=({notification:J,onClose:me})=>{if(!J)return null;const fe=(dt=>{switch(dt){case"success":return{bg:"#F0FDF4",border:"#22C55E",icon:"",iconBg:"#22C55E"};case"error":return{bg:"#FEF2F2",border:"#EF4444",icon:"",iconBg:"#EF4444"};case"warning":return{bg:"#FFFBEB",border:"#F59E0B",icon:"",iconBg:"#F59E0B"};default:return{bg:"#F4F0E6",border:"#F68B24",icon:"",iconBg:"#F68B24"}}})(J.type);return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl border-2",style:{backgroundColor:fe.bg,borderColor:fe.border},children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto",style:{backgroundColor:fe.iconBg},children:e.jsx("span",{className:"text-2xl",children:fe.icon})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black mb-2",style:{color:"#36454F"},children:J.title}),e.jsx("p",{className:"text-sm whitespace-pre-line",style:{color:"#8B8B8B"},children:J.message})]}),e.jsx("button",{onClick:me,className:"w-full py-3 text-white font-bold rounded-xl transition-all duration-200",style:{backgroundColor:"#F68B24"},onMouseEnter:dt=>dt.target.style.backgroundColor="#E67E22",onMouseLeave:dt=>dt.target.style.backgroundColor="#F68B24",children:"OK"})]})})})};return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsx("div",{className:"sticky top-0 z-40 shadow-lg",style:{backgroundColor:"#36454F"},children:e.jsx("div",{className:"max-w-md mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between py-2.5",children:[e.jsxs("button",{onClick:o,className:"flex items-center space-x-1.5 px-2.5 py-1.5 text-white font-semibold rounded-lg transition-all duration-200 touch-manipulation",onMouseEnter:J=>J.target.style.color="#F68B24",onMouseLeave:J=>J.target.style.color="white",children:[e.jsx(ul,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Back"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-base font-bold text-white",children:"My Vouchers"}),e.jsxs("p",{className:"text-[10px]",style:{color:"#F68B24"},children:[ce.length+Ee.length," total"]})]})]})})}),e.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mx-auto mb-2 shadow-lg",style:{backgroundColor:"#F68B24"},children:e.jsx(Xe,{className:"w-5 h-5 text-white"})}),e.jsx("h1",{className:"text-lg font-black mb-1",style:{color:"#36454F"},children:"Your Vouchers"}),e.jsx("p",{className:"text-xs font-medium mb-3",style:{color:"#8B8B8B"},children:"View and manage your vouchers"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsxs("button",{onClick:()=>E(!0),className:"flex-1 py-2.5 text-white font-bold rounded-lg transition-all duration-200 shadow-lg flex items-center justify-center space-x-1 touch-manipulation",style:{backgroundColor:"#F68B24"},onMouseEnter:J=>J.target.style.backgroundColor="#E67E22",onMouseLeave:J=>J.target.style.backgroundColor="#F68B24",children:[e.jsx(Jt,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"text-xs",children:"Claim New"})]}),e.jsx("button",{onClick:()=>window.location.reload(),disabled:S,className:"px-3 py-2.5 bg-gray-600 text-white font-bold rounded-lg transition-all duration-200 hover:bg-gray-700 shadow-lg flex items-center justify-center disabled:opacity-50 touch-manipulation",children:e.jsx(_t,{className:`w-3.5 h-3.5 ${S?"animate-spin":""}`})})]})]}),S&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#F68B24",opacity:.1},children:e.jsx(Xe,{className:"w-8 h-8",style:{color:"#F68B24"}})}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Loading vouchers..."})]}),q,!S&&!q&&ce.length>0&&e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("h2",{className:"text-base font-black flex items-center px-2",style:{color:"#36454F"},children:[e.jsx(ze,{className:"w-3.5 h-3.5 text-green-500 mr-2"}),"Available Vouchers (",ce.length,")"]}),e.jsx("div",{className:"space-y-2",children:ce.map(J=>e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm touch-manipulation",style:{border:"1px solid #E0E0E0"},children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[e.jsx("div",{className:"text-lg flex-shrink-0",children:O(J.type)}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-sm font-black truncate",style:{color:"#36454F"},children:J.code}),e.jsx("p",{className:"text-xs truncate",style:{color:"#8B8B8B"},children:J.description||"Discount voucher"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[ie(Z(J)),e.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold border ${R(Z(J))}`,children:Z(J).toUpperCase()})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px]",style:{color:"#8B8B8B"},children:"Value"}),e.jsx("p",{className:"text-xs font-bold text-green-600 truncate",children:L(J)})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ze,{className:"w-2 h-2 text-green-500 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px]",style:{color:"#8B8B8B"},children:"Claimed"}),e.jsx("p",{className:"text-xs font-bold truncate",style:{color:"#36454F"},children:J.assigned_at?new Date(J.assigned_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"N/A"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${J.isExpired||G(J.expires_at)?"bg-red-500":"bg-blue-500"}`}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px]",style:{color:"#8B8B8B"},children:"Expires"}),e.jsx("p",{className:`text-xs font-bold truncate ${J.isExpired||G(J.expires_at)?"text-red-600":"text-blue-600"}`,children:de(J.expires_at)})]})]})]}),e.jsxs("button",{onClick:me=>{me.stopPropagation(),c(J),m(!0)},className:"w-full py-2 text-white font-bold rounded-lg transition-all duration-200 flex items-center justify-center space-x-1 touch-manipulation",style:{backgroundColor:"#22C55E"},onMouseEnter:me=>me.target.style.backgroundColor="#16A34A",onMouseLeave:me=>me.target.style.backgroundColor="#22C55E",children:[e.jsx(ot,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"text-xs",children:"QR Code"})]})]},J._id))})]}),!S&&!q&&Ee.length>0&&e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("h2",{className:"text-base font-black flex items-center px-2",style:{color:"#36454F"},children:[e.jsx(Xe,{className:"w-3.5 h-3.5 text-blue-500 mr-2"}),"Redeemed Vouchers (",Ee.length,")"]}),e.jsx("div",{className:"space-y-2",children:Ee.map(J=>e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm opacity-75 touch-manipulation",style:{border:"1px solid #E0E0E0"},children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[e.jsx("div",{className:"text-lg opacity-50 flex-shrink-0",children:O(J.type)}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-sm font-black truncate",style:{color:"#36454F"},children:J.code}),e.jsx("p",{className:"text-xs truncate",style:{color:"#8B8B8B"},children:J.description||"Discount voucher"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[ie(Z(J)),e.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold border ${R(Z(J))}`,children:"REDEEMED"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px]",style:{color:"#8B8B8B"},children:"Value"}),e.jsx("p",{className:"text-xs font-bold text-blue-600 truncate",children:L(J)})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ze,{className:"w-2 h-2 text-blue-500 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px]",style:{color:"#8B8B8B"},children:"Redeemed"}),e.jsx("p",{className:"text-xs font-bold truncate",style:{color:"#36454F"},children:J.assigned_at?new Date(J.assigned_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"N/A"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${J.isExpired||G(J.expires_at)?"bg-red-500":"bg-blue-500"}`}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px]",style:{color:"#8B8B8B"},children:"Expired"}),e.jsx("p",{className:`text-xs font-bold truncate ${J.isExpired||G(J.expires_at)?"text-red-600":"text-blue-600"}`,children:de(J.expires_at)})]})]})]}),e.jsx("div",{className:"text-center py-1.5 text-gray-500 text-xs",children:"This voucher has been redeemed"})]},J._id))})]}),!S&&!q&&be.length>0&&e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("h2",{className:"text-base font-black flex items-center px-2",style:{color:"#36454F"},children:[e.jsx(tt,{className:"w-3.5 h-3.5 text-red-500 mr-2"}),"Expired Vouchers (",be.length,")"]}),e.jsx("div",{className:"space-y-2",children:be.map(J=>e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm opacity-50 touch-manipulation",style:{border:"1px solid #E0E0E0"},children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[e.jsx("div",{className:"text-lg opacity-50 flex-shrink-0",children:O(J.type)}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-sm font-black truncate",style:{color:"#36454F"},children:J.code}),e.jsx("p",{className:"text-xs truncate",style:{color:"#8B8B8B"},children:J.description||"Discount voucher"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[ie(Z(J)),e.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold border ${R(Z(J))}`,children:Z(J).toUpperCase()})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px]",style:{color:"#8B8B8B"},children:"Value"}),e.jsx("p",{className:"text-xs font-bold text-red-600 truncate",children:L(J)})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(tt,{className:"w-2 h-2 text-red-500 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px]",style:{color:"#8B8B8B"},children:"Expired"}),e.jsx("p",{className:"text-xs font-bold truncate",style:{color:"#36454F"},children:J.expires_at?new Date(J.expires_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"N/A"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px]",style:{color:"#8B8B8B"},children:"Status"}),e.jsx("p",{className:"text-xs font-bold text-gray-600 truncate",children:"Expired"})]})]})]}),e.jsx("div",{className:"text-center py-1.5 text-red-500 text-xs",children:"This voucher has expired"})]},J._id))})]}),!S&&!q&&ce.length===0&&Ee.length===0&&be.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3",style:{backgroundColor:"#F68B24",opacity:.1},children:e.jsx(sp,{className:"w-6 h-6",style:{color:"#F68B24"}})}),e.jsx("h3",{className:"text-base font-black mb-2",style:{color:"#36454F"},children:"No Vouchers Yet"}),e.jsx("p",{className:"text-xs max-w-md mx-auto mb-3",style:{color:"#8B8B8B"},children:'Your vouchers will appear here. Click "Claim New" above to get started.'})]})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl",style:{backgroundColor:"#F4F0E6"},children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto",style:{backgroundColor:"#F68B24"},children:e.jsx(Xe,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black mb-2",style:{color:"#36454F"},children:"Claim Voucher"}),e.jsx("p",{className:"font-medium",style:{color:"#8B8B8B"},children:"Enter your voucher code to claim"})]}),e.jsx("div",{className:"rounded-xl p-1",style:{backgroundColor:"#E0E0E0"},children:e.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[e.jsxs("button",{onClick:()=>B("code"),className:"py-2 px-3 rounded-lg text-sm font-semibold transition-all duration-200 flex items-center justify-center space-x-1",style:{backgroundColor:b==="code"?"#F68B24":"transparent",color:b==="code"?"white":"#8B8B8B"},children:[e.jsx(B5,{className:"w-4 h-4"}),e.jsx("span",{children:"Code"})]}),e.jsxs("button",{onClick:()=>B("scan"),className:"py-2 px-3 rounded-lg text-sm font-semibold transition-all duration-200 flex items-center justify-center space-x-1",style:{backgroundColor:b==="scan"?"#F68B24":"transparent",color:b==="scan"?"white":"#8B8B8B"},children:[e.jsx(xl,{className:"w-4 h-4"}),e.jsx("span",{children:"Scan"})]}),e.jsxs("button",{onClick:()=>B("upload"),className:"py-2 px-3 rounded-lg text-sm font-semibold transition-all duration-200 flex items-center justify-center space-x-1",style:{backgroundColor:b==="upload"?"#F68B24":"transparent",color:b==="upload"?"white":"#8B8B8B"},children:[e.jsx(Rh,{className:"w-4 h-4"}),e.jsx("span",{children:"Upload"})]})]})}),b==="code"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"text",value:p,onChange:J=>{v(J.target.value.toUpperCase()),j(null),k(null)},placeholder:"Enter voucher code",className:"w-full p-4 border-2 rounded-xl text-center font-mono text-lg tracking-widest focus:outline-none",style:{borderColor:"#E0E0E0",backgroundColor:"white",color:"#36454F"},onFocus:J=>J.target.style.borderColor="#F68B24",onBlur:J=>J.target.style.borderColor="#E0E0E0",maxLength:12})}),!w&&e.jsx("button",{onClick:Rt,disabled:T||!p.trim(),className:"w-full py-4 text-white font-bold rounded-2xl hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"#36454F"},onMouseEnter:J=>!J.target.disabled&&(J.target.style.backgroundColor="#2D3748"),onMouseLeave:J=>!J.target.disabled&&(J.target.style.backgroundColor="#36454F"),children:T?"Validating...":"Validate Voucher"}),M&&e.jsx("div",{className:"border rounded-xl p-4",style:{backgroundColor:"#FEF2F2",borderColor:"#F87171"},children:e.jsx("p",{className:"text-sm text-center",style:{color:"#DC2626"},children:M})}),w&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border rounded-xl p-4",style:{backgroundColor:"#F4F0E6",borderColor:"#F68B24"},children:e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mx-auto",style:{backgroundColor:"#F68B24"},children:e.jsx(Xe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-black",style:{color:"#36454F"},children:w.code}),e.jsx("p",{className:"text-2xl font-black",style:{color:"#F68B24"},children:voucherService.formatVoucherValue(w.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{style:{color:"#8B8B8B"},children:"Points Required"}),e.jsx("p",{className:"font-bold",style:{color:"#36454F"},children:w.points_required})]}),e.jsxs("div",{children:[e.jsx("p",{style:{color:"#8B8B8B"},children:"Expires"}),e.jsx("p",{className:"font-bold",style:{color:"#36454F"},children:voucherService.formatVoucherExpiry(w.expires_at)})]})]}),e.jsx("div",{className:"text-xs",style:{color:"#8B8B8B"},children:e.jsxs("p",{children:["Uses: ",w.used_count,"/",w.max_uses]})})]})}),e.jsx("button",{onClick:Dt,disabled:g,className:"w-full py-4 text-white font-bold rounded-2xl hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"#F68B24"},onMouseEnter:J=>!J.target.disabled&&(J.target.style.backgroundColor="#E67E22"),onMouseLeave:J=>!J.target.disabled&&(J.target.style.backgroundColor="#F68B24"),children:g?"Claiming...":"Claim This Voucher"}),e.jsx("button",{onClick:()=>{j(null),k(null),v("")},className:"w-full py-2 text-gray-600 font-medium rounded-xl hover:bg-gray-100 transition-all duration-200",children:"Enter Different Code"})]})]}),b==="scan"&&e.jsx("div",{className:"space-y-4",children:y?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative bg-gray-900 rounded-xl overflow-hidden border-2",style:{borderColor:"#F68B24"},children:[e.jsx("video",{ref:$,className:"w-full h-64 object-cover bg-transparent",autoPlay:!0,playsInline:!0,muted:!0,style:{transform:"scaleX(-1)",backgroundColor:"transparent"}}),e.jsx("canvas",{ref:ae,className:"hidden"}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-48 border-2 border-white border-dashed rounded-lg"}),e.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-48",children:[e.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-l-4 border-t-4 border-green-400"}),e.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-r-4 border-t-4 border-green-400"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-l-4 border-b-4 border-green-400"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-r-4 border-b-4 border-green-400"})]})]}),e.jsx("button",{onClick:Bt,className:"absolute top-4 right-4 w-10 h-10 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-colors",children:e.jsx(hl,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"border rounded-xl p-4",style:{backgroundColor:"#F4F0E6",borderColor:"#F68B24"},children:e.jsx("p",{className:"text-sm text-center",style:{color:"#36454F"},children:" Position the QR code within the frame above"})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-xl p-6",style:{backgroundColor:"#F4F0E6",borderColor:"#F68B24"},children:[e.jsx(xl,{className:"w-12 h-12 mx-auto mb-3",style:{color:"#F68B24"}}),e.jsx("p",{className:"text-sm mb-3",style:{color:"#36454F"},children:"Position the QR code within the camera frame to scan"}),e.jsx("button",{onClick:Wt,className:"w-full py-3 text-white font-semibold rounded-lg transition-colors",style:{backgroundColor:"#F68B24"},onMouseEnter:J=>J.target.style.backgroundColor="#E67E22",onMouseLeave:J=>J.target.style.backgroundColor="#F68B24",children:"Start Camera"})]}),A&&e.jsxs("div",{className:"border rounded-xl p-4",style:{backgroundColor:"#FEF2F2",borderColor:"#F87171"},children:[e.jsx("p",{className:"text-sm",style:{color:"#DC2626"},children:A}),e.jsx("button",{onClick:()=>Q(null),className:"mt-2 px-3 py-1 rounded text-xs transition-colors",style:{backgroundColor:"#FEE2E2",color:"#DC2626"},onMouseEnter:J=>J.target.style.backgroundColor="#FECACA",onMouseLeave:J=>J.target.style.backgroundColor="#FEE2E2",children:"Dismiss"})]})]})}),b==="upload"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{onClick:()=>P.current?.click(),className:"border-2 border-dashed border-gray-300 rounded-xl p-8 hover:border-orange-400 hover:bg-orange-50 transition-all duration-200 cursor-pointer text-center",children:[e.jsx(Rh,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 text-sm mb-2 font-medium",children:"Upload QR Code Image"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Supports JPG, PNG, WebP formats"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("p",{className:"text-blue-700 text-xs",children:[" ",e.jsx("strong",{children:"Tip:"})," Make sure the QR code is clear and well-lit for best results"]})}),e.jsx("input",{ref:P,type:"file",accept:"image/*,.jpg,.jpeg,.png,.webp",onChange:_s,className:"hidden"})]}),e.jsx("button",{onClick:()=>{y&&Bt(),E(!1),v(""),B("code"),Q(null),j(null),k(null)},className:"w-full py-4 text-white font-bold rounded-2xl transition-all duration-200",style:{backgroundColor:"#36454F"},onMouseEnter:J=>J.target.style.backgroundColor="#2D3748",onMouseLeave:J=>J.target.style.backgroundColor="#36454F",children:"Close"})]})})}),d&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full shadow-2xl",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-orange to-primary-orange-light rounded-full flex items-center justify-center mx-auto",children:e.jsx(ot,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-primary-black mb-2",children:"Voucher QR Code"}),e.jsx("p",{className:"text-gray-dark font-medium",children:"Show this QR code to staff"})]}),e.jsx("div",{className:"bg-gray-light p-6 rounded-2xl",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(_E,{voucher:l})})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-xl font-black text-primary-black mb-1",children:l.code}),e.jsx("p",{className:"text-2xl font-black text-green-600 mb-1",children:L(l)}),e.jsx("p",{className:"text-sm text-gray-dark font-medium",children:l.description})]})}),e.jsx("div",{className:"space-y-3",children:e.jsx("button",{onClick:()=>m(!1),className:"w-full py-4 bg-gradient-to-r from-gray-500 to-gray-600 text-white font-bold rounded-2xl hover:shadow-xl transition-all duration-200",children:"Close"})})]})})}),e.jsx(Fe,{notification:D,onClose:()=>z(null)})]})},_E=({voucher:o})=>{const{user:n}=Mt(),i=F.useRef(null),l=()=>{const d=localStorage.getItem("username");return d||n?.username||"N/A"},c=JSON.stringify({voucherId:o._id,code:o.code,username:l(),value:o.value,expiresAt:o.expires_at,barbershop:"TipunoX Angeles Barbershop"});return F.useEffect(()=>{i.current&&St.toCanvas(i.current,c,{width:192,margin:2,color:{dark:"#000000",light:"#ffffff"},errorCorrectionLevel:"H"},d=>{d&&console.error("QR Code generation error:",d)})},[c]),e.jsx("canvas",{ref:i,className:"rounded-xl"})},ME=({onBack:o})=>{const[n]=F.useState(1250),[i]=F.useState(3480),[l]=F.useState("Gold"),[c]=F.useState("Platinum"),[d]=F.useState(250),m=[{id:1,date:"2024-01-15",description:"Premium Haircut",points:175,type:"earned"},{id:2,date:"2024-01-10",description:"Redeemed Birthday Voucher",points:-500,type:"redeemed"},{id:3,date:"2024-01-08",description:"Beard Trim & Style",points:125,type:"earned"},{id:4,date:"2024-01-05",description:"Bonus Points - Referral",points:200,type:"bonus"},{id:5,date:"2024-01-03",description:"Classic Cut",points:100,type:"earned"}],g=[{id:1,name:"Free Basic Haircut",pointsCost:500,category:"Services",available:!0,icon:"",description:"Get a complimentary basic haircut"},{id:2,name:"500 Service Voucher",pointsCost:750,category:"Vouchers",available:!0,icon:"",description:"500 off any service"},{id:3,name:"Premium Package Discount",pointsCost:1e3,category:"Services",available:!0,icon:"",description:"50% off complete grooming package"},{id:4,name:"VIP Priority Booking",pointsCost:300,category:"Perks",available:!0,icon:"",description:"Skip the queue with priority booking"},{id:5,name:"1,000 Cash Voucher",pointsCost:1500,category:"Vouchers",available:!1,icon:"",description:"1,000 cash voucher - Not enough points"},{id:6,name:"Platinum Membership",pointsCost:2e3,category:"Membership",available:!1,icon:"",description:"Upgrade to platinum tier - Not enough points"}],h=[{name:"Bronze",min:0,max:499,color:"from-amber-600 to-amber-700",icon:""},{name:"Silver",min:500,max:999,color:"from-gray-400 to-gray-500",icon:""},{name:"Gold",min:1e3,max:1499,color:"from-yellow-400 to-yellow-500",icon:""},{name:"Platinum",min:1500,max:2499,color:"from-purple-400 to-purple-500",icon:""},{name:"Diamond",min:2500,max:1/0,color:"from-blue-400 to-blue-500",icon:""}],f=()=>h.find(y=>n>=y.min&&n<=y.max),E=()=>{const y=h.findIndex(_=>_.name===l);return y<h.length-1?h[y+1]:null},p=()=>{const y=f(),_=E();if(!_)return 100;const A=n-y.min,Q=_.min-y.min;return A/Q*100},v=y=>{y.available&&n>=y.pointsCost&&window.confirm(`Redeem ${y.name} for ${y.pointsCost} points?`)&&alert("Reward redeemed successfully! Check your vouchers.")},b=f(),B=E();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-accent-cream to-white py-8",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 mb-8",children:[e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-4 py-3 text-gray-dark hover:text-primary-orange font-semibold rounded-2xl hover:bg-white/50 transition-all duration-200",children:[e.jsx(ul,{className:"w-5 h-5"}),e.jsx("span",{children:"Back to Home"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-primary-black",children:"Loyalty Rewards"}),e.jsxs("p",{className:"text-xs text-gray-dark",children:[l," Member"]})]})]}),e.jsxs("div",{className:"text-center mb-8 px-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-orange to-primary-orange-light rounded-full flex items-center justify-center mx-auto mb-4 shadow-2xl",children:e.jsx(ds,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-black text-primary-black mb-2",children:"Loyalty Rewards"}),e.jsx("p",{className:"text-lg text-gray-dark font-medium",children:"Earn points, unlock rewards"})]}),e.jsxs("div",{className:"space-y-8 px-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-primary-orange to-primary-orange-dark rounded-3xl p-8 shadow-2xl text-white",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"text-6xl",children:b?.icon}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-black mb-2",children:[l," Member"]}),e.jsx("div",{className:"text-5xl font-black mb-2",children:n.toLocaleString()}),e.jsx("p",{className:"text-lg font-medium opacity-90",children:"Available Points"})]}),B&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[e.jsxs("span",{children:[d," points to ",c]}),e.jsxs("span",{children:[Math.round(p()),"%"]})]}),e.jsx("div",{className:"w-full bg-white/20 rounded-full h-3",children:e.jsx("div",{className:"bg-white rounded-full h-3 transition-all duration-500",style:{width:`${p()}%`}})})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-xl border-2 border-gray-medium",children:e.jsxs("div",{className:"text-center",children:[e.jsx(op,{className:"w-12 h-12 text-accent-coral mx-auto mb-3"}),e.jsx("div",{className:"text-2xl font-black text-primary-black mb-1",children:i.toLocaleString()}),e.jsx("div",{className:"text-sm font-semibold text-gray-dark",children:"Lifetime Points"})]})}),e.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-xl border-2 border-gray-medium",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Vr,{className:"w-12 h-12 text-primary-orange-light mx-auto mb-3"}),e.jsx("div",{className:"text-2xl font-black text-primary-black mb-1",children:"12"}),e.jsx("div",{className:"text-sm font-semibold text-gray-dark",children:"Services Used"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-black text-primary-black flex items-center",children:[e.jsx(Xe,{className:"w-6 h-6 text-primary-orange mr-2"}),"Available Rewards"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g.map(y=>e.jsx("div",{className:`bg-white rounded-3xl p-6 shadow-xl border-2 transition-all duration-300 ${y.available&&n>=y.pointsCost?"border-green-200 hover:shadow-2xl hover:-translate-y-1 cursor-pointer":y.available?"border-yellow-200 opacity-75":"border-gray-200 opacity-50"}`,onClick:()=>v(y),children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"text-4xl",children:y.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center space-x-2 mb-2",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${y.available&&n>=y.pointsCost?"bg-green-100 text-green-700":y.available?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"}`,children:y.category})}),e.jsx("h3",{className:"text-lg font-black text-primary-black mb-2",children:y.name}),e.jsx("p",{className:"text-sm text-gray-dark font-medium mb-3",children:y.description}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ds,{className:"w-5 h-5 text-primary-orange"}),e.jsx("span",{className:"text-lg font-black text-primary-orange",children:y.pointsCost.toLocaleString()})]}),y.available&&n>=y.pointsCost&&e.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"AVAILABLE"}),y.available&&n<y.pointsCost&&e.jsxs("span",{className:"text-xs font-bold text-yellow-600 bg-yellow-100 px-2 py-1 rounded-full",children:[y.pointsCost-n," MORE"]})]})]})]})},y.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-black text-primary-black flex items-center",children:[e.jsx(Yx,{className:"w-6 h-6 text-primary-orange mr-2"}),"Membership Tiers"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map((y,_)=>{const A=y.name===l,Q=n>=y.min;return e.jsx("div",{className:`bg-gradient-to-br ${y.color} rounded-3xl p-6 shadow-xl text-white transition-all duration-300 ${A?"ring-4 ring-white shadow-2xl scale-105":""} ${Q?"":"opacity-50"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:y.icon}),e.jsx("h3",{className:"text-xl font-black mb-2",children:y.name}),e.jsxs("p",{className:"text-sm font-medium opacity-90 mb-2",children:[y.min===0?"0":y.min.toLocaleString(),y.max===1/0?"+":` - ${y.max.toLocaleString()}`," points"]}),A&&e.jsx("div",{className:"bg-white/20 rounded-full px-3 py-1 text-xs font-bold",children:"CURRENT TIER"})]})},y.name)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-black text-primary-black flex items-center",children:[e.jsx(Xx,{className:"w-6 h-6 text-primary-orange mr-2"}),"Recent Activity"]}),e.jsx("div",{className:"bg-white rounded-3xl shadow-xl border-2 border-gray-medium divide-y divide-gray-medium",children:m.map(y=>e.jsxs("div",{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${y.type==="earned"?"bg-green-100":y.type==="bonus"?"bg-blue-100":"bg-red-100"}`,children:[y.type==="earned"&&e.jsx(ds,{className:"w-6 h-6 text-green-600"}),y.type==="bonus"&&e.jsx(Xe,{className:"w-6 h-6 text-blue-600"}),y.type==="redeemed"&&e.jsx(Xx,{className:"w-6 h-6 text-red-600"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-primary-black",children:y.description}),e.jsx("p",{className:"text-sm text-gray-dark font-medium",children:new Date(y.date).toLocaleDateString()})]})]}),e.jsxs("div",{className:`text-lg font-black ${y.points>0?"text-green-600":"text-red-600"}`,children:[y.points>0?"+":"",y.points]})]},y.id))})]}),e.jsx("div",{className:"bg-gradient-to-br from-primary-orange to-primary-orange-dark rounded-3xl p-8 text-white",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto",children:e.jsx(ds,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black mb-2",children:"Earn More Points"}),e.jsx("p",{className:"text-lg font-medium opacity-90 mb-4",children:"Every 1 spent = 1 point earned"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold mb-1",children:" Book Services"}),e.jsx("div",{className:"opacity-80",children:"Earn 1 point per peso"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold mb-1",children:" Refer Friends"}),e.jsx("div",{className:"opacity-80",children:"Get 200 bonus points"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold mb-1",children:" Birthday Month"}),e.jsx("div",{className:"opacity-80",children:"Double points all month"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold mb-1",children:" Complete Package"}),e.jsx("div",{className:"opacity-80",children:"50% bonus points"})]})]})]})]})})]})]})},RE=({onBack:o})=>{const{user:n,isAuthenticated:i}=Mt(),[l,c]=F.useState("all"),[d,m]=F.useState(null),[g,h]=F.useState(null),[f,E]=F.useState(!1),p=n?.id?we(ue.services.bookings.getBookingsByCustomer,{customerId:n.id}):void 0,v=we(ue.services.services.getAllServices),b=we(ue.services.barbers.getAllBarbers),B=n?.id&&(p===void 0||v===void 0||b===void 0),y=null,_=Ne(ue.services.bookings.updateBooking),A=async k=>{try{E(!0),await _({id:k,status:"cancelled"}),h(null);const T=document.createElement("div");T.className="fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",T.textContent="Booking cancelled successfully",document.body.appendChild(T),setTimeout(()=>document.body.removeChild(T),3e3)}catch(T){console.error("Error cancelling booking:",T),alert(T.message||"Failed to cancel booking. Please try again.")}finally{E(!1)}},Q=k=>{switch(k){case"confirmed":return e.jsx(ze,{className:"w-4 h-4 text-green-600"});case"pending":return e.jsx(et,{className:"w-4 h-4 text-yellow-600"});case"cancelled":return e.jsx(tt,{className:"w-4 h-4 text-red-600"});default:return e.jsx(Te,{className:"w-4 h-4",style:{color:"#8B8B8B"}})}},w=k=>{switch(k){case"confirmed":return"bg-green-50 text-green-700 border-green-200";case"pending":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"cancelled":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 border-gray-200"}},j=p?p.filter(k=>l==="all"?!0:k.status===l):[],M=[{id:"all",label:"All Bookings",count:p?p.length:0},{id:"confirmed",label:"Confirmed",count:p?p.filter(k=>k.status==="confirmed").length:0},{id:"pending",label:"Pending",count:p?p.filter(k=>k.status==="pending").length:0},{id:"cancelled",label:"Cancelled",count:p?p.filter(k=>k.status==="cancelled").length:0}];return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsx("div",{className:"sticky top-0 z-40",style:{backgroundColor:"#36454F"},children:e.jsx("div",{className:"max-w-md mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-3 py-2 text-white font-semibold rounded-lg transition-all duration-200",style:{"&:hover":{color:"#F68B24"}},onMouseEnter:k=>k.target.style.color="#F68B24",onMouseLeave:k=>k.target.style.color="white",children:[e.jsx(ul,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Back"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-white",children:"My Bookings"}),e.jsxs("p",{className:"text-xs",style:{color:"#F68B24"},children:[p?.length||0," total"]})]})]})})}),e.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"bg-white rounded-xl p-2 border shadow-sm",style:{borderColor:"#E0E0E0"},children:e.jsx("div",{className:"grid grid-cols-4 gap-1",children:M.map(k=>e.jsxs("button",{onClick:()=>c(k.id),className:"py-2 px-2 rounded-lg text-xs font-semibold transition-all duration-200",style:{backgroundColor:l===k.id?"#F68B24":"transparent",color:l===k.id?"white":"#8B8B8B"},onMouseEnter:T=>{l!==k.id&&(T.target.style.backgroundColor="#F4F0E6")},onMouseLeave:T=>{l!==k.id&&(T.target.style.backgroundColor="transparent")},children:[e.jsx("div",{children:k.label}),e.jsxs("div",{className:"text-xs mt-1",children:["(",k.count,")"]})]},k.id))})})}),B&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#F68B24",opacity:.1},children:e.jsx(Te,{className:"w-8 h-8",style:{color:"#F68B24"}})}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Loading bookings..."})]}),y,!B&&!y&&e.jsx("div",{className:"space-y-3",children:j.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Te,{className:"w-12 h-12 mx-auto mb-3",style:{color:"#8B8B8B"}}),e.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:"#36454F"},children:"No Bookings Found"}),e.jsx("p",{className:"mb-4",style:{color:"#8B8B8B"},children:l==="all"?"You haven't made any bookings yet":`No ${l} bookings found`}),e.jsx("button",{onClick:o,className:"px-6 py-3 text-white font-bold rounded-xl transition-all duration-200",style:{backgroundColor:"#F68B24"},onMouseEnter:k=>k.target.style.backgroundColor="#E67E22",onMouseLeave:k=>k.target.style.backgroundColor="#F68B24",children:"Book Your First Service"})]}):j.map(k=>{const T=v?.find(D=>D._id===k.service)||{},U=b?.find(D=>D._id===k.barber)||{};return console.log(`Booking ${k._id}:`,{voucher_code:k.voucher_code,total_amount:k.total_amount,voucherCode:k.voucherCode,voucher:k.voucher}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border shadow-sm hover:shadow-lg transition-all duration-200",style:{borderColor:"#E0E0E0"},children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"#F68B24"},children:e.jsx("span",{className:"text-white text-lg",children:""})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold",style:{color:"#36454F"},children:T.name||"Service"}),e.jsxs("p",{className:"text-xs",style:{color:"#8B8B8B"},children:["Code: ",k.booking_code]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[Q(k.status),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold border ${w(k.status)}`,children:k.status.toUpperCase()})]})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"w-3 h-3",style:{color:"#F68B24"}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Date"}),e.jsx("p",{className:"text-sm font-bold",style:{color:"#36454F"},children:new Date(k.date).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"w-3 h-3",style:{color:"#F68B24"}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Time"}),e.jsx("p",{className:"text-sm font-bold",style:{color:"#36454F"},children:k.time})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Re,{className:"w-3 h-3",style:{color:"#F68B24"}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Barber"}),e.jsx("p",{className:"text-sm font-bold",style:{color:"#36454F"},children:U.name||"Any Barber"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#F68B24"}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Service Price"}),e.jsxs("p",{className:"text-sm font-bold",style:{color:"#F68B24"},children:["",T.price?parseFloat(T.price).toLocaleString():"--"]})]})]})]}),(()=>{const D=k.voucher_code||k.voucherCode||k.voucher?.code,z=k.total_amount||k.totalAmount;return(D||z)&&e.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t",style:{borderColor:"#E0E0E0"},children:[D&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Voucher Used"}),e.jsx("p",{className:"text-sm font-bold",style:{color:"#22C55E"},children:D})]})]}),z&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"#8B8B8B"},children:"Total Paid"}),e.jsxs("p",{className:"text-sm font-bold",style:{color:"#3B82F6"},children:["",parseFloat(z).toLocaleString()]})]})]})]})})()]}),e.jsxs("div",{className:"flex space-x-2",children:[k.status==="booked"&&e.jsxs("button",{onClick:()=>m({...k,service:T,barber:U}),className:"flex-1 py-2 text-white font-bold rounded-lg transition-all duration-200 flex items-center justify-center space-x-2",style:{backgroundColor:"#F68B24"},onMouseEnter:D=>D.target.style.backgroundColor="#E67E22",onMouseLeave:D=>D.target.style.backgroundColor="#F68B24",children:[e.jsx(ot,{className:"w-3 h-3"}),e.jsx("span",{className:"text-sm",children:"Show QR"})]}),k.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>h({...k,service:T,barber:U}),className:"flex-1 py-2 bg-red-500 text-white font-bold rounded-lg transition-all duration-200 text-sm",onMouseEnter:D=>D.target.style.backgroundColor="#DC2626",onMouseLeave:D=>D.target.style.backgroundColor="#EF4444",children:"Cancel"}),e.jsxs("button",{onClick:()=>m({...k,service:T,barber:U}),className:"flex-1 py-2 text-white font-bold rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 text-sm",style:{backgroundColor:"#F68B24"},onMouseEnter:D=>D.target.style.backgroundColor="#E67E22",onMouseLeave:D=>D.target.style.backgroundColor="#F68B24",children:[e.jsx(ot,{className:"w-3 h-3"}),e.jsx("span",{children:"View QR"})]})]}),k.status==="cancelled"&&e.jsx("button",{onClick:o,className:"flex-1 py-2 text-white font-bold rounded-lg transition-all duration-200 text-sm",style:{backgroundColor:"#F68B24"},onMouseEnter:D=>D.target.style.backgroundColor="#E67E22",onMouseLeave:D=>D.target.style.backgroundColor="#F68B24",children:"Book Again"}),(k.status==="confirmed"||k.status==="completed")&&e.jsxs("button",{onClick:()=>m({...k,service:T,barber:U}),className:"flex-1 py-2 text-white font-bold rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 text-sm",style:{backgroundColor:"#10B981"},onMouseEnter:D=>D.target.style.backgroundColor="#059669",onMouseLeave:D=>D.target.style.backgroundColor="#10B981",children:[e.jsx(ot,{className:"w-3 h-3"}),e.jsx("span",{children:"Show QR"})]})]})]},k._id)})})]}),d&&e.jsx(TE,{booking:d,onClose:()=>m(null)}),g&&e.jsx(PE,{booking:g,onConfirm:()=>A(g._id),onClose:()=>h(null),loading:f})]})},TE=({booking:o,onClose:n})=>{const i=F.useRef(null),l=o.booking_code;return F.useEffect(()=>{const c=setTimeout(()=>{i.current?St.toCanvas(i.current,l,{width:160,margin:2,color:{dark:"#36454F",light:"#ffffff"},errorCorrectionLevel:"H"},d=>{d&&console.error("QR Code generation error:",d)}):console.error("Canvas ref not available in MyBookings QR modal")},100);return()=>clearTimeout(c)},[l]),e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl border",style:{borderColor:"#E0E0E0"},children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mx-auto",style:{backgroundColor:"#F68B24"},children:e.jsx(ot,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-1",style:{color:"#36454F"},children:"Booking QR Code"}),e.jsx("p",{className:"text-sm",style:{color:"#36454F"},children:"Show this to staff when you arrive"})]}),e.jsx("div",{className:"p-4 rounded-xl",style:{backgroundColor:"#F4F0E6"},children:e.jsx("div",{className:"flex justify-center",children:e.jsx("canvas",{ref:i,className:"rounded-lg"})})}),e.jsx("div",{className:"rounded-xl p-3 text-left",style:{backgroundColor:"#F4F0E6",border:"1px solid #E0E0E0"},children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Service:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:o.service?.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Date:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:new Date(o.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Time:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:o.time})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Barber:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:o.barber?.name||"Any Barber"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Code:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:o.booking_code})]}),(()=>{const c=o.voucher_code||o.voucherCode||o.voucher?.code,d=o.total_amount||o.totalAmount;return e.jsxs(e.Fragment,{children:[c&&e.jsxs("div",{className:"flex justify-between border-t pt-2",style:{borderColor:"#E0E0E0"},children:[e.jsx("span",{style:{color:"#22C55E"},children:"Voucher:"}),e.jsx("span",{className:"font-bold",style:{color:"#22C55E"},children:c})]}),d&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#3B82F6"},children:"Total Paid:"}),e.jsxs("span",{className:"font-bold",style:{color:"#3B82F6"},children:["",parseFloat(d).toLocaleString()]})]})]})})()]})}),e.jsx("button",{onClick:n,className:"w-full py-3 text-white font-bold rounded-xl transition-all duration-200",style:{backgroundColor:"#F68B24"},onMouseEnter:c=>c.target.style.backgroundColor="#E67E22",onMouseLeave:c=>c.target.style.backgroundColor="#F68B24",children:"Close"})]})})})},PE=({booking:o,onConfirm:n,onClose:i,loading:l})=>e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl border",style:{borderColor:"#E0E0E0"},children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto bg-red-100",children:e.jsx(tt,{className:"w-8 h-8 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#36454F"},children:"Cancel Booking?"}),e.jsx("p",{className:"text-sm mb-4",style:{color:"#8B8B8B"},children:"Are you sure you want to cancel this booking? This action cannot be undone."})]}),e.jsx("div",{className:"rounded-xl p-4 text-left",style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA"},children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Service:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:o.service?.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Date:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:o.date?new Date(o.date).toLocaleDateString():"Today"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Time:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:o.time})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Barber:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:o.barber?.name||"Any Barber"})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",style:{borderColor:"#FECACA"},children:[e.jsx("span",{style:{color:"#36454F"},children:"Code:"}),e.jsx("span",{className:"font-bold",style:{color:"#36454F"},children:o.booking_code})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:i,disabled:l,className:"flex-1 py-3 border-2 font-bold rounded-xl transition-all duration-200",style:{borderColor:"#E0E0E0",color:"#8B8B8B"},onMouseEnter:c=>!l&&(c.target.style.backgroundColor="#F5F5F5"),onMouseLeave:c=>!l&&(c.target.style.backgroundColor="transparent"),children:"Keep Booking"}),e.jsx("button",{onClick:n,disabled:l,className:`flex-1 py-3 text-white font-bold rounded-xl transition-all duration-200 ${l?"opacity-75 cursor-not-allowed":""}`,style:{backgroundColor:l?"#CCCCCC":"#EF4444"},onMouseEnter:c=>!l&&(c.target.style.backgroundColor="#DC2626"),onMouseLeave:c=>!l&&(c.target.style.backgroundColor="#EF4444"),children:l?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),e.jsx("span",{children:"Cancelling..."})]}):"Yes, Cancel"})]})]})})}),LE=()=>{const{user:o,logout:n,loading:i}=Mt(),l=Ir(),[c,d]=F.useState(!1),[m,g]=F.useState(!1),[h,f]=F.useState({username:"",email:"",nickname:"",mobile_number:"",birthday:"",preferences:{notifications:!0,emailUpdates:!0,smsReminders:!0}});F.useEffect(()=>{E()},[o]);const E=async()=>{try{o&&f({username:o.username||"",email:o.email||"",nickname:o.nickname||"",mobile_number:o.mobile_number||"",birthday:o.birthday||"",preferences:{notifications:!0,emailUpdates:!0,smsReminders:!0}})}catch(B){console.error("Error loading profile:",B)}},p=(B,y)=>{f(_=>({..._,[B]:y}))},v=async()=>{try{g(!0),console.log("Saving profile:",h),d(!1)}catch(B){console.error("Error saving profile:",B)}finally{g(!1)}},b=async()=>{try{await n(),l("/auth/login")}catch(B){console.error("Logout error:",B),l("/auth/login")}};return i||!o?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F4F0E6"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:"#F68B24"}}),e.jsx("p",{style:{color:"#8B8B8B"},children:"Loading profile..."})]})}):e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsx("div",{className:"sticky top-0 z-40",style:{backgroundColor:"#36454F"},children:e.jsx("div",{className:"max-w-md mx-auto px-4",children:e.jsxs("div",{className:"flex justify-between items-center py-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>l(-1),className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:"#F68B24"},children:e.jsx(ul,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-bold text-white",children:"My Profile"}),e.jsx("p",{className:"text-xs font-medium",style:{color:"#F68B24"},children:"Account Settings"})]})]}),e.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm shadow-sm",children:[e.jsx(xc,{className:"w-3 h-3"}),e.jsx("span",{children:"Logout"})]})]})})}),e.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 pb-20",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-[#E0E0E0] mb-6 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-[#36454F] to-[#2A3439] px-6 py-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Re,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-lg font-bold text-white mb-1",children:h.nickname||h.username||"User"}),e.jsx("p",{className:"text-white/80 text-sm",children:h.email}),e.jsx("div",{className:"mt-2 px-3 py-1 bg-white/20 rounded-full inline-block",children:e.jsx("span",{className:"text-white/90 text-xs font-medium",children:o?.role==="staff"?"Staff Member":"Customer"})})]})})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-[#E0E0E0] mb-4",children:[e.jsx("div",{className:"px-4 py-4 border-b border-[#E0E0E0]",children:e.jsx("h3",{className:"text-lg font-semibold",style:{color:"#36454F"},children:"Personal Information"})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[#6B6B6B] mb-2",children:[e.jsx(Re,{className:"w-4 h-4 inline mr-2"}),"Username"]}),c?e.jsx("input",{type:"text",value:h.username,onChange:B=>p("username",B.target.value),className:"w-full px-4 py-3 border border-[#E0E0E0] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#F68B24]"}):e.jsx("p",{className:"px-4 py-3 bg-[#F4F0E6] rounded-xl",style:{color:"#36454F"},children:h.username})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[#6B6B6B] mb-2",children:[e.jsx(Js,{className:"w-4 h-4 inline mr-2"}),"Email Address"]}),c?e.jsx("input",{type:"email",value:h.email,onChange:B=>p("email",B.target.value),className:"w-full px-4 py-3 border border-[#E0E0E0] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#F68B24]"}):e.jsx("p",{className:"px-4 py-3 bg-[#F4F0E6] rounded-xl",style:{color:"#36454F"},children:h.email})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[#6B6B6B] mb-2",children:[e.jsx(Re,{className:"w-4 h-4 inline mr-2"}),"Nickname"]}),c?e.jsx("input",{type:"text",value:h.nickname,onChange:B=>p("nickname",B.target.value),placeholder:"Enter your preferred name",className:"w-full px-4 py-3 border border-[#E0E0E0] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#F68B24]"}):e.jsx("p",{className:"px-4 py-3 bg-[#F4F0E6] rounded-xl",style:{color:"#36454F"},children:h.nickname||"Not set"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[#6B6B6B] mb-2",children:[e.jsx(ml,{className:"w-4 h-4 inline mr-2"}),"Mobile Number"]}),c?e.jsx("input",{type:"tel",value:h.mobile_number,onChange:B=>p("mobile_number",B.target.value),className:"w-full px-4 py-3 border border-[#E0E0E0] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#F68B24]"}):e.jsx("p",{className:"px-4 py-3 bg-[#F4F0E6] rounded-xl",style:{color:"#36454F"},children:h.mobile_number})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[#6B6B6B] mb-2",children:[e.jsx(Te,{className:"w-4 h-4 inline mr-2"}),"Birthday"]}),c?e.jsx("input",{type:"date",value:h.birthday,onChange:B=>p("birthday",B.target.value),className:"w-full px-4 py-3 border border-[#E0E0E0] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#F68B24]"}):e.jsx("p",{className:"px-4 py-3 bg-[#F4F0E6] rounded-xl",style:{color:"#36454F"},children:h.birthday?new Date(h.birthday).toLocaleDateString("en-PH"):"Not set"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-[#E0E0E0] mb-6",children:[e.jsx("div",{className:"px-4 py-4 border-b border-[#E0E0E0]",children:e.jsx("h3",{className:"text-lg font-semibold",style:{color:"#36454F"},children:"Account Summary"})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-[#F4F0E6] rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold",style:{color:"#F68B24"},children:"0"}),e.jsx("div",{className:"text-sm",style:{color:"#8B8B8B"},children:"Total Bookings"})]}),e.jsxs("div",{className:"text-center p-4 bg-[#F4F0E6] rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold",style:{color:"#F68B24"},children:"0"}),e.jsx("div",{className:"text-sm",style:{color:"#8B8B8B"},children:"Vouchers"})]})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-[#F68B24] to-[#E67A1F] rounded-xl",children:[e.jsx("div",{className:"text-white text-sm font-medium",children:"Member since"}),e.jsx("div",{className:"text-white text-lg font-bold",children:new Date().toLocaleDateString("en-PH",{month:"long",year:"numeric"})})]})]})]}),!c&&e.jsxs("button",{onClick:()=>d(!0),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-[#F68B24] text-white rounded-xl hover:bg-[#E67A1F] transition-colors shadow-lg mb-4",children:[e.jsx(R5,{className:"w-4 h-4"}),e.jsx("span",{children:"Edit Profile"})]}),c&&e.jsxs("div",{className:"flex space-x-3 mb-4",children:[e.jsx("button",{onClick:()=>{d(!1),E()},className:"flex-1 px-4 py-3 border border-[#E0E0E0] rounded-xl hover:bg-[#F4F0E6] transition-colors",style:{color:"#8B8B8B"},children:"Cancel"}),e.jsxs("button",{onClick:v,disabled:m,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-[#F68B24] text-white rounded-xl hover:bg-[#E67A1F] transition-colors disabled:opacity-50",children:[e.jsx(Xr,{className:"w-4 h-4"}),e.jsx("span",{children:m?"Saving...":"Save Changes"})]})]})]})]})},hf=()=>{const{user:o}=Mt(),[n,i]=F.useState(()=>localStorage.getItem("customer_dashboard_active_section")||"home");F.useEffect(()=>{localStorage.setItem("customer_dashboard_active_section",n)},[n]),we(ue.services.services.getActiveServices),we(ue.services.barbers.getActiveBarbers);const l=o?.id?we(ue.services.bookings.getBookingsByCustomer,{customerId:o.id}):void 0,c=o?.id?we(ue.services.vouchers.getVouchersByUser,{userId:o.id}):void 0,d=[{id:"home",label:"Home",icon:y5},{id:"booking",label:"Book",icon:Te},{id:"bookings",label:"Bookings",icon:E5},{id:"vouchers",label:"Vouchers",icon:Xe},{id:"profile",label:"Profile",icon:Re}],g=(()=>{const E=l?l.length:0,p=c?c.filter(v=>v.status==="assigned"&&!v.isExpired).length:0;return{totalBookings:E,activeVouchers:p}})(),h=[{label:"Total Bookings",value:g.totalBookings.toString(),icon:Ct},{label:"Active Vouchers",value:g.activeVouchers.toString(),icon:Xe}],f=()=>{switch(n){case"booking":return e.jsx(jE,{onBack:E=>i(E||"home")});case"bookings":return e.jsx(RE,{onBack:()=>i("home")});case"vouchers":return e.jsx(SE,{onBack:()=>i("home")});case"loyalty":return e.jsx(ME,{onBack:()=>i("home")});case"profile":return e.jsx(LE,{});default:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsxs("div",{className:"h-56 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${oc})`,filter:"brightness(0.7) contrast(1.1)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/40 via-transparent to-black/60"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx("div",{className:"absolute top-4 left-4 w-2 h-2 bg-orange-300 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute top-12 right-8 w-1 h-1 bg-white rounded-full animate-ping"}),e.jsx("div",{className:"absolute bottom-16 left-8 w-1.5 h-1.5 bg-orange-200 rounded-full animate-pulse",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute bottom-8 right-4 w-1 h-1 bg-white rounded-full animate-ping",style:{animationDelay:"2s"}})]}),e.jsx("svg",{className:"absolute bottom-0 left-0 right-0",viewBox:"0 0 1440 120",fill:"none",children:e.jsx("path",{d:"M0,64L1440,96L1440,120L0,120Z",fill:"#F4F0E6"})})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-center px-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-light text-white drop-shadow-2xl tracking-wider",children:[e.jsx("span",{className:"font-thin",children:"TipunoX Angeles"}),e.jsx("span",{className:"font-extralight text-orange-200 ml-2",children:"BARBERSHOP"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-16 h-px bg-gradient-to-r from-transparent via-orange-300 to-transparent"})}),e.jsx("p",{className:"text-white/80 font-light text-sm tracking-widest uppercase",children:"Premium Grooming"})]})})]}),e.jsx("div",{className:"px-4 -mt-6 relative z-10",children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:h.map(E=>{const p=E.icon;return e.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-lg border",style:{borderColor:"#E0E0E0"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-2",style:{backgroundColor:"#F68B24"},children:e.jsx(p,{className:"w-6 h-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold",style:{color:"#36454F"},children:E.value}),e.jsx("div",{className:"text-sm font-medium",style:{color:"#8B8B8B"},children:E.label})]})},E.label)})})}),e.jsx("div",{className:"px-4 space-y-4",children:e.jsx("button",{onClick:()=>i("booking"),className:"w-full p-6 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/20 flex items-center justify-center",children:e.jsx(Te,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Book Your Service"}),e.jsx("p",{className:"text-white/80",children:"Schedule your next appointment"})]})]})})}),e.jsxs("div",{className:"bg-white mx-4 rounded-xl p-4 shadow-sm border",style:{borderColor:"#E0E0E0"},children:[e.jsx("h3",{className:"text-sm font-bold mb-3 text-center",style:{color:"#36454F"},children:"Shop Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:"#F68B24"},children:e.jsx(Xf,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"text-xs font-medium",style:{color:"#8B8B8B"},children:"123 Main Street, Quezon City"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:"#F68B24"},children:e.jsx(ml,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"text-xs font-medium",style:{color:"#8B8B8B"},children:"+63 912 345 6789"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:"#F68B24"},children:e.jsx(Ct,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"text-xs font-medium",style:{color:"#8B8B8B"},children:"9:00 AM - 8:00 PM (Mon-Sat)"})]})]})]})]})}};return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsx("div",{className:"sticky top-0 z-40",style:{backgroundColor:"#36454F"},children:e.jsx("div",{className:"max-w-md mx-auto px-4",children:e.jsxs("div",{className:"flex justify-between items-center py-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:"#F68B24"},children:e.jsx(Re,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-bold text-white",children:"TipunoX Angeles Barbershop"}),e.jsx("p",{className:"text-xs font-medium",style:{color:"#F68B24"},children:"Dashboard"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-medium text-white",children:"Welcome"}),e.jsx("p",{className:"text-xs text-gray-300",children:new Date().toLocaleDateString()})]})]})})}),e.jsx("div",{className:"max-w-md mx-auto pb-20",children:f()}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-2xl",style:{borderTop:"1px solid #E0E0E0"},children:e.jsx("div",{className:"max-w-md mx-auto px-3",children:e.jsx("div",{className:"grid grid-cols-5 py-2",children:d.map(E=>{const p=E.icon,v=n===E.id;return e.jsxs("button",{onClick:()=>i(E.id),className:"flex flex-col items-center justify-center py-2 px-1 rounded-2xl transition-all duration-300 relative",style:{backgroundColor:v?"#F68B24":"transparent",color:v?"white":"#8B8B8B"},children:[v&&e.jsx("div",{className:"absolute -top-1 w-1 h-1 rounded-full",style:{backgroundColor:"#36454F"}}),e.jsx("div",{className:`p-2 rounded-xl mb-1 transition-all duration-300 ${v?"bg-white/20 scale-110":"bg-transparent"}`,children:e.jsx(p,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-xs font-medium tracking-wide",children:E.label})]},E.id)})})})})]})};function OE(){const[o,n]=F.useState(null),[i,l]=F.useState(""),[c,d]=F.useState(""),[m,g]=F.useState(null),[h,f]=F.useState(""),[E,p]=F.useState(null),[v,b]=F.useState(""),B=Ir(),{user:y,isAuthenticated:_}=Mt(),A=we(ue.services.services.getActiveServices),Q=we(ue.services.barbers.getActiveBarbers),w=Ne(ue.services.bookings.createBooking),j=A===void 0||Q===void 0,M=["09:00","09:30","10:00","10:30","11:00","11:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"];F.useEffect(()=>{if(!_){B("/auth/login");return}},[_,B]);const k=P=>`${parseFloat(P).toFixed(2)}`,T=P=>{const[$,ae]=P.split(":"),H=parseInt($),se=H>=12?"PM":"AM";return`${H===0?12:H>12?H-12:H}:${ae} ${se}`},U=async P=>{try{const $=await St.toDataURL(P,{width:200,margin:2,color:{dark:"#36454F",light:"#FFFFFF"}});b($)}catch($){console.error("Error generating QR code:",$)}},D=async()=>{if(!o||!i||!c){f("Please select service, date, and time");return}setLoading(!0),f("");try{const P=c.includes(":")?`${c}:00`:c,$={service:o.id,date:i,time:P,...m&&{barber:m.id}},ae=await w({customer:y.id,service:o._id,barber:m?m._id:void 0,date:i,time:P,status:"pending"});p(ae),ae.booking_code&&await U(ae.booking_code)}catch(P){f("An unexpected error occurred. Please try again."),console.error("Booking error:",P)}finally{setLoading(!1)}},z=()=>{p(null),b(""),n(null),l(""),d(""),g(null),f("")};return j&&!A.length?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F4F0E6"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:"#F68B24"}}),e.jsx("p",{style:{color:"#36454F"},children:"Loading booking options..."})]})}):E?e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsx("header",{style:{backgroundColor:"#36454F"},className:"shadow-sm sticky top-0 z-10",children:e.jsx("div",{className:"px-4 py-4 flex items-center",children:e.jsx("h1",{className:"text-xl font-bold",style:{color:"#F4F0E6"},children:"Booking Confirmed"})})}),e.jsx("div",{className:"px-4 py-6 space-y-6",children:e.jsxs(ks,{style:{backgroundColor:"white",border:"2px solid #22C55E"},children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("h2",{className:"text-xl font-bold text-green-600 mb-2",children:"Booking Confirmed!"}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Your appointment has been successfully booked"})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:"Booking Code:"}),e.jsx("span",{className:"font-bold",style:{color:"#F68B24"},children:E.booking_code})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Service:"}),e.jsx("span",{style:{color:"#36454F"},children:o.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Date:"}),e.jsx("span",{style:{color:"#36454F"},children:i})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Time:"}),e.jsx("span",{style:{color:"#36454F"},children:T(c)})]}),m&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#36454F"},children:"Barber:"}),e.jsx("span",{style:{color:"#36454F"},children:m.full_name})]}),e.jsxs("div",{className:"flex justify-between font-bold pt-2",style:{borderTop:"1px solid #E0E0E0"},children:[e.jsx("span",{style:{color:"#36454F"},children:"Total:"}),e.jsx("span",{style:{color:"#F68B24"},children:k(o.price)})]})]}),v&&e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"font-semibold mb-3",style:{color:"#36454F"},children:"QR Code"}),e.jsx("img",{src:v,alt:"Booking QR Code",className:"mx-auto"}),e.jsx("p",{className:"text-xs mt-2",style:{color:"#8B8B8B"},children:"Show this QR code at the barbershop"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ge,{onClick:()=>B("/customer/dashboard"),className:"w-full",style:{backgroundColor:"#F68B24",color:"white"},children:"Go to Dashboard"}),e.jsx(Ge,{onClick:z,className:"w-full",style:{backgroundColor:"white",color:"#36454F",border:"1px solid #E0E0E0"},children:"Book Another Appointment"})]})]})})]}):e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsx("header",{style:{backgroundColor:"#36454F"},className:"shadow-sm sticky top-0 z-10",children:e.jsxs("div",{className:"px-4 py-4 flex items-center",children:[e.jsx(Ds,{to:"/customer/dashboard",className:"mr-4",children:e.jsx("span",{className:"text-xl",style:{color:"#F4F0E6"},children:""})}),e.jsx("h1",{className:"text-xl font-bold",style:{color:"#F4F0E6"},children:"Book Appointment"})]})}),e.jsxs("div",{className:"px-4 py-6 space-y-6",children:[h&&e.jsx(ks,{style:{backgroundColor:"#FEF2F2",border:"1px solid #FCA5A5"},children:e.jsx("p",{className:"text-sm text-red-600",children:h})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"#36454F"},children:"1. Choose Service"}),e.jsx("div",{className:"grid gap-3",children:A.map(P=>e.jsxs(ks,{className:"cursor-pointer transition-all",style:{backgroundColor:"white",border:o?.id===P.id?"2px solid #F68B24":"1px solid #E0E0E0"},onClick:()=>n(P),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",style:{color:"#36454F"},children:P.name}),e.jsx("p",{className:"text-sm mt-1",style:{color:"#8B8B8B"},children:P.description}),e.jsxs("p",{className:"text-sm mt-2",style:{color:"#8B8B8B"},children:[P.duration_minutes," minutes"]})]}),e.jsx("div",{className:"text-right ml-4",children:e.jsx("p",{className:"font-bold text-lg",style:{color:"#F68B24"},children:k(P.price)})})]}),o?.id===P.id&&e.jsx("div",{className:"mt-3 pt-3",style:{borderTop:"1px solid #F68B24"},children:e.jsx("span",{className:"text-sm font-medium",style:{color:"#F68B24"},children:" Selected"})})]},P.id))})]}),o&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"#36454F"},children:"2. Choose Date"}),e.jsx(ks,{style:{backgroundColor:"white",border:"1px solid #E0E0E0"},children:e.jsx("input",{type:"date",value:i,onChange:P=>l(P.target.value),min:new Date().toISOString().split("T")[0],className:"w-full p-3 border-2 rounded-lg focus:outline-none",style:{borderColor:"#E0E0E0"},onFocus:P=>P.target.style.borderColor="#F68B24",onBlur:P=>P.target.style.borderColor="#E0E0E0"})})]}),o&&i&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"#36454F"},children:"3. Choose Time"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:M.map(P=>e.jsx("button",{onClick:()=>d(P),className:"p-3 rounded-lg border-2 text-sm font-medium transition-colors",style:{backgroundColor:c===P?"#F68B24":"white",borderColor:c===P?"#F68B24":"#E0E0E0",color:c===P?"white":"#36454F"},onMouseEnter:$=>{c!==P&&($.target.style.borderColor="#F68B24")},onMouseLeave:$=>{c!==P&&($.target.style.borderColor="#E0E0E0")},children:T(P)},P))})]}),o&&i&&c&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"#36454F"},children:"4. Choose Barber (Optional)"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>g(null),className:"w-full p-4 rounded-lg border-2 text-left transition-colors",style:{backgroundColor:m===null?"rgba(246, 139, 36, 0.1)":"white",borderColor:m===null?"#F68B24":"#E0E0E0"},onMouseEnter:P=>{m!==null&&(P.target.style.borderColor="#F68B24")},onMouseLeave:P=>{m!==null&&(P.target.style.borderColor="#E0E0E0")},children:[e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:"No preference"}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Any available barber"})]}),Q.map(P=>e.jsxs("button",{onClick:()=>g(P),className:"w-full p-4 rounded-lg border-2 text-left transition-colors",style:{backgroundColor:m?.id===P.id?"rgba(246, 139, 36, 0.1)":"white",borderColor:m?.id===P.id?"#F68B24":"#E0E0E0"},onMouseEnter:$=>{m?.id!==P.id&&($.target.style.borderColor="#F68B24")},onMouseLeave:$=>{m?.id!==P.id&&($.target.style.borderColor="#E0E0E0")},children:[e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:P.full_name}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Professional barber"})]},P.id))]})]}),o&&i&&c&&!E&&e.jsx("div",{className:"mt-6",children:e.jsx(Ge,{onClick:D,disabled:j,className:"w-full transition-colors",style:{backgroundColor:j?"#8B8B8B":"#F68B24",color:"white",cursor:j?"not-allowed":"pointer"},onMouseEnter:P=>{j||(P.target.style.backgroundColor="#E67E22")},onMouseLeave:P=>{j||(P.target.style.backgroundColor="#F68B24")},children:j?"Creating Booking...":"Confirm Booking"})})]}),e.jsx("div",{className:"h-8"})]})}function UE(){const[o,n]=F.useState(null),[i,l]=F.useState(""),[c,d]=F.useState(""),[m,g]=F.useState(!1),[h,f]=F.useState(!1),[E,p]=F.useState(null),v=we(ue.services.services.getActiveServices),b=we(ue.services.barbers.getActiveBarbers),B=Ne(ue.services.bookings.createBooking),y=v===void 0||b===void 0,_=()=>{n(null),l(""),d(""),f(!1)},A=async()=>{if(o){g(!0),p(null);try{const w={service_id:o.id,barber_id:i||null,date:new Date().toISOString().split("T")[0],time:"10:00",notes:`Kiosk booking for ${o.name}`},M=(await B({customer:void 0,service:o._id,barber:i||void 0,date:w.date,time:w.time,status:"pending",notes:w.notes})).booking_code,k=await St.toDataURL(M,{width:300,margin:2,color:{dark:"#36454F",light:"#FFFFFF"}});d(k),f(!0)}catch(w){console.error("Error creating booking:",w),p("Failed to create booking. Please try again.")}finally{g(!1)}}},Q=()=>{const w=window.open("","_blank");w.document.write(`
      <html>
        <head>
          <title>TipunoX Angeles Barbershop - Booking QR Code</title>
          <style>
            body { 
              font-family: Arial, sans-serif; 
              text-align: center; 
              padding: 20px;
              margin: 0;
            }
            .header { 
              color: #36454F; 
              margin-bottom: 20px; 
            }
            .qr-container { 
              margin: 20px 0; 
            }
            .service-info { 
              background: #F0F8FF; 
              padding: 15px; 
              border-radius: 10px; 
              margin: 20px 0; 
              border: 1px solid #E0E0E0;
            }
            .footer { 
              color: #8B8B8B; 
              font-size: 12px; 
              margin-top: 30px; 
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>TipunoX Angeles Barbershop</h1>
            <h2>Booking Confirmation</h2>
          </div>
          <div class="service-info">
            <h3>Service: ${o?.name}</h3>
            <p>Price: ${o?.price}</p>
            ${i?`<p>Barber: ${b.find(j=>j.id===i)?.name}</p>`:""}
            <p>Date: ${new Date().toLocaleDateString()}</p>
          </div>
          <div class="qr-container">
            <img src="${c}" alt="Booking QR Code" />
          </div>
          <div class="footer">
            <p>Show this QR code at the kiosk to confirm your appointment</p>
            <p>Thank you for choosing TipunoX Angeles Barbershop!</p>
          </div>
        </body>
      </html>
    `),w.document.close(),w.print()};return y?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-t-transparent rounded-full animate-spin mx-auto mb-4",style:{borderColor:"#F68B24",borderTopColor:"transparent"}}),e.jsx("p",{className:"text-lg font-medium",style:{color:"#36454F"},children:"Loading Services..."})]})}):E?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#FEE"},children:e.jsx(X,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#36454F"},children:"Error Loading Data"}),e.jsx("p",{className:"text-red-600 mb-4",children:E}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 text-white font-bold rounded-xl transition-colors duration-200",style:{backgroundColor:"#F68B24"},onMouseEnter:w=>w.target.style.backgroundColor="#E67A1F",onMouseLeave:w=>w.target.style.backgroundColor="#F68B24",children:"Retry"})]}):e.jsx("div",{className:"space-y-6",children:h?e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg text-center",style:{border:"1px solid #E0E0E0"},children:[e.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",style:{backgroundColor:"#4CAF50"},children:e.jsx(ze,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold mb-2",style:{color:"#36454F"},children:"Booking Confirmed!"}),e.jsx("p",{className:"text-lg mb-6",style:{color:"#4CAF50"},children:"Your appointment has been scheduled"}),e.jsxs("div",{className:"rounded-xl p-6 mb-6 text-left",style:{backgroundColor:"#F0F8FF",border:"1px solid #E0E0E0"},children:[e.jsx("h3",{className:"font-bold mb-4",style:{color:"#36454F"},children:"Booking Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#8B8B8B"},children:"Service:"}),e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:o?.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#8B8B8B"},children:"Price:"}),e.jsxs("span",{className:"font-medium",style:{color:"#36454F"},children:["",o?.price]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#8B8B8B"},children:"Duration:"}),e.jsxs("span",{className:"font-medium",style:{color:"#36454F"},children:[o?.duration," minutes"]})]}),i&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#8B8B8B"},children:"Barber:"}),e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:b.find(w=>w.id===i)?.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#8B8B8B"},children:"Date:"}),e.jsx("span",{className:"font-medium",style:{color:"#36454F"},children:new Date().toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"rounded-xl p-6 mb-6",style:{backgroundColor:"#FFFFFF",border:"2px solid #F68B24"},children:[e.jsx("h3",{className:"font-bold mb-4",style:{color:"#36454F"},children:"Your Booking QR Code"}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:c,alt:"Booking QR Code",className:"rounded-lg shadow-lg",style:{maxWidth:"200px",height:"auto"}})}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Show this QR code at the kiosk scanner to confirm your appointment"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:Q,className:"px-6 py-3 text-white font-bold rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2",style:{backgroundColor:"#36454F"},onMouseEnter:w=>w.target.style.backgroundColor="#2A3640",onMouseLeave:w=>w.target.style.backgroundColor="#36454F",children:e.jsx("span",{children:"Print QR Code"})}),e.jsx("button",{onClick:_,className:"px-6 py-3 font-bold rounded-xl transition-colors duration-200 border-2",style:{color:"#36454F",borderColor:"#36454F",backgroundColor:"transparent"},onMouseEnter:w=>{w.target.style.backgroundColor="#36454F",w.target.style.color="white"},onMouseLeave:w=>{w.target.style.backgroundColor="transparent",w.target.style.color="#36454F"},children:"Book Another Service"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",style:{border:"1px solid #E0E0E0"},children:[e.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:"#36454F"},children:"Choose Your Service"}),e.jsx("div",{className:"grid gap-3",children:v.map(w=>e.jsx("div",{onClick:()=>n(w),className:`p-4 rounded-xl cursor-pointer transition-all duration-200 transform hover:scale-105 ${o?.id===w.id?"ring-2 ring-offset-2":"hover:shadow-md"}`,style:{backgroundColor:o?.id===w.id?"#F0F8FF":"#F4F0E6",border:"1px solid #E0E0E0",ringColor:o?.id===w.id?"#F68B24":"transparent"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg",style:{color:"#36454F"},children:w.name}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:w.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-lg",style:{color:"#36454F"},children:["",w.price]}),e.jsxs("p",{className:"text-sm",style:{color:"#8B8B8B"},children:[w.duration," min"]})]})]})},w.id))})]}),o&&e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",style:{border:"1px solid #E0E0E0"},children:[e.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:"#36454F"},children:"Choose Your Barber (Optional)"}),e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{onClick:()=>l(""),className:`p-4 rounded-xl cursor-pointer transition-all duration-200 transform hover:scale-105 ${i===""?"ring-2 ring-offset-2":"hover:shadow-md"}`,style:{backgroundColor:i===""?"#F0F8FF":"#F4F0E6",border:"1px solid #E0E0E0",ringColor:i===""?"#F68B24":"transparent"},children:[e.jsx("h4",{className:"font-bold",style:{color:"#36454F"},children:"Any Available Barber"}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"We'll assign the next available barber"})]}),b.map(w=>e.jsx("div",{onClick:()=>l(w.id),className:`p-4 rounded-xl cursor-pointer transition-all duration-200 transform hover:scale-105 ${i===w.id?"ring-2 ring-offset-2":"hover:shadow-md"}`,style:{backgroundColor:i===w.id?"#F0F8FF":"#F4F0E6",border:"1px solid #E0E0E0",ringColor:i===w.id?"#F68B24":"transparent"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",style:{color:"#36454F"},children:w.name}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:w.specialties})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-medium",style:{color:"#4CAF50"},children:[w.rating," (",w.reviews," reviews)"]})})]})},w.id))]})]}),o&&e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:A,disabled:m,className:"px-8 py-4 text-white font-bold rounded-xl transition-all duration-200 text-lg shadow-lg transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:m?"#8B8B8B":"#F68B24"},onMouseEnter:w=>!m&&(w.target.style.backgroundColor="#E67A1F"),onMouseLeave:w=>!m&&(w.target.style.backgroundColor="#F68B24"),children:m?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_t,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Creating Booking..."})]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ot,{className:"w-5 h-5"}),e.jsx("span",{children:"Generate Booking QR"})]})})})]})})}const qE=()=>{const[o,n]=F.useState(!1),[i,l]=F.useState(!1),c=async()=>{try{return navigator.permissions?(await navigator.permissions.query({name:"camera"})).state==="granted":!0}catch(g){return console.log("Permissions API not available:",g),!0}},d=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?{video:{facingMode:{ideal:"environment"},width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080},frameRate:{ideal:30,max:60},aspectRatio:{ideal:16/9}},audio:!1}:{video:{width:{ideal:1280},height:{ideal:720},frameRate:{ideal:30}},audio:!1};return{cameraPermissionDenied:o,setCameraPermissionDenied:n,requestingPermission:i,setRequestingPermission:l,checkCameraPermissions:c,requestCameraPermission:async()=>{l(!0),n(!1);try{let g=null;try{g=await navigator.mediaDevices.getUserMedia(d())}catch(h){console.log("Optimal constraints failed, trying fallback:",h),g=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{min:320,ideal:640},height:{min:240,ideal:480}},audio:!1})}return g&&g.getTracks().forEach(h=>h.stop()),l(!1),!0}catch(g){return console.error("Camera permission denied:",g),l(!1),g.name==="NotAllowedError"||g.name==="PermissionDeniedError"?(n(!0),{error:"Camera access denied. Please allow camera permissions and refresh the page."}):g.name==="NotFoundError"?{error:"No camera found on this device."}:g.name==="OverconstrainedError"?{error:"Camera constraints not supported. Please try a different device."}:{error:"Camera access failed. Please check your device settings."}}}}},zE=({onRetry:o})=>e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:e.jsxs("div",{className:"text-center text-white p-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#F44336"},children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.314 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Camera Access Required"}),e.jsx("p",{className:"text-sm mb-4 opacity-90",children:"This kiosk needs camera access to scan QR codes. Please:"}),e.jsxs("div",{className:"text-left text-sm mb-6 space-y-2 opacity-90",children:[e.jsx("p",{children:"1. Click the camera icon in your browser's address bar"}),e.jsx("p",{children:'2. Select "Allow" for camera access'}),e.jsx("p",{children:"3. Refresh this page"})]}),e.jsx("button",{onClick:o,className:"px-6 py-3 bg-white text-black font-bold rounded-xl transition-colors duration-200 hover:bg-gray-100",children:"Try Again"})]})}),VE=({requestingPermission:o})=>e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-t-transparent rounded-full animate-spin mx-auto mb-3",style:{borderColor:"#F68B24",borderTopColor:"transparent"}}),e.jsx("p",{className:"text-lg font-medium",children:o?"Requesting Camera Access...":"Initializing Camera..."}),e.jsx("p",{className:"text-sm mt-2",style:{color:"#F68B24",opacity:.8},children:o?"Please allow camera access in the popup":"Please allow camera access"})]})}),QE=({onQRDetected:o,scannerError:n,setScannerError:i,showCamera:l,setShowCamera:c})=>{const d=F.useRef(null),m=F.useRef(null),{cameraPermissionDenied:g,setCameraPermissionDenied:h,requestingPermission:f,checkCameraPermissions:E,requestCameraPermission:p}=qE(),v=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?{highlightScanRegion:!0,highlightCodeOutline:!0,preferredCamera:"environment",maxScansPerSecond:3,calculateScanRegion:A=>{const Q=Math.min(A.videoWidth,A.videoHeight),w=Math.floor(Q*.6),j=Math.floor((A.videoWidth-w)/2),M=Math.floor((A.videoHeight-w)/2);return{x:j,y:M,width:w,height:w}}}:{highlightScanRegion:!0,highlightCodeOutline:!0,preferredCamera:"environment",maxScansPerSecond:5},b=async()=>{try{if(!d.current)return;if(!await E()){const Q=await p();if(Q?.error){i(Q.error);return}}const A=d.current;A.setAttribute("playsinline","true"),A.setAttribute("webkit-playsinline","true"),A.setAttribute("muted","true"),A.setAttribute("autoplay","true"),A.style.touchAction="manipulation",m.current=new Ae(A,async Q=>{console.log("QR Code detected:",Q.data),navigator.vibrate&&navigator.vibrate(100),await o(Q.data)},v()),await m.current.start(),c(!0),h(!1),i("")}catch(_){console.error("Error starting camera:",_),_.name==="NotAllowedError"||_.name==="PermissionDeniedError"?(h(!0),i("Camera access denied. Please allow camera permissions in your browser settings.")):_.name==="NotFoundError"?i("No camera found on this device."):_.name==="OverconstrainedError"?i("Camera settings not supported on this device. Please try a different browser."):i("Failed to start camera. Please refresh the page and try again.")}},B=()=>{m.current&&(m.current.stop(),m.current.destroy(),m.current=null),c(!1)};F.useEffect(()=>(b(),()=>{B()}),[]);const y=async()=>{h(!1),i(""),await b()};return e.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden",style:{aspectRatio:"16/9"},children:[e.jsx("video",{ref:d,className:"w-full h-full object-cover",playsInline:!0,"webkit-playsinline":"true",muted:!0,autoPlay:!0,style:{touchAction:"manipulation",WebkitTransform:"translateZ(0)",transform:"translateZ(0)"}}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"w-64 h-64 border-4 rounded-2xl relative",style:{borderColor:"#F68B24",opacity:.8},children:[e.jsx("div",{className:"absolute -top-1 -left-1 w-6 h-6 border-t-4 border-l-4 rounded-tl-2xl",style:{borderColor:"#F68B24"}}),e.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 border-t-4 border-r-4 rounded-tr-2xl",style:{borderColor:"#F68B24"}}),e.jsx("div",{className:"absolute -bottom-1 -left-1 w-6 h-6 border-b-4 border-l-4 rounded-bl-2xl",style:{borderColor:"#F68B24"}}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 border-b-4 border-r-4 rounded-br-2xl",style:{borderColor:"#F68B24"}}),e.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-2xl",children:e.jsx("div",{className:"absolute w-full h-1 animate-pulse",style:{top:"50%",transform:"translateY(-50%)",background:"linear-gradient(to right, transparent, #F68B24, transparent)"}})})]}),e.jsx("div",{className:"absolute -bottom-16 left-1/2 transform -translate-x-1/2 text-center",children:e.jsx("p",{className:"text-white text-lg font-medium bg-black/50 px-4 py-2 rounded-full backdrop-blur-sm",children:"Position QR code within frame"})})]})}),!l&&!g&&e.jsx(VE,{requestingPermission:f}),g&&e.jsx(zE,{onRetry:y})]})]})},HE=({scannedBooking:o,onDone:n,onValidateAndConfirm:i,isProcessingBooking:l})=>{if(console.log("BookingDetails rendering with:",o),!o)return null;const c=m=>{switch(m){case"confirmed":return"text-green-700 bg-green-100 border-green-200";case"pending":return"text-yellow-700 bg-yellow-100 border-yellow-200";case"completed":return"text-blue-700 bg-blue-100 border-blue-200";case"cancelled":return"text-red-700 bg-red-100 border-red-200";case"scanned":return"text-blue-700 bg-blue-100 border-blue-200";default:return"text-gray-700 bg-gray-100 border-gray-200"}},d=m=>{switch(m){case"confirmed":case"pending":return e.jsx(ze,{className:"w-5 h-5 text-green-600"});case"completed":return e.jsx(ze,{className:"w-5 h-5 text-blue-600"});case"cancelled":case"invalid":return e.jsx(tt,{className:"w-5 h-5 text-red-600"});case"scanned":return e.jsx(ot,{className:"w-5 h-5 text-blue-600"});default:return e.jsx(tt,{className:"w-5 h-5 text-gray-600"})}};return e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg",style:{border:"1px solid #E0E0E0"},children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:d(o.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-black text-[#1A1A1A] font-mono",children:o.id}),e.jsx("span",{className:`px-3 py-1 text-sm font-bold rounded-full border-2 uppercase ${c(o.status)}`,children:o.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Re,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Customer:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:o.customer})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ot,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Service:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:o.service?.name})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Te,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Date & Time:"}),e.jsxs("p",{className:"text-[#1A1A1A] font-semibold",children:[o.date," at ",o.time]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Re,{className:"w-4 h-4 text-[#6B6B6B]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Staff:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:o.barber?.name})]})]})]})]}),o.phone!=="N/A"&&e.jsxs("div",{className:"mt-4 pt-3 border-t border-[#F5F5F5]",children:[e.jsx("span",{className:"font-bold text-[#6B6B6B] text-sm",children:"Phone:"}),e.jsx("p",{className:"text-[#1A1A1A] font-semibold",children:o.phone})]}),o.status==="confirmed"&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:e.jsx("p",{className:"text-green-800 font-bold text-sm",children:" Booking confirmed - Ready for service!"})}),o.status==="scanned"&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:e.jsx("p",{className:"text-blue-800 font-bold text-sm",children:" Booking scanned - Ready to validate"})}),o.status==="pending"&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-xl",children:e.jsx("p",{className:"text-yellow-800 font-bold text-sm",children:" Confirming booking..."})}),o.status==="completed"&&e.jsx("div",{className:"mt-4 p-3 bg-gray-50 border border-gray-200 rounded-xl",children:e.jsx("p",{className:"text-gray-800 font-bold text-sm",children:" This booking has already been completed"})}),o.status==="cancelled"&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-red-800 font-bold text-sm",children:" This booking has been cancelled"})})]})]}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-4 border-t border-[#F5F5F5]",children:[o.status==="scanned"&&i&&e.jsx("button",{onClick:i,className:"px-8 bg-[#F68B24] hover:bg-[#E67A1A] text-white font-semibold py-3 rounded-xl transition-colors duration-200 flex items-center space-x-2",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Validating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),"Validate & Confirm Booking"]})}),e.jsx("button",{onClick:n,className:"px-8 border-[#6B6B6B] text-[#6B6B6B] hover:bg-[#6B6B6B] hover:text-white py-3 rounded-xl border-2 transition-colors duration-200",disabled:l,children:o.status==="confirmed"?"Continue":"Back to Scanner"})]})]})})};function $E(){const[o,n]=F.useState("home"),[i,l]=F.useState(""),[c,d]=F.useState(""),[m,g]=F.useState(""),[h,f]=F.useState(!1),[E,p]=F.useState(!1),[v,b]=F.useState(null),[B,y]=F.useState(!1),[_,A]=F.useState(""),[Q,w]=F.useState(!1),j=Ne(ue.services.bookings.updateBooking);F.useEffect(()=>{(async()=>{try{const z=await St.toDataURL("https://tpx-booking-app.vercel.app//download",{width:200,margin:1,color:{dark:"#36454F",light:"#FFFFFF"}});g(z)}catch(D){console.error("Error generating app download QR:",D)}})()},[]);const M=U=>{n(U),U==="home"&&(b(null),A(""),y(!1),w(!1))},k=async()=>{if(!v||!v.id){A("No booking to validate.");return}try{w(!0),A(""),await j({id:v.id,status:"confirmed"}),console.log("Booking confirmed successfully");const U={...v,status:"confirmed"};b(U),A("")}catch(U){console.error("Error confirming booking:",U),A("Failed to confirm booking. Please try again.")}finally{w(!1)}},T=async U=>{console.log("Kiosk QR Data:",U),y(!0),A("");try{let D=null;if(U.startsWith("{"))try{D=JSON.parse(U),console.log("Parsed booking data:",D)}catch{A("Invalid QR code format."),y(!1);return}else{A("Invalid QR code format. Expected JSON data."),y(!1);return}if(!D.bookingId){A("Missing booking ID in QR code."),y(!1);return}const z={id:D.bookingId,booking_code:D.bookingCode||"N/A",customer:"Customer",service:{name:D.service||"N/A"},date:D.date||"N/A",time:D.time||"N/A",barber:{name:D.barber||"N/A"},status:"scanned",phone:"N/A",barbershop:D.barbershop||"N/A"};console.log("Setting scannedBooking:",z),b(z),y(!1),console.log("Scanner loading set to false")}catch(D){console.error("Error processing booking QR code:",D),A("Failed to process booking QR code. Please try again."),y(!1)}};return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F4F0E6"},children:[e.jsx("style",{children:`
        @media screen and (max-width: 768px) {
          .kiosk-container {
            padding: 1rem;
          }
          .camera-container {
            aspect-ratio: 4/3;
            max-height: 60vh;
          }
        }
        
        /* Prevent zoom on mobile */
        input, select, textarea {
          font-size: 16px !important;
        }
        
        /* Mobile-specific styles */
        @media screen and (max-device-width: 768px) {
          .mobile-optimized {
            -webkit-user-select: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
          }
        }
      `}),e.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[e.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#F68B24"},children:e.jsx("span",{className:"text-white font-bold text-lg md:text-xl",children:"T"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold",style:{color:"#36454F"},children:"TipunoX Angeles Barbershop"}),e.jsx("p",{className:"text-xs md:text-sm",style:{color:"#8B8B8B"},children:"Self-Service Kiosk"})]})]}),e.jsx(Ds,{to:"/login",className:"px-3 py-2 md:px-4 md:py-2 text-white rounded-xl transition-colors duration-200 flex items-center space-x-2 text-sm md:text-base",style:{backgroundColor:"#36454F"},onMouseEnter:U=>U.target.style.backgroundColor="#2A3640",onMouseLeave:U=>U.target.style.backgroundColor="#36454F",children:e.jsx("span",{children:"Back to Login"})})]}),e.jsxs("div",{className:"max-w-6xl mx-auto kiosk-container mobile-optimized",children:[o==="home"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",style:{border:"1px solid #E0E0E0"},children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"#36454F"},children:"Live Camera Feed"}),e.jsx("p",{className:"text-base",style:{color:"#8B8B8B"},children:"Point your camera at a QR code to scan automatically"})]}),e.jsx("div",{className:"relative",style:{minHeight:"300px"},children:e.jsx(QE,{onQRDetected:T,scannerError:_,setScannerError:A,showCamera:E,setShowCamera:p})}),Q&&e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(_t,{className:"w-6 h-6 text-[#F68B24] animate-spin"}),e.jsx("span",{className:"text-[#6B6B6B] font-medium",children:"Processing booking..."})]})}),_&&e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4 mt-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(tt,{className:"w-6 h-6 text-red-600"}),e.jsx("p",{className:"text-red-800 font-bold",children:_})]})})]}),v&&e.jsx(HE,{scannedBooking:v,onDone:()=>{b(null),A(""),y(!1),w(!1)},onValidateAndConfirm:k,isProcessingBooking:Q}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg",style:{border:"1px solid #E0E0E0"},children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto",style:{backgroundColor:"#F0F8FF",border:"2px solid #4CAF50"},children:e.jsx(ot,{className:"w-8 h-8",style:{color:"#4CAF50"}})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#36454F"},children:"Scan Your Booking QR"}),e.jsx("p",{style:{color:"#8B8B8B"},children:"Point the camera above at your booking QR code to confirm your appointment"})]}),B&&e.jsx("div",{className:"rounded-lg p-4",style:{backgroundColor:"#F0F8FF",border:"1px solid #4CAF50"},children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-t-transparent rounded-full animate-spin",style:{borderColor:"#4CAF50",borderTopColor:"transparent"}}),e.jsx("p",{className:"font-medium",style:{color:"#4CAF50"},children:"Validating Booking..."})]})}),_&&e.jsx("div",{className:"rounded-lg p-4",style:{backgroundColor:"#FEE",border:"1px solid #FCC"},children:e.jsx("p",{className:"text-red-600 text-sm font-medium text-center",children:_})}),!B&&!_&&e.jsxs("div",{className:"rounded-lg p-4",style:{backgroundColor:"#F0F8FF",border:"1px solid #E0E0E0"},children:[e.jsx("h4",{className:"font-medium mb-2",style:{color:"#36454F"},children:"Instructions:"}),e.jsxs("ul",{className:"text-sm space-y-1 text-left",style:{color:"#8B8B8B"},children:[e.jsx("li",{children:" Hold your phone steady"}),e.jsx("li",{children:" Ensure good lighting"}),e.jsx("li",{children:" Keep QR code within the camera frame above"}),e.jsx("li",{children:" Wait for automatic detection"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg transition-all duration-300 transform hover:scale-105",style:{border:"1px solid #E0E0E0"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",style:{backgroundColor:"#36454F"},children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),e.jsx("h2",{className:"text-xl font-bold mb-3",style:{color:"#36454F"},children:"Download Our App"}),e.jsx("p",{className:"mb-4 text-base",style:{color:"#8B8B8B"},children:"Get exclusive vouchers and loyalty rewards"}),e.jsx("div",{className:"rounded-xl p-3 mb-4 mx-auto w-fit",style:{backgroundColor:"#F4F0E6",border:"1px solid #E0E0E0"},children:e.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center overflow-hidden",style:{backgroundColor:"#FFFFFF"},children:m?e.jsx("img",{src:m,alt:"Download App QR Code",className:"w-full h-full object-contain"}):e.jsx("div",{className:"text-xs text-center",style:{color:"#8B8B8B"},children:"Loading..."})})}),e.jsx("p",{className:"text-sm",style:{color:"#8B8B8B"},children:"Scan to download and unlock exclusive offers!"})]})})]}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg transition-all duration-300 transform hover:scale-105",style:{border:"1px solid #E0E0E0"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",style:{backgroundColor:"#F68B24"},children:e.jsx(ot,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-xl font-bold mb-3",style:{color:"#36454F"},children:"Book Appointment"}),e.jsx("p",{className:"mb-4 text-base",style:{color:"#8B8B8B"},children:"Schedule your service and get a QR confirmation"}),e.jsx("button",{onClick:()=>M("generate"),className:"w-full py-3 text-white font-bold rounded-xl transition-all duration-200 text-base shadow-lg transform hover:scale-105",style:{backgroundColor:"#F68B24"},onMouseEnter:U=>U.target.style.backgroundColor="#E67A1F",onMouseLeave:U=>U.target.style.backgroundColor="#F68B24",children:"Book Now"})]})})]}),o==="generate"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",style:{color:"#36454F"},children:"Book & Generate QR"}),e.jsx("button",{onClick:()=>M("home"),className:"px-4 py-2 text-white rounded-xl transition-colors duration-200 flex items-center space-x-2",style:{backgroundColor:"#36454F"},onMouseEnter:U=>U.target.style.backgroundColor="#2A3640",onMouseLeave:U=>U.target.style.backgroundColor="#36454F",children:e.jsx("span",{children:" Back"})})]}),e.jsx(UE,{})]})]})]})}function YE(){return e.jsx(S6,{children:e.jsx(v6,{children:e.jsx("div",{className:"min-h-screen bg-gray-light",children:e.jsxs(J1,{children:[e.jsx(Xs,{path:"/",element:e.jsx(il,{to:"/auth/login",replace:!0})}),e.jsx(Xs,{path:"/auth/login",element:e.jsx(Nh,{children:e.jsx(_6,{})})}),e.jsx(Xs,{path:"/auth/register",element:e.jsx(Nh,{children:e.jsx(M6,{})})}),e.jsx(Xs,{path:"/staff/dashboard",element:e.jsx(Mo,{requireStaff:!0,children:e.jsx(FE,{})})}),e.jsx(Xs,{path:"/customer/dashboard",element:e.jsx(Mo,{children:e.jsx(hf,{})})}),e.jsx(Xs,{path:"/customer/booking",element:e.jsx(Mo,{children:e.jsx(OE,{})})}),e.jsx(Xs,{path:"/customer/client",element:e.jsx(Mo,{children:e.jsx(hf,{})})}),e.jsx(Xs,{path:"/kiosk",element:e.jsx($E,{})})]})})})})}const GE=new e1("https://woozy-whale-1.convex.cloud");R9.createRoot(document.getElementById("root")).render(e.jsx(F.StrictMode,{children:e.jsx(s1,{client:GE,children:e.jsx(YE,{})})}));
